-- phpMyAdmin SQL Dump
-- version 3.3.7
-- http://www.phpmyadmin.net
--
-- 主机: localhost
-- 生成日期: 2015 年 09 月 08 日 12:00
-- 服务器版本: 5.0.90
-- PHP 版本: 5.2.14

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- 数据库: `php_scan`
--

-- --------------------------------------------------------

--
-- 表的结构 `del_paths`
--

CREATE TABLE IF NOT EXISTS `del_paths` (
  `id` int(11) NOT NULL auto_increment,
  `md5` text character set utf8 NOT NULL,
  `points_id` text character set utf8 NOT NULL,
  `lines_id` text character set utf8 NOT NULL,
  `check` int(11) NOT NULL,
  `start_file` text character set utf8 NOT NULL,
  `start_line` int(11) NOT NULL,
  `end_file` text character set utf8 NOT NULL,
  `end_line` int(11) NOT NULL,
  `remark` text character set utf8 NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `del_paths`
--


-- --------------------------------------------------------

--
-- 表的结构 `files`
--

CREATE TABLE IF NOT EXISTS `files` (
  `id` int(11) NOT NULL auto_increment,
  `file` text character set utf8 NOT NULL,
  `edit` int(11) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=6 ;

--
-- 转存表中的数据 `files`
--

INSERT INTO `files` (`id`, `file`, `edit`) VALUES
(1, '/index.php', 0),
(2, '/forum.php', 0),
(3, '/source/class/class_core.php', 0),
(4, '/source/class/discuz/discuz_application.php', 0),
(5, '/source/function/function_core.php', 0);

-- --------------------------------------------------------

--
-- 表的结构 `functions`
--

CREATE TABLE IF NOT EXISTS `functions` (
  `id` int(11) NOT NULL auto_increment,
  `file` text NOT NULL,
  `file_id` int(11) NOT NULL,
  `name` text NOT NULL,
  `points` text NOT NULL,
  `remark` text NOT NULL,
  `paths` text NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=11 ;

--
-- 转存表中的数据 `functions`
--

INSERT INTO `functions` (`id`, `file`, `file_id`, `name`, `points`, `remark`, `paths`) VALUES
(2, '/source/function/function_core.php', 5, 'function durlencode($url) {', '1301#1302#1303#1304#1305', '', 'a:1:{i:0;a:2:{s:4:"path";a:2:{i:0;s:4:"1301";i:1;s:4:"1302";}s:3:"end";b:0;}}'),
(10, '/source/function/function_core.php', 5, 'function getglobal($key, $group = null) {', '1329#1330#1331#1332#1333#1334#1335#1336#1337#1338#1339#1340', '', 'a:1:{i:0;a:2:{s:4:"path";a:10:{i:0;s:4:"1329";i:1;s:4:"1330";i:2;s:4:"1331";i:3;s:4:"1332";i:4;s:4:"1333";i:5;s:4:"1334";i:6;s:4:"1335";i:7;s:4:"1336";i:8;s:4:"1337";i:9;s:4:"1338";}s:3:"end";b:0;}}'),
(6, '/source/function/function_core.php', 5, 'function durlencode($url) {', '1301#1302#1303#1304#1305', '', ''),
(7, '/source/function/function_core.php', 5, 'function system_error($message, $show = true, $save = true, $halt = true) {', '1307#1308#1309', '', ''),
(8, '/source/function/function_core.php', 5, 'function updatesession() {', '1311#1312#1313', '', ''),
(9, '/source/function/function_core.php', 5, 'function setglobal($key , $value, $group = null) {', '1315#1316#1317#1318#1319#1320#1321#1322#1323#1324#1325#1326#1327', '', '');

-- --------------------------------------------------------

--
-- 表的结构 `lines`
--

CREATE TABLE IF NOT EXISTS `lines` (
  `id` int(11) NOT NULL auto_increment,
  `point_u_id` int(11) NOT NULL,
  `point_v_id` int(11) NOT NULL,
  `variables_ids` text character set utf8 NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=46 ;

--
-- 转存表中的数据 `lines`
--

INSERT INTO `lines` (`id`, `point_u_id`, `point_v_id`, `variables_ids`) VALUES
(-1, -1, -1, 'a:0:{}'),
(1, 10, 13, 'a:0:{}'),
(2, 13, 18, 'a:0:{}'),
(3, 19, 21, 'a:1:{i:0;s:1:"1";}'),
(4, 21, 120, 'a:0:{}'),
(5, 120, 129, 'a:1:{i:0;s:1:"2";}'),
(6, 129, 167, 'a:1:{i:0;s:1:"3";}'),
(7, 167, 171, 'a:0:{}'),
(8, 239, 246, 'a:0:{}'),
(9, 246, 248, 'a:0:{}'),
(10, 248, 253, 'a:0:{}'),
(11, 253, 261, 'a:0:{}'),
(12, 261, 274, 'a:0:{}'),
(13, 274, 487, 'a:0:{}'),
(14, 487, 495, 'a:0:{}'),
(15, 495, 496, 'a:0:{}'),
(16, 496, 515, 'a:0:{}'),
(17, 522, 528, 'a:0:{}'),
(18, 528, 1267, 'a:0:{}'),
(19, 1267, 530, 'a:0:{}'),
(20, 530, 534, 'a:0:{}'),
(21, 534, 541, 'a:0:{}'),
(22, 541, 1593, 'a:0:{}'),
(23, 1593, 543, 'a:0:{}'),
(24, 543, 549, 'a:0:{}'),
(25, 549, 560, 'a:0:{}'),
(26, 560, 817, 'a:0:{}'),
(27, 817, 561, 'a:0:{}'),
(28, 561, 617, 'a:0:{}'),
(29, 617, 642, 'a:0:{}'),
(30, 642, 1489, 'a:0:{}'),
(31, 1489, 618, 'a:0:{}'),
(32, 618, 627, 'a:0:{}'),
(33, 627, 1489, 'a:0:{}'),
(34, 1489, 629, 'a:0:{}'),
(35, 629, 630, 'a:0:{}'),
(36, 630, 497, 'a:0:{}'),
(37, 497, 713, 'a:0:{}'),
(38, 713, 715, 'a:0:{}'),
(39, 715, 716, 'a:0:{}'),
(40, 716, 717, 'a:0:{}'),
(41, 717, 718, 'a:1:{i:0;s:1:"4";}'),
(42, 718, 719, 'a:1:{i:0;s:1:"5";}'),
(43, 18, 19, 'a:0:{}'),
(44, 171, 239, 'a:0:{}'),
(45, 515, 522, 'a:0:{}');

-- --------------------------------------------------------

--
-- 表的结构 `paths`
--

CREATE TABLE IF NOT EXISTS `paths` (
  `id` int(11) NOT NULL auto_increment,
  `md5` text character set utf8 NOT NULL,
  `points_id` text character set utf8 NOT NULL,
  `lines_id` text character set utf8 NOT NULL,
  `check` int(11) NOT NULL,
  `start_file` text character set utf8 NOT NULL,
  `start_line` int(11) NOT NULL,
  `end_file` text character set utf8 NOT NULL,
  `end_line` int(11) NOT NULL,
  `remark` text character set utf8 NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `paths`
--


-- --------------------------------------------------------

--
-- 表的结构 `points`
--

CREATE TABLE IF NOT EXISTS `points` (
  `id` int(11) NOT NULL auto_increment,
  `file` text character set utf8 NOT NULL,
  `file_id` int(11) NOT NULL,
  `line_number` int(11) NOT NULL,
  `level` int(11) default '-3',
  `position` int(11) default '-3',
  `content` text character set utf8 NOT NULL,
  `role_id` int(11) NOT NULL default '-1',
  `db_action` text character set utf8 NOT NULL,
  `db_line` text character set utf8 NOT NULL,
  `remark` text character set utf8 NOT NULL,
  `is_function` int(11) NOT NULL,
  `functions_line` text NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3382 ;

--
-- 转存表中的数据 `points`
--

INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(1, '/index.php', 1, 1, -2, -2, '<?php\r\n\r\n\r\n/**\r\n\r\n *      [Discuz!] (C)2001-2099 Comsenz Inc.\r\n\r\n *      This is NOT a freeware, use is subject to license terms\r\n\r\n *\r\n\r\n *      $Id: index.php 34524 2014-05-15 04:42:23Z nemohou $\r\n\r\n */\r\n\r\n\r\n', -1, '', '', '', 0, ''),
(2, '/index.php', 1, 2, -2, -2, '', -1, '', '', '', 0, ''),
(3, '/index.php', 1, 3, -2, -2, '/**', -1, '', '', '', 0, ''),
(4, '/index.php', 1, 4, -2, -2, ' *      [Discuz!] (C)2001-2099 Comsenz Inc.', -1, '', '', '', 0, ''),
(5, '/index.php', 1, 5, -2, -2, ' *      This is NOT a freeware, use is subject to license terms', -1, '', '', '', 0, ''),
(6, '/index.php', 1, 6, -2, -2, ' *', -1, '', '', '', 0, ''),
(7, '/index.php', 1, 7, -2, -2, ' *      $Id: index.php 34524 2014-05-15 04:42:23Z nemohou $', -1, '', '', '', 0, ''),
(8, '/index.php', 1, 8, -2, -2, ' */', -1, '', '', '', 0, ''),
(9, '/index.php', 1, 9, -2, -2, '', -1, '', '', '', 0, ''),
(10, '/index.php', 1, 10, 0, 1, 'if(!empty($_SERVER[''QUERY_STRING'']) && is_numeric($_SERVER[''QUERY_STRING''])) {', 1, '', '', '', 0, 'a:5:{i:0;s:1:"2";i:1;s:1:"6";i:4;s:1:"7";i:5;s:1:"8";i:6;s:1:"9";}'),
(11, '/index.php', 1, 11, -3, -3, '	$_ENV[''curapp''] = ''home'';\r\n	$_GET = array(''mod''=>''space'', ''uid''=>$_SERVER[''QUERY_STRING'']);\r\n', -1, '', '', '', 0, 'a:1:{i:0;s:1:"6";}'),
(12, '/index.php', 1, 12, -2, -2, '	$_GET = array(''mod''=>''space'', ''uid''=>$_SERVER[''QUERY_STRING'']);', -1, '', '', '', 0, ''),
(13, '/index.php', 1, 13, 0, 0, '} else {\r\n\r\n	$url = '''';\r\n\r\n	$domain = $_ENV = array();\r\n\r\n	$jump = false;\r\n\r\n', 1, '', '', '', 0, ''),
(14, '/index.php', 1, 14, -2, -2, '\r\n	$url = '''';\r\n\r\n	$domain = $_ENV = array();\r\n\r\n	$jump = false;\r\n', -1, '', '', '', 0, ''),
(15, '/index.php', 1, 15, -2, -2, '	$url = '''';', -1, '', '', '', 0, ''),
(16, '/index.php', 1, 16, -2, -2, '	$domain = $_ENV = array();', -1, '', '', '', 0, ''),
(17, '/index.php', 1, 17, -2, -2, '	$jump = false;', -1, '', '', '', 0, ''),
(18, '/index.php', 1, 18, 1, 0, '	@include_once ''./data/sysdata/cache_domain.php'';', 1, '', '', '', 0, ''),
(19, '/index.php', 1, 19, 0, 0, '	$_ENV[''domain''] = $domain;\r\n	if(empty($_ENV[''domain''])) {\r\n', 1, '', '', '', 0, ''),
(20, '/index.php', 1, 20, -2, -2, '	if(empty($_ENV[''domain''])) {', -1, '', '', '', 0, ''),
(21, '/index.php', 1, 21, 0, 0, '		$_ENV[''curapp''] = ''forum'';', 1, '', '', '', 0, ''),
(22, '/index.php', 1, 22, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(23, '/index.php', 1, 23, -3, -3, '		$_ENV[''defaultapp''] = array(''portal.php'' => ''portal'', ''forum.php'' => ''forum'', ''group.php'' => ''group'', ''home.php'' => ''home'');', -1, '', '', '', 0, ''),
(24, '/index.php', 1, 24, -3, -3, '		$_ENV[''hostarr''] = explode(''.'', $_SERVER[''HTTP_HOST'']);', -1, '', '', '', 0, ''),
(25, '/index.php', 1, 25, -3, -3, '		$_ENV[''domainroot''] = substr($_SERVER[''HTTP_HOST''], strpos($_SERVER[''HTTP_HOST''], ''.'')+1);', -1, '', '', '', 0, ''),
(26, '/index.php', 1, 26, -3, -3, '		if(!empty($_ENV[''domain''][''app'']) && is_array($_ENV[''domain''][''app'']) && in_array($_SERVER[''HTTP_HOST''], $_ENV[''domain''][''app''])) {', -1, '', '', '', 0, ''),
(27, '/index.php', 1, 27, -3, -3, '			$_ENV[''curapp''] = array_search($_SERVER[''HTTP_HOST''], $_ENV[''domain''][''app'']);', -1, '', '', '', 0, ''),
(28, '/index.php', 1, 28, -3, -3, '			if($_ENV[''curapp''] == ''mobile'') {', -1, '', '', '', 0, ''),
(29, '/index.php', 1, 29, -3, -3, '				$_ENV[''curapp''] = ''forum'';', -1, '', '', '', 0, ''),
(30, '/index.php', 1, 30, -3, -3, '				if(!isset($_GET[''mobile''])) {', -1, '', '', '', 0, ''),
(31, '/index.php', 1, 31, -3, -3, '					@$_GET[''mobile''] = ''2'';', -1, '', '', '', 0, ''),
(32, '/index.php', 1, 32, -3, -3, '				}', -1, '', '', '', 0, ''),
(33, '/index.php', 1, 33, -3, -3, '			}', -1, '', '', '', 0, ''),
(34, '/index.php', 1, 34, -3, -3, '			if($_ENV[''curapp''] == ''default'' || !isset($_ENV[''defaultapp''][$_ENV[''curapp''].''.php''])) {', -1, '', '', '', 0, ''),
(35, '/index.php', 1, 35, -3, -3, '				$_ENV[''curapp''] = '''';', -1, '', '', '', 0, ''),
(36, '/index.php', 1, 36, -3, -3, '			}', -1, '', '', '', 0, ''),
(37, '/index.php', 1, 37, -3, -3, '		} elseif(!empty($_ENV[''domain''][''root'']) && is_array($_ENV[''domain''][''root'']) && in_array($_ENV[''domainroot''], $_ENV[''domain''][''root''])) {', -1, '', '', '', 0, ''),
(38, '/index.php', 1, 38, -3, -3, '', -1, '', '', '', 0, ''),
(39, '/index.php', 1, 39, -3, -3, '			$_G[''setting''][''holddomain''] = $_ENV[''domain''][''holddomain''] ? $_ENV[''domain''][''holddomain''] : array(''www'');', -1, '', '', '', 0, ''),
(40, '/index.php', 1, 40, -3, -3, '			$list = $_ENV[''domain''][''list''];', -1, '', '', '', 0, ''),
(41, '/index.php', 1, 41, -3, -3, '			if(isset($list[$_SERVER[''HTTP_HOST'']])) {', -1, '', '', '', 0, ''),
(42, '/index.php', 1, 42, -3, -3, '				$domain = $list[$_SERVER[''HTTP_HOST'']];', -1, '', '', '', 0, ''),
(43, '/index.php', 1, 43, -3, -3, '				switch($domain[''idtype'']) {', -1, '', '', '', 0, ''),
(44, '/index.php', 1, 44, -3, -3, '					case ''subarea'':', -1, '', '', '', 0, ''),
(45, '/index.php', 1, 45, -3, -3, '						$_ENV[''curapp''] = ''forum'';', -1, '', '', '', 0, ''),
(46, '/index.php', 1, 46, -3, -3, '						$_GET[''gid''] = intval($domain[''id'']);', -1, '', '', '', 0, ''),
(47, '/index.php', 1, 47, -3, -3, '						break;', -1, '', '', '', 0, ''),
(48, '/index.php', 1, 48, -3, -3, '					case ''forum'':', -1, '', '', '', 0, ''),
(49, '/index.php', 1, 49, -3, -3, '						$_ENV[''curapp''] = ''forum'';', -1, '', '', '', 0, ''),
(50, '/index.php', 1, 50, -3, -3, '						$_GET[''mod''] = ''forumdisplay'';', -1, '', '', '', 0, ''),
(51, '/index.php', 1, 51, -3, -3, '						$_GET[''fid''] = intval($domain[''id'']);', -1, '', '', '', 0, ''),
(52, '/index.php', 1, 52, -3, -3, '						break;', -1, '', '', '', 0, ''),
(53, '/index.php', 1, 53, -3, -3, '					case ''topic'':', -1, '', '', '', 0, ''),
(54, '/index.php', 1, 54, -3, -3, '						$_ENV[''curapp''] = ''portal'';', -1, '', '', '', 0, ''),
(55, '/index.php', 1, 55, -3, -3, '						$_GET[''mod''] = ''topic'';', -1, '', '', '', 0, ''),
(56, '/index.php', 1, 56, -3, -3, '						$_GET[''topicid''] = intval($domain[''id'']);', -1, '', '', '', 0, ''),
(57, '/index.php', 1, 57, -3, -3, '						break;', -1, '', '', '', 0, ''),
(58, '/index.php', 1, 58, -3, -3, '					case ''channel'':', -1, '', '', '', 0, ''),
(59, '/index.php', 1, 59, -3, -3, '						$_ENV[''curapp''] = ''portal'';', -1, '', '', '', 0, ''),
(60, '/index.php', 1, 60, -3, -3, '						$_GET[''mod''] = ''list'';', -1, '', '', '', 0, ''),
(61, '/index.php', 1, 61, -3, -3, '						$_GET[''catid''] = intval($domain[''id'']);', -1, '', '', '', 0, ''),
(62, '/index.php', 1, 62, -3, -3, '						break;', -1, '', '', '', 0, ''),
(63, '/index.php', 1, 63, -3, -3, '					case ''plugin'':', -1, '', '', '', 0, ''),
(64, '/index.php', 1, 64, -3, -3, '						$_ENV[''curapp''] = ''plugin'';', -1, '', '', '', 0, ''),
(65, '/index.php', 1, 65, -3, -3, '						$_GET[''id''] = $domain[''id''];', -1, '', '', '', 0, ''),
(66, '/index.php', 1, 66, -3, -3, '						$_GET[''fromapp''] = ''index'';', -1, '', '', '', 0, ''),
(67, '/index.php', 1, 67, -3, -3, '						break;', -1, '', '', '', 0, ''),
(68, '/index.php', 1, 68, -3, -3, '				}', -1, '', '', '', 0, ''),
(69, '/index.php', 1, 69, -3, -3, '			} elseif(count($_ENV[''hostarr'']) > 2 && $_ENV[''hostarr''][0] != ''www'' && !checkholddomain($_ENV[''hostarr''][0])) {', -1, '', '', '', 0, ''),
(70, '/index.php', 1, 70, -3, -3, '				$_ENV[''prefixdomain''] = addslashes($_ENV[''hostarr''][0]);', -1, '', '', '', 0, ''),
(71, '/index.php', 1, 71, -3, -3, '				$_ENV[''domainroot''] = addslashes($_ENV[''domainroot'']);', -1, '', '', '', 0, ''),
(72, '/index.php', 1, 72, -3, -3, '				require_once ''./source/class/class_core.php'';', -1, '', '', '', 0, ''),
(73, '/index.php', 1, 73, -3, -3, '				C::app()->init_setting = true;', -1, '', '', '', 0, ''),
(74, '/index.php', 1, 74, -3, -3, '				C::app()->init_user = false;', -1, '', '', '', 0, ''),
(75, '/index.php', 1, 75, -3, -3, '				C::app()->init_session = false;', -1, '', '', '', 0, ''),
(76, '/index.php', 1, 76, -3, -3, '				C::app()->init_cron = false;', -1, '', '', '', 0, ''),
(77, '/index.php', 1, 77, -3, -3, '				C::app()->init_misc = false;', -1, '', '', '', 0, ''),
(78, '/index.php', 1, 78, -3, -3, '				C::app()->init();', -1, '', '', '', 0, ''),
(79, '/index.php', 1, 79, -3, -3, '				$jump = true;', -1, '', '', '', 0, ''),
(80, '/index.php', 1, 80, -3, -3, '				$domain = C::t(''common_domain'')->fetch_by_domain_domainroot($_ENV[''prefixdomain''], $_ENV[''domainroot'']);', -1, '', '', '', 0, ''),
(81, '/index.php', 1, 81, -3, -3, '				$apphost = $_ENV[''domain''][''app''][$domain[''idtype'']] ? $_ENV[''domain''][''app''][$domain[''idtype'']] : $_ENV[''domain''][''app''][''default''];', -1, '', '', '', 0, ''),
(82, '/index.php', 1, 82, -3, -3, '				$apphost = $apphost ? ''http://''.$apphost.''/'' : '''';', -1, '', '', '', 0, ''),
(83, '/index.php', 1, 83, -3, -3, '				switch($domain[''idtype'']) {', -1, '', '', '', 0, ''),
(84, '/index.php', 1, 84, -3, -3, '					case ''home'':', -1, '', '', '', 0, ''),
(85, '/index.php', 1, 85, -3, -3, '						if($_G[''setting''][''rewritestatus''] && in_array(''home_space'', $_G[''setting''][''rewritestatus''])) {', -1, '', '', '', 0, ''),
(86, '/index.php', 1, 86, -3, -3, '							$url = rewriteoutput(''home_space'', 1, $apphost, $domain[''id'']);', -1, '', '', '', 0, ''),
(87, '/index.php', 1, 87, -3, -3, '						} else {', -1, '', '', '', 0, ''),
(88, '/index.php', 1, 88, -3, -3, '							$url = $apphost.''home.php?mod=space&uid=''.$domain[''id''];', -1, '', '', '', 0, ''),
(89, '/index.php', 1, 89, -3, -3, '						}', -1, '', '', '', 0, ''),
(90, '/index.php', 1, 90, -3, -3, '						break;', -1, '', '', '', 0, ''),
(91, '/index.php', 1, 91, -3, -3, '					case ''group'':', -1, '', '', '', 0, ''),
(92, '/index.php', 1, 92, -3, -3, '						if($_G[''setting''][''rewritestatus''] && in_array(''group_group'', $_G[''setting''][''rewritestatus''])) {', -1, '', '', '', 0, ''),
(93, '/index.php', 1, 93, -3, -3, '							$url = rewriteoutput(''group_group'', 1, $apphost, $domain[''id'']);', -1, '', '', '', 0, ''),
(94, '/index.php', 1, 94, -3, -3, '						} else {', -1, '', '', '', 0, ''),
(95, '/index.php', 1, 95, -3, -3, '							$url = $apphost.''forum.php?mod=group&fid=''.$domain[''id''].''&page=1'';', -1, '', '', '', 0, ''),
(96, '/index.php', 1, 96, -3, -3, '						}', -1, '', '', '', 0, ''),
(97, '/index.php', 1, 97, -3, -3, '						break;', -1, '', '', '', 0, ''),
(98, '/index.php', 1, 98, -3, -3, '				}', -1, '', '', '', 0, ''),
(99, '/index.php', 1, 99, -3, -3, '			}', -1, '', '', '', 0, ''),
(100, '/index.php', 1, 100, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(101, '/index.php', 1, 101, -3, -3, '			$jump = true;', -1, '', '', '', 0, ''),
(102, '/index.php', 1, 102, -3, -3, '		}', -1, '', '', '', 0, ''),
(103, '/index.php', 1, 103, -3, -3, '		if(empty($url) && empty($_ENV[''curapp''])) {', -1, '', '', '', 0, ''),
(104, '/index.php', 1, 104, -3, -3, '			if(!empty($_ENV[''domain''][''defaultindex'']) && !$jump) {', -1, '', '', '', 0, ''),
(105, '/index.php', 1, 105, -3, -3, '				if($_ENV[''defaultapp''][$_ENV[''domain''][''defaultindex'']]) {', -1, '', '', '', 0, ''),
(106, '/index.php', 1, 106, -3, -3, '					$_ENV[''curapp''] = $_ENV[''defaultapp''][$_ENV[''domain''][''defaultindex'']];', -1, '', '', '', 0, ''),
(107, '/index.php', 1, 107, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(108, '/index.php', 1, 108, -3, -3, '					$url = $_ENV[''domain''][''defaultindex''];', -1, '', '', '', 0, ''),
(109, '/index.php', 1, 109, -3, -3, '				}', -1, '', '', '', 0, ''),
(110, '/index.php', 1, 110, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(111, '/index.php', 1, 111, -3, -3, '				if($jump) {', -1, '', '', '', 0, ''),
(112, '/index.php', 1, 112, -3, -3, '					$url = empty($_ENV[''domain''][''app''][''default'']) ? (!empty($_ENV[''domain''][''defaultindex'']) ? $_ENV[''domain''][''defaultindex''] : ''forum.php'') : ''http://''.$_ENV[''domain''][''app''][''default''];', -1, '', '', '', 0, ''),
(113, '/index.php', 1, 113, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(114, '/index.php', 1, 114, -3, -3, '					$_ENV[''curapp''] = ''forum'';', -1, '', '', '', 0, ''),
(115, '/index.php', 1, 115, -3, -3, '				}', -1, '', '', '', 0, ''),
(116, '/index.php', 1, 116, -3, -3, '			}', -1, '', '', '', 0, ''),
(117, '/index.php', 1, 117, -3, -3, '		}', -1, '', '', '', 0, ''),
(118, '/index.php', 1, 118, -3, -3, '	}', -1, '', '', '', 0, ''),
(119, '/index.php', 1, 119, -3, -3, '}', -1, '', '', '', 0, ''),
(120, '/index.php', 1, 120, 0, 0, 'if(!empty($url)) {', 1, '', '', '', 0, ''),
(121, '/index.php', 1, 121, -3, -3, '	$delimiter = strrpos($url, ''?'') ? ''&'' : ''?'';', -1, '', '', '', 0, ''),
(122, '/index.php', 1, 122, -3, -3, '	if(isset($_GET[''fromuid'']) && $_GET[''fromuid'']) {', -1, '', '', '', 0, ''),
(123, '/index.php', 1, 123, -3, -3, '		$url .= sprintf(''%sfromuid=%d'', $delimiter, $_GET[''fromuid'']);', -1, '', '', '', 0, ''),
(124, '/index.php', 1, 124, -3, -3, '	} elseif(isset($_GET[''fromuser'']) && $_GET[''fromuser'']) {', -1, '', '', '', 0, ''),
(125, '/index.php', 1, 125, -3, -3, '		$url .= sprintf(''%sfromuser=%s'', $delimiter, rawurlencode($_GET[''fromuser'']));', -1, '', '', '', 0, ''),
(126, '/index.php', 1, 126, -3, -3, '	}', -1, '', '', '', 0, ''),
(127, '/index.php', 1, 127, -3, -3, '	header("HTTP/1.1 301 Moved Permanently");', -1, '', '', '', 0, ''),
(128, '/index.php', 1, 128, -3, -3, '	header("location: $url");', -1, '', '', '', 0, ''),
(129, '/index.php', 1, 129, 1, 0, '} else {\r\n	require ''./''.$_ENV[''curapp''].''.php'';\r\n\r\n}\r\n', 1, '', '', '', 0, ''),
(130, '/index.php', 1, 130, -2, -2, '	require ''./''.$_ENV[''curapp''].''.php'';', -1, '', '', '', 0, ''),
(131, '/index.php', 1, 131, -2, -2, '}', -1, '', '', '', 0, ''),
(132, '/index.php', 1, 132, -3, -3, '', -1, '', '', '', 0, ''),
(133, '/index.php', 1, 133, -3, -3, 'function checkholddomain($domain) {', -1, '', '', '', 0, ''),
(134, '/index.php', 1, 134, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(135, '/index.php', 1, 135, -3, -3, '', -1, '', '', '', 0, ''),
(136, '/index.php', 1, 136, -3, -3, '	$domain = strtolower($domain);', -1, '', '', '', 0, ''),
(137, '/index.php', 1, 137, -3, -3, '	if(preg_match("/^[^a-z]/i", $domain)) return true;', -1, '', '', '', 0, ''),
(138, '/index.php', 1, 138, -3, -3, '	$holdmainarr = empty($_G[''setting''][''holddomain'']) ? array(''www'') : explode(''|'', $_G[''setting''][''holddomain'']);', -1, '', '', '', 0, ''),
(139, '/index.php', 1, 139, -3, -3, '	$ishold = false;', -1, '', '', '', 0, ''),
(140, '/index.php', 1, 140, -3, -3, '	foreach ($holdmainarr as $value) {', -1, '', '', '', 0, ''),
(141, '/index.php', 1, 141, -3, -3, '		if(strpos($value, ''*'') === false) {', -1, '', '', '', 0, ''),
(142, '/index.php', 1, 142, -3, -3, '			if(strtolower($value) == $domain) {', -1, '', '', '', 0, ''),
(143, '/index.php', 1, 143, -3, -3, '				$ishold = true;', -1, '', '', '', 0, ''),
(144, '/index.php', 1, 144, -3, -3, '				break;', -1, '', '', '', 0, ''),
(145, '/index.php', 1, 145, -3, -3, '			}', -1, '', '', '', 0, ''),
(146, '/index.php', 1, 146, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(147, '/index.php', 1, 147, -3, -3, '			$value = str_replace(''*'', ''.*?'', $value);', -1, '', '', '', 0, ''),
(148, '/index.php', 1, 148, -3, -3, '			if(@preg_match("/$value/i", $domain)) {', -1, '', '', '', 0, ''),
(149, '/index.php', 1, 149, -3, -3, '				$ishold = true;', -1, '', '', '', 0, ''),
(150, '/index.php', 1, 150, -3, -3, '				break;', -1, '', '', '', 0, ''),
(151, '/index.php', 1, 151, -3, -3, '			}', -1, '', '', '', 0, ''),
(152, '/index.php', 1, 152, -3, -3, '		}', -1, '', '', '', 0, ''),
(153, '/index.php', 1, 153, -3, -3, '	}', -1, '', '', '', 0, ''),
(154, '/index.php', 1, 154, -3, -3, '	return $ishold;', -1, '', '', '', 0, ''),
(155, '/index.php', 1, 155, -3, -3, '}', -1, '', '', '', 0, ''),
(156, '/index.php', 1, 156, -3, -3, '?>', -1, '', '', '', 0, ''),
(157, '/forum.php', 2, 1, -2, -2, '<?php\r\n\r\n\r\n/**\r\n\r\n *      [Discuz!] (C)2001-2099 Comsenz Inc.\r\n\r\n *      This is NOT a freeware, use is subject to license terms\r\n\r\n *\r\n\r\n *      $Id: forum.php 33828 2013-08-20 02:29:32Z nemohou $\r\n\r\n */\r\n\r\n\r\n', -1, '', '', '', 0, ''),
(158, '/forum.php', 2, 2, -2, -2, '', -1, '', '', '', 0, ''),
(159, '/forum.php', 2, 3, -2, -2, '/**', -1, '', '', '', 0, ''),
(160, '/forum.php', 2, 4, -2, -2, ' *      [Discuz!] (C)2001-2099 Comsenz Inc.', -1, '', '', '', 0, ''),
(161, '/forum.php', 2, 5, -2, -2, ' *      This is NOT a freeware, use is subject to license terms', -1, '', '', '', 0, ''),
(162, '/forum.php', 2, 6, -2, -2, ' *', -1, '', '', '', 0, ''),
(163, '/forum.php', 2, 7, -2, -2, ' *      $Id: forum.php 33828 2013-08-20 02:29:32Z nemohou $', -1, '', '', '', 0, ''),
(164, '/forum.php', 2, 8, -2, -2, ' */', -1, '', '', '', 0, ''),
(165, '/forum.php', 2, 9, -2, -2, '', -1, '', '', '', 0, ''),
(166, '/forum.php', 2, 10, -2, -2, '', -1, '', '', '', 0, ''),
(167, '/forum.php', 2, 11, 0, 1, 'define(''APPTYPEID'', 2);\r\ndefine(''CURSCRIPT'', ''forum'');\r\n', 1, '', '', '', 0, ''),
(168, '/forum.php', 2, 12, -2, -2, 'define(''CURSCRIPT'', ''forum'');', -1, '', '', '', 0, ''),
(169, '/forum.php', 2, 13, -2, -2, '\r\n\r\n', -1, '', '', '', 0, ''),
(170, '/forum.php', 2, 14, -2, -2, '', -1, '', '', '', 0, ''),
(171, '/forum.php', 2, 15, 1, 0, 'require ''./source/class/class_core.php'';', 1, '', '', '', 0, ''),
(172, '/forum.php', 2, 16, -2, -2, '\r\n\r\n', -1, '', '', '', 0, ''),
(173, '/forum.php', 2, 17, -2, -2, '', -1, '', '', '', 0, ''),
(174, '/forum.php', 2, 18, -3, -3, 'require ''./source/function/function_forum.php'';', -1, '', '', '', 0, ''),
(175, '/forum.php', 2, 19, -2, -2, '\r\n\r\n', -1, '', '', '', 0, ''),
(176, '/forum.php', 2, 20, -2, -2, '', -1, '', '', '', 0, ''),
(177, '/forum.php', 2, 21, -3, -3, '$modarray = array(''ajax'',''announcement'',''attachment'',''forumdisplay'',', -1, '', '', '', 0, ''),
(178, '/forum.php', 2, 22, -3, -3, '	''group'',''image'',''index'',''medal'',''misc'',''modcp'',''notice'',''post'',''redirect'',', -1, '', '', '', 0, ''),
(179, '/forum.php', 2, 23, -3, -3, '	''relatekw'',''relatethread'',''rss'',''topicadmin'',''trade'',''viewthread'',''tag'',''collection'',''guide''', -1, '', '', '', 0, ''),
(180, '/forum.php', 2, 24, -3, -3, ');', -1, '', '', '', 0, ''),
(181, '/forum.php', 2, 25, -3, -3, '', -1, '', '', '', 0, ''),
(182, '/forum.php', 2, 26, -3, -3, '$modcachelist = array(', -1, '', '', '', 0, ''),
(183, '/forum.php', 2, 27, -3, -3, '	''index''		=> array(''announcements'', ''onlinelist'', ''forumlinks'',', -1, '', '', '', 0, ''),
(184, '/forum.php', 2, 28, -3, -3, '			''heats'', ''historyposts'', ''onlinerecord'', ''userstats'', ''diytemplatenameforum''),', -1, '', '', '', 0, ''),
(185, '/forum.php', 2, 29, -3, -3, '	''forumdisplay''	=> array(''smilies'', ''announcements_forum'', ''globalstick'', ''forums'',', -1, '', '', '', 0, ''),
(186, '/forum.php', 2, 30, -3, -3, '			''onlinelist'', ''forumstick'', ''threadtable_info'', ''threadtableids'', ''stamps'', ''diytemplatenameforum''),', -1, '', '', '', 0, ''),
(187, '/forum.php', 2, 31, -3, -3, '	''viewthread''	=> array(''smilies'', ''smileytypes'', ''forums'', ''usergroups'',', -1, '', '', '', 0, ''),
(188, '/forum.php', 2, 32, -3, -3, '			''stamps'', ''bbcodes'', ''smilies'',	''custominfo'', ''groupicon'', ''stamps'',', -1, '', '', '', 0, ''),
(189, '/forum.php', 2, 33, -3, -3, '			''threadtableids'', ''threadtable_info'', ''posttable_info'', ''diytemplatenameforum''),', -1, '', '', '', 0, ''),
(190, '/forum.php', 2, 34, -3, -3, '	''redirect''	=> array(''threadtableids'', ''threadtable_info'', ''posttable_info''),', -1, '', '', '', 0, ''),
(191, '/forum.php', 2, 35, -3, -3, '	''post''		=> array(''bbcodes_display'', ''bbcodes'', ''smileycodes'', ''smilies'', ''smileytypes'',', -1, '', '', '', 0, ''),
(192, '/forum.php', 2, 36, -3, -3, '			''domainwhitelist'', ''albumcategory''),', -1, '', '', '', 0, ''),
(193, '/forum.php', 2, 37, -3, -3, '	''space''		=> array(''fields_required'', ''fields_optional'', ''custominfo''),', -1, '', '', '', 0, ''),
(194, '/forum.php', 2, 38, -3, -3, '	''group''		=> array(''grouptype'', ''diytemplatenamegroup''),', -1, '', '', '', 0, ''),
(195, '/forum.php', 2, 39, -3, -3, ');', -1, '', '', '', 0, ''),
(196, '/forum.php', 2, 40, -3, -3, '', -1, '', '', '', 0, ''),
(197, '/forum.php', 2, 41, -3, -3, '$mod = !in_array(C::app()->var[''mod''], $modarray) ? ''index'' : C::app()->var[''mod''];', -1, '', '', '', 0, ''),
(198, '/forum.php', 2, 42, -3, -3, '', -1, '', '', '', 0, ''),
(199, '/forum.php', 2, 43, -3, -3, 'define(''CURMODULE'', $mod);', -1, '', '', '', 0, ''),
(200, '/forum.php', 2, 44, -3, -3, '$cachelist = array();', -1, '', '', '', 0, ''),
(201, '/forum.php', 2, 45, -3, -3, 'if(isset($modcachelist[CURMODULE])) {', -1, '', '', '', 0, ''),
(202, '/forum.php', 2, 46, -3, -3, '	$cachelist = $modcachelist[CURMODULE];', -1, '', '', '', 0, ''),
(203, '/forum.php', 2, 47, -3, -3, '', -1, '', '', '', 0, ''),
(204, '/forum.php', 2, 48, -3, -3, '	$cachelist[] = ''plugin'';', -1, '', '', '', 0, ''),
(205, '/forum.php', 2, 49, -3, -3, '	$cachelist[] = ''pluginlanguage_system'';', -1, '', '', '', 0, ''),
(206, '/forum.php', 2, 50, -3, -3, '}', -1, '', '', '', 0, ''),
(207, '/forum.php', 2, 51, -3, -3, 'if(C::app()->var[''mod''] == ''group'') {', -1, '', '', '', 0, ''),
(208, '/forum.php', 2, 52, -3, -3, '	$_G[''basescript''] = ''group'';', -1, '', '', '', 0, ''),
(209, '/forum.php', 2, 53, -3, -3, '}', -1, '', '', '', 0, ''),
(210, '/forum.php', 2, 54, -3, -3, '', -1, '', '', '', 0, ''),
(211, '/forum.php', 2, 55, -3, -3, 'C::app()->cachelist = $cachelist;', -1, '', '', '', 0, ''),
(212, '/forum.php', 2, 56, -3, -3, 'C::app()->init();', -1, '', '', '', 0, ''),
(213, '/forum.php', 2, 57, -3, -3, '', -1, '', '', '', 0, ''),
(214, '/forum.php', 2, 58, -3, -3, '', -1, '', '', '', 0, ''),
(215, '/forum.php', 2, 59, -3, -3, 'loadforum();', -1, '', '', '', 0, ''),
(216, '/forum.php', 2, 60, -3, -3, '', -1, '', '', '', 0, ''),
(217, '/forum.php', 2, 61, -3, -3, '', -1, '', '', '', 0, ''),
(218, '/forum.php', 2, 62, -3, -3, 'set_rssauth();', -1, '', '', '', 0, ''),
(219, '/forum.php', 2, 63, -3, -3, '', -1, '', '', '', 0, ''),
(220, '/forum.php', 2, 64, -3, -3, '', -1, '', '', '', 0, ''),
(221, '/forum.php', 2, 65, -3, -3, 'runhooks();', -1, '', '', '', 0, ''),
(222, '/forum.php', 2, 66, -3, -3, '', -1, '', '', '', 0, ''),
(223, '/forum.php', 2, 67, -3, -3, '', -1, '', '', '', 0, ''),
(224, '/forum.php', 2, 68, -3, -3, '', -1, '', '', '', 0, ''),
(225, '/forum.php', 2, 69, -3, -3, '$navtitle = str_replace(''{bbname}'', $_G[''setting''][''bbname''], $_G[''setting''][''seotitle''][''forum'']);', -1, '', '', '', 0, ''),
(226, '/forum.php', 2, 70, -3, -3, '$_G[''setting''][''threadhidethreshold''] = 1;', -1, '', '', '', 0, ''),
(227, '/forum.php', 2, 71, -3, -3, 'require DISCUZ_ROOT.''./source/module/forum/forum_''.$mod.''.php'';', -1, '', '', '', 0, ''),
(228, '/forum.php', 2, 72, -3, -3, '', -1, '', '', '', 0, ''),
(229, '/forum.php', 2, 73, -3, -3, '?>', -1, '', '', '', 0, ''),
(230, '/source/class/class_core.php', 3, 1, -2, -2, '<?php\r\n\r\n\r\n/**\r\n\r\n *      [Discuz!] (C)2001-2099 Comsenz Inc.\r\n\r\n *      This is NOT a freeware, use is subject to license terms\r\n\r\n *\r\n\r\n *      $Id: class_core.php 33982 2013-09-12 06:36:35Z hypowang $\r\n\r\n */\r\n\r\n\r\n', -1, '', '', '', 0, ''),
(231, '/source/class/class_core.php', 3, 2, -2, -2, '', -1, '', '', '', 0, ''),
(232, '/source/class/class_core.php', 3, 3, -2, -2, '/**', -1, '', '', '', 0, ''),
(233, '/source/class/class_core.php', 3, 4, -2, -2, ' *      [Discuz!] (C)2001-2099 Comsenz Inc.', -1, '', '', '', 0, ''),
(234, '/source/class/class_core.php', 3, 5, -2, -2, ' *      This is NOT a freeware, use is subject to license terms', -1, '', '', '', 0, ''),
(235, '/source/class/class_core.php', 3, 6, -2, -2, ' *', -1, '', '', '', 0, ''),
(236, '/source/class/class_core.php', 3, 7, -2, -2, ' *      $Id: class_core.php 33982 2013-09-12 06:36:35Z hypowang $', -1, '', '', '', 0, ''),
(237, '/source/class/class_core.php', 3, 8, -2, -2, ' */', -1, '', '', '', 0, ''),
(238, '/source/class/class_core.php', 3, 9, -2, -2, '', -1, '', '', '', 0, ''),
(239, '/source/class/class_core.php', 3, 10, 0, 1, 'error_reporting(E_ALL);\r\ndefine(''IN_DISCUZ'', true);\r\n\r\ndefine(''DISCUZ_ROOT'', substr(dirname(__FILE__), 0, -12));\r\n\r\ndefine(''DISCUZ_CORE_DEBUG'', false);\r\n\r\ndefine(''DISCUZ_TABLE_EXTENDABLE'', false);\r\n', 1, '', '', '', 0, ''),
(240, '/source/class/class_core.php', 3, 11, -2, -2, '', -1, '', '', '', 0, ''),
(241, '/source/class/class_core.php', 3, 12, -2, -2, 'define(''IN_DISCUZ'', true);', -1, '', '', '', 0, ''),
(242, '/source/class/class_core.php', 3, 13, -2, -2, 'define(''DISCUZ_ROOT'', substr(dirname(__FILE__), 0, -12));', -1, '', '', '', 0, ''),
(243, '/source/class/class_core.php', 3, 14, -2, -2, 'define(''DISCUZ_CORE_DEBUG'', false);', -1, '', '', '', 0, ''),
(244, '/source/class/class_core.php', 3, 15, -2, -2, 'define(''DISCUZ_TABLE_EXTENDABLE'', false);', -1, '', '', '', 0, ''),
(245, '/source/class/class_core.php', 3, 16, -2, -2, '', -1, '', '', '', 0, ''),
(246, '/source/class/class_core.php', 3, 17, 0, 0, 'set_exception_handler(array(''core'', ''handleException''));', 1, '', '', '设置异常处理函数。', 0, ''),
(247, '/source/class/class_core.php', 3, 18, -2, -2, '', -1, '', '', '', 0, ''),
(248, '/source/class/class_core.php', 3, 19, 0, 0, 'if(DISCUZ_CORE_DEBUG) {\r\n	set_error_handler(array(''core'', ''handleError''));\r\n\r\n	register_shutdown_function(array(''core'', ''handleShutdown''));\r\n\r\n}\r\n', 1, '', '', '开启debug模式。', 0, ''),
(249, '/source/class/class_core.php', 3, 20, -2, -2, '	set_error_handler(array(''core'', ''handleError''));', -1, '', '', '', 0, ''),
(250, '/source/class/class_core.php', 3, 21, -2, -2, '	register_shutdown_function(array(''core'', ''handleShutdown''));', -1, '', '', '', 0, ''),
(251, '/source/class/class_core.php', 3, 22, -2, -2, '}', -1, '', '', '', 0, ''),
(252, '/source/class/class_core.php', 3, 23, -2, -2, '', -1, '', '', '', 0, ''),
(253, '/source/class/class_core.php', 3, 24, 0, 0, 'if(function_exists(''spl_autoload_register'')) {\r\n	spl_autoload_register(array(''core'', ''autoload''));\r\n\r\n} else {\r\n\r\n	function __autoload($class) {\r\n\r\n		return core::autoload($class);\r\n\r\n	}\r\n\r\n}\r\n', 1, '', '', '自动载入类', 0, ''),
(254, '/source/class/class_core.php', 3, 25, -2, -2, '	spl_autoload_register(array(''core'', ''autoload''));', -1, '', '', '', 0, ''),
(255, '/source/class/class_core.php', 3, 26, -2, -2, '} else {', -1, '', '', '', 0, ''),
(256, '/source/class/class_core.php', 3, 27, -2, -2, '	function __autoload($class) {', -1, '', '', '', 0, ''),
(257, '/source/class/class_core.php', 3, 28, -2, -2, '		return core::autoload($class);', -1, '', '', '', 0, ''),
(258, '/source/class/class_core.php', 3, 29, -2, -2, '	}', -1, '', '', '', 0, ''),
(259, '/source/class/class_core.php', 3, 30, -2, -2, '}', -1, '', '', '', 0, ''),
(260, '/source/class/class_core.php', 3, 31, -2, -2, '', -1, '', '', '', 0, ''),
(261, '/source/class/class_core.php', 3, 32, 0, 0, 'C::creatapp();', 1, '', '', '', 0, ''),
(262, '/source/class/class_core.php', 3, 33, -2, -2, '', -1, '', '', '', 0, ''),
(263, '/source/class/class_core.php', 3, 34, -3, -3, 'class core', -1, '', '', '', 0, ''),
(264, '/source/class/class_core.php', 3, 35, -3, -3, '{', -1, '', '', '', 0, ''),
(265, '/source/class/class_core.php', 3, 36, -3, -3, '	private static $_tables;', -1, '', '', '', 0, ''),
(266, '/source/class/class_core.php', 3, 37, -3, -3, '	private static $_imports;', -1, '', '', '', 0, ''),
(267, '/source/class/class_core.php', 3, 38, -3, -3, '	private static $_app;', -1, '', '', '', 0, ''),
(268, '/source/class/class_core.php', 3, 39, -3, -3, '	private static $_memory;', -1, '', '', '', 0, ''),
(269, '/source/class/class_core.php', 3, 40, -3, -3, '', -1, '', '', '', 0, ''),
(270, '/source/class/class_core.php', 3, 41, -3, -3, '	public static function app() {', -1, '', '', '', 0, ''),
(271, '/source/class/class_core.php', 3, 42, -3, -3, '		return self::$_app;', -1, '', '', '', 0, ''),
(272, '/source/class/class_core.php', 3, 43, -3, -3, '	}', -1, '', '', '', 0, ''),
(273, '/source/class/class_core.php', 3, 44, -2, -2, '', -1, '', '', '', 0, ''),
(274, '/source/class/class_core.php', 3, 45, 0, 0, '	public static function creatapp() {\r\n		if(!is_object(self::$_app)) {\r\n\r\n			self::$_app = discuz_application::instance();\r\n		}\r\n\r\n', 1, '', '', '', 0, ''),
(275, '/source/class/class_core.php', 3, 46, -2, -2, '		if(!is_object(self::$_app)) {', -1, '', '', '', 0, ''),
(276, '/source/class/class_core.php', 3, 47, -2, -2, '			self::$_app = discuz_application::instance();\r\n		}\r\n', -1, '', '', '', 0, ''),
(277, '/source/class/class_core.php', 3, 48, -2, -2, '		}', -1, '', '', '', 0, ''),
(278, '/source/class/class_core.php', 3, 49, -3, -3, '		return self::$_app;', -1, '', '', '', 0, ''),
(279, '/source/class/class_core.php', 3, 50, -3, -3, '	}', -1, '', '', '', 0, ''),
(280, '/source/class/class_core.php', 3, 51, -3, -3, '', -1, '', '', '', 0, ''),
(281, '/source/class/class_core.php', 3, 52, -3, -3, '	public static function t($name) {', -1, '', '', '', 0, ''),
(282, '/source/class/class_core.php', 3, 53, -3, -3, '		return self::_make_obj($name, ''table'', DISCUZ_TABLE_EXTENDABLE);', -1, '', '', '', 0, ''),
(283, '/source/class/class_core.php', 3, 54, -3, -3, '	}', -1, '', '', '', 0, ''),
(284, '/source/class/class_core.php', 3, 55, -3, -3, '', -1, '', '', '', 0, ''),
(285, '/source/class/class_core.php', 3, 56, -3, -3, '	public static function m($name) {', -1, '', '', '', 0, ''),
(286, '/source/class/class_core.php', 3, 57, -3, -3, '		$args = array();', -1, '', '', '', 0, ''),
(287, '/source/class/class_core.php', 3, 58, -3, -3, '		if(func_num_args() > 1) {', -1, '', '', '', 0, ''),
(288, '/source/class/class_core.php', 3, 59, -3, -3, '			$args = func_get_args();', -1, '', '', '', 0, ''),
(289, '/source/class/class_core.php', 3, 60, -3, -3, '			unset($args[0]);', -1, '', '', '', 0, ''),
(290, '/source/class/class_core.php', 3, 61, -3, -3, '		}', -1, '', '', '', 0, ''),
(291, '/source/class/class_core.php', 3, 62, -3, -3, '		return self::_make_obj($name, ''model'', true, $args);', -1, '', '', '', 0, ''),
(292, '/source/class/class_core.php', 3, 63, -3, -3, '	}', -1, '', '', '', 0, ''),
(293, '/source/class/class_core.php', 3, 64, -3, -3, '', -1, '', '', '', 0, ''),
(294, '/source/class/class_core.php', 3, 65, -3, -3, '	protected static function _make_obj($name, $type, $extendable = false, $p = array()) {', -1, '', '', '', 0, ''),
(295, '/source/class/class_core.php', 3, 66, -3, -3, '		$pluginid = null;', -1, '', '', '', 0, ''),
(296, '/source/class/class_core.php', 3, 67, -3, -3, '		if($name[0] === ''#'') {', -1, '', '', '', 0, ''),
(297, '/source/class/class_core.php', 3, 68, -3, -3, '			list(, $pluginid, $name) = explode(''#'', $name);', -1, '', '', '', 0, ''),
(298, '/source/class/class_core.php', 3, 69, -3, -3, '		}', -1, '', '', '', 0, ''),
(299, '/source/class/class_core.php', 3, 70, -3, -3, '		$cname = $type.''_''.$name;', -1, '', '', '', 0, ''),
(300, '/source/class/class_core.php', 3, 71, -3, -3, '		if(!isset(self::$_tables[$cname])) {', -1, '', '', '', 0, ''),
(301, '/source/class/class_core.php', 3, 72, -3, -3, '			if(!class_exists($cname, false)) {', -1, '', '', '', 0, ''),
(302, '/source/class/class_core.php', 3, 73, -3, -3, '				self::import(($pluginid ? ''plugin/''.$pluginid : ''class'').''/''.$type.''/''.$name);', -1, '', '', '', 0, ''),
(303, '/source/class/class_core.php', 3, 74, -3, -3, '			}', -1, '', '', '', 0, ''),
(304, '/source/class/class_core.php', 3, 75, -3, -3, '			if($extendable) {', -1, '', '', '', 0, ''),
(305, '/source/class/class_core.php', 3, 76, -3, -3, '				self::$_tables[$cname] = new discuz_container();', -1, '', '', '', 0, ''),
(306, '/source/class/class_core.php', 3, 77, -3, -3, '				switch (count($p)) {', -1, '', '', '', 0, ''),
(307, '/source/class/class_core.php', 3, 78, -3, -3, '					case 0:	self::$_tables[$cname]->obj = new $cname();break;', -1, '', '', '', 0, ''),
(308, '/source/class/class_core.php', 3, 79, -3, -3, '					case 1:	self::$_tables[$cname]->obj = new $cname($p[1]);break;', -1, '', '', '', 0, ''),
(309, '/source/class/class_core.php', 3, 80, -3, -3, '					case 2:	self::$_tables[$cname]->obj = new $cname($p[1], $p[2]);break;', -1, '', '', '', 0, ''),
(310, '/source/class/class_core.php', 3, 81, -3, -3, '					case 3:	self::$_tables[$cname]->obj = new $cname($p[1], $p[2], $p[3]);break;', -1, '', '', '', 0, ''),
(311, '/source/class/class_core.php', 3, 82, -3, -3, '					case 4:	self::$_tables[$cname]->obj = new $cname($p[1], $p[2], $p[3], $p[4]);break;', -1, '', '', '', 0, ''),
(312, '/source/class/class_core.php', 3, 83, -3, -3, '					case 5:	self::$_tables[$cname]->obj = new $cname($p[1], $p[2], $p[3], $p[4], $p[5]);break;', -1, '', '', '', 0, ''),
(313, '/source/class/class_core.php', 3, 84, -3, -3, '					default: $ref = new ReflectionClass($cname);self::$_tables[$cname]->obj = $ref->newInstanceArgs($p);unset($ref);break;', -1, '', '', '', 0, ''),
(314, '/source/class/class_core.php', 3, 85, -3, -3, '				}', -1, '', '', '', 0, ''),
(315, '/source/class/class_core.php', 3, 86, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(316, '/source/class/class_core.php', 3, 87, -3, -3, '				self::$_tables[$cname] = new $cname();', -1, '', '', '', 0, ''),
(317, '/source/class/class_core.php', 3, 88, -3, -3, '			}', -1, '', '', '', 0, ''),
(318, '/source/class/class_core.php', 3, 89, -3, -3, '		}', -1, '', '', '', 0, ''),
(319, '/source/class/class_core.php', 3, 90, -3, -3, '		return self::$_tables[$cname];', -1, '', '', '', 0, ''),
(320, '/source/class/class_core.php', 3, 91, -3, -3, '	}', -1, '', '', '', 0, ''),
(321, '/source/class/class_core.php', 3, 92, -3, -3, '', -1, '', '', '', 0, ''),
(322, '/source/class/class_core.php', 3, 93, -3, -3, '	public static function memory() {', -1, '', '', '', 0, ''),
(323, '/source/class/class_core.php', 3, 94, -3, -3, '		if(!self::$_memory) {', -1, '', '', '', 0, ''),
(324, '/source/class/class_core.php', 3, 95, -3, -3, '			self::$_memory = new discuz_memory();', -1, '', '', '', 0, ''),
(325, '/source/class/class_core.php', 3, 96, -3, -3, '			self::$_memory->init(self::app()->config[''memory'']);', -1, '', '', '', 0, ''),
(326, '/source/class/class_core.php', 3, 97, -3, -3, '		}', -1, '', '', '', 0, ''),
(327, '/source/class/class_core.php', 3, 98, -3, -3, '		return self::$_memory;', -1, '', '', '', 0, ''),
(328, '/source/class/class_core.php', 3, 99, -3, -3, '	}', -1, '', '', '', 0, ''),
(329, '/source/class/class_core.php', 3, 100, -3, -3, '', -1, '', '', '', 0, ''),
(330, '/source/class/class_core.php', 3, 101, -3, -3, '	public static function import($name, $folder = '''', $force = true) {', -1, '', '', '', 0, ''),
(331, '/source/class/class_core.php', 3, 102, -3, -3, '		$key = $folder.$name;', -1, '', '', '', 0, ''),
(332, '/source/class/class_core.php', 3, 103, -3, -3, '		if(!isset(self::$_imports[$key])) {', -1, '', '', '', 0, ''),
(333, '/source/class/class_core.php', 3, 104, -3, -3, '			$path = DISCUZ_ROOT.''/source/''.$folder;', -1, '', '', '', 0, ''),
(334, '/source/class/class_core.php', 3, 105, -3, -3, '			if(strpos($name, ''/'') !== false) {', -1, '', '', '', 0, ''),
(335, '/source/class/class_core.php', 3, 106, -3, -3, '				$pre = basename(dirname($name));', -1, '', '', '', 0, ''),
(336, '/source/class/class_core.php', 3, 107, -3, -3, '				$filename = dirname($name).''/''.$pre.''_''.basename($name).''.php'';', -1, '', '', '', 0, ''),
(337, '/source/class/class_core.php', 3, 108, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(338, '/source/class/class_core.php', 3, 109, -3, -3, '				$filename = $name.''.php'';', -1, '', '', '', 0, ''),
(339, '/source/class/class_core.php', 3, 110, -3, -3, '			}', -1, '', '', '', 0, ''),
(340, '/source/class/class_core.php', 3, 111, -3, -3, '', -1, '', '', '', 0, ''),
(341, '/source/class/class_core.php', 3, 112, -3, -3, '			if(is_file($path.''/''.$filename)) {', -1, '', '', '', 0, ''),
(342, '/source/class/class_core.php', 3, 113, -3, -3, '				include $path.''/''.$filename;', -1, '', '', '', 0, ''),
(343, '/source/class/class_core.php', 3, 114, -3, -3, '				self::$_imports[$key] = true;', -1, '', '', '', 0, ''),
(344, '/source/class/class_core.php', 3, 115, -3, -3, '', -1, '', '', '', 0, ''),
(345, '/source/class/class_core.php', 3, 116, -3, -3, '				return true;', -1, '', '', '', 0, ''),
(346, '/source/class/class_core.php', 3, 117, -3, -3, '			} elseif(!$force) {', -1, '', '', '', 0, ''),
(347, '/source/class/class_core.php', 3, 118, -3, -3, '				return false;', -1, '', '', '', 0, ''),
(348, '/source/class/class_core.php', 3, 119, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(349, '/source/class/class_core.php', 3, 120, -3, -3, '				throw new Exception(''Oops! System file lost: ''.$filename);', -1, '', '', '', 0, ''),
(350, '/source/class/class_core.php', 3, 121, -3, -3, '			}', -1, '', '', '', 0, ''),
(351, '/source/class/class_core.php', 3, 122, -3, -3, '		}', -1, '', '', '', 0, ''),
(352, '/source/class/class_core.php', 3, 123, -3, -3, '		return true;', -1, '', '', '', 0, ''),
(353, '/source/class/class_core.php', 3, 124, -3, -3, '	}', -1, '', '', '', 0, ''),
(354, '/source/class/class_core.php', 3, 125, -3, -3, '', -1, '', '', '', 0, ''),
(355, '/source/class/class_core.php', 3, 126, -3, -3, '	public static function handleException($exception) {', -1, '', '', '', 0, ''),
(356, '/source/class/class_core.php', 3, 127, -3, -3, '		discuz_error::exception_error($exception);', -1, '', '', '', 0, ''),
(357, '/source/class/class_core.php', 3, 128, -3, -3, '	}', -1, '', '', '', 0, ''),
(358, '/source/class/class_core.php', 3, 129, -3, -3, '', -1, '', '', '', 0, ''),
(359, '/source/class/class_core.php', 3, 130, -3, -3, '', -1, '', '', '', 0, ''),
(360, '/source/class/class_core.php', 3, 131, -3, -3, '	public static function handleError($errno, $errstr, $errfile, $errline) {', -1, '', '', '', 0, ''),
(361, '/source/class/class_core.php', 3, 132, -3, -3, '		if($errno & DISCUZ_CORE_DEBUG) {', -1, '', '', '', 0, ''),
(362, '/source/class/class_core.php', 3, 133, -3, -3, '			discuz_error::system_error($errstr, false, true, false);', -1, '', '', '', 0, ''),
(363, '/source/class/class_core.php', 3, 134, -3, -3, '		}', -1, '', '', '', 0, ''),
(364, '/source/class/class_core.php', 3, 135, -3, -3, '	}', -1, '', '', '', 0, ''),
(365, '/source/class/class_core.php', 3, 136, -3, -3, '', -1, '', '', '', 0, ''),
(366, '/source/class/class_core.php', 3, 137, -3, -3, '	public static function handleShutdown() {', -1, '', '', '', 0, ''),
(367, '/source/class/class_core.php', 3, 138, -3, -3, '		if(($error = error_get_last()) && $error[''type''] & DISCUZ_CORE_DEBUG) {', -1, '', '', '', 0, ''),
(368, '/source/class/class_core.php', 3, 139, -3, -3, '			discuz_error::system_error($error[''message''], false, true, false);', -1, '', '', '', 0, ''),
(369, '/source/class/class_core.php', 3, 140, -3, -3, '		}', -1, '', '', '', 0, ''),
(370, '/source/class/class_core.php', 3, 141, -3, -3, '	}', -1, '', '', '', 0, ''),
(371, '/source/class/class_core.php', 3, 142, -3, -3, '', -1, '', '', '', 0, ''),
(372, '/source/class/class_core.php', 3, 143, -3, -3, '	public static function autoload($class) {', -1, '', '', '', 0, ''),
(373, '/source/class/class_core.php', 3, 144, -3, -3, '		$class = strtolower($class);', -1, '', '', '', 0, ''),
(374, '/source/class/class_core.php', 3, 145, -3, -3, '		if(strpos($class, ''_'') !== false) {', -1, '', '', '', 0, ''),
(375, '/source/class/class_core.php', 3, 146, -3, -3, '			list($folder) = explode(''_'', $class);', -1, '', '', '', 0, ''),
(376, '/source/class/class_core.php', 3, 147, -3, -3, '			$file = ''class/''.$folder.''/''.substr($class, strlen($folder) + 1);', -1, '', '', '', 0, ''),
(377, '/source/class/class_core.php', 3, 148, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(378, '/source/class/class_core.php', 3, 149, -3, -3, '			$file = ''class/''.$class;', -1, '', '', '', 0, ''),
(379, '/source/class/class_core.php', 3, 150, -3, -3, '		}', -1, '', '', '', 0, ''),
(380, '/source/class/class_core.php', 3, 151, -3, -3, '', -1, '', '', '', 0, ''),
(381, '/source/class/class_core.php', 3, 152, -3, -3, '		try {', -1, '', '', '', 0, ''),
(382, '/source/class/class_core.php', 3, 153, -3, -3, '', -1, '', '', '', 0, ''),
(383, '/source/class/class_core.php', 3, 154, -3, -3, '			self::import($file);', -1, '', '', '', 0, ''),
(384, '/source/class/class_core.php', 3, 155, -3, -3, '			return true;', -1, '', '', '', 0, ''),
(385, '/source/class/class_core.php', 3, 156, -3, -3, '', -1, '', '', '', 0, ''),
(386, '/source/class/class_core.php', 3, 157, -3, -3, '		} catch (Exception $exc) {', -1, '', '', '', 0, ''),
(387, '/source/class/class_core.php', 3, 158, -3, -3, '', -1, '', '', '', 0, ''),
(388, '/source/class/class_core.php', 3, 159, -3, -3, '			$trace = $exc->getTrace();', -1, '', '', '', 0, ''),
(389, '/source/class/class_core.php', 3, 160, -3, -3, '			foreach ($trace as $log) {', -1, '', '', '', 0, ''),
(390, '/source/class/class_core.php', 3, 161, -3, -3, '				if(empty($log[''class'']) && $log[''function''] == ''class_exists'') {', -1, '', '', '', 0, ''),
(391, '/source/class/class_core.php', 3, 162, -3, -3, '					return false;', -1, '', '', '', 0, ''),
(392, '/source/class/class_core.php', 3, 163, -3, -3, '				}', -1, '', '', '', 0, ''),
(393, '/source/class/class_core.php', 3, 164, -3, -3, '			}', -1, '', '', '', 0, ''),
(394, '/source/class/class_core.php', 3, 165, -3, -3, '			discuz_error::exception_error($exc);', -1, '', '', '', 0, ''),
(395, '/source/class/class_core.php', 3, 166, -3, -3, '		}', -1, '', '', '', 0, ''),
(396, '/source/class/class_core.php', 3, 167, -3, -3, '	}', -1, '', '', '', 0, ''),
(397, '/source/class/class_core.php', 3, 168, -3, -3, '', -1, '', '', '', 0, ''),
(398, '/source/class/class_core.php', 3, 169, -3, -3, '	public static function analysisStart($name){', -1, '', '', '', 0, ''),
(399, '/source/class/class_core.php', 3, 170, -3, -3, '		$key = ''other'';', -1, '', '', '', 0, ''),
(400, '/source/class/class_core.php', 3, 171, -3, -3, '		if($name[0] === ''#'') {', -1, '', '', '', 0, ''),
(401, '/source/class/class_core.php', 3, 172, -3, -3, '			list(, $key, $name) = explode(''#'', $name);', -1, '', '', '', 0, ''),
(402, '/source/class/class_core.php', 3, 173, -3, -3, '		}', -1, '', '', '', 0, ''),
(403, '/source/class/class_core.php', 3, 174, -3, -3, '		if(!isset($_ENV[''analysis''])) {', -1, '', '', '', 0, ''),
(404, '/source/class/class_core.php', 3, 175, -3, -3, '			$_ENV[''analysis''] = array();', -1, '', '', '', 0, ''),
(405, '/source/class/class_core.php', 3, 176, -3, -3, '		}', -1, '', '', '', 0, ''),
(406, '/source/class/class_core.php', 3, 177, -3, -3, '		if(!isset($_ENV[''analysis''][$key])) {', -1, '', '', '', 0, ''),
(407, '/source/class/class_core.php', 3, 178, -3, -3, '			$_ENV[''analysis''][$key] = array();', -1, '', '', '', 0, ''),
(408, '/source/class/class_core.php', 3, 179, -3, -3, '			$_ENV[''analysis''][$key][''sum''] = 0;', -1, '', '', '', 0, ''),
(409, '/source/class/class_core.php', 3, 180, -3, -3, '		}', -1, '', '', '', 0, ''),
(410, '/source/class/class_core.php', 3, 181, -3, -3, '		$_ENV[''analysis''][$key][$name][''start''] = microtime(TRUE);', -1, '', '', '', 0, ''),
(411, '/source/class/class_core.php', 3, 182, -3, -3, '		$_ENV[''analysis''][$key][$name][''start_memory_get_usage''] = memory_get_usage();', -1, '', '', '', 0, ''),
(412, '/source/class/class_core.php', 3, 183, -3, -3, '		$_ENV[''analysis''][$key][$name][''start_memory_get_real_usage''] = memory_get_usage(true);', -1, '', '', '', 0, ''),
(413, '/source/class/class_core.php', 3, 184, -3, -3, '		$_ENV[''analysis''][$key][$name][''start_memory_get_peak_usage''] = memory_get_peak_usage();', -1, '', '', '', 0, ''),
(414, '/source/class/class_core.php', 3, 185, -3, -3, '		$_ENV[''analysis''][$key][$name][''start_memory_get_peak_real_usage''] = memory_get_peak_usage(true);', -1, '', '', '', 0, ''),
(415, '/source/class/class_core.php', 3, 186, -3, -3, '	}', -1, '', '', '', 0, ''),
(416, '/source/class/class_core.php', 3, 187, -3, -3, '', -1, '', '', '', 0, ''),
(417, '/source/class/class_core.php', 3, 188, -3, -3, '	public static function analysisStop($name) {', -1, '', '', '', 0, ''),
(418, '/source/class/class_core.php', 3, 189, -3, -3, '		$key = ''other'';', -1, '', '', '', 0, ''),
(419, '/source/class/class_core.php', 3, 190, -3, -3, '		if($name[0] === ''#'') {', -1, '', '', '', 0, ''),
(420, '/source/class/class_core.php', 3, 191, -3, -3, '			list(, $key, $name) = explode(''#'', $name);', -1, '', '', '', 0, ''),
(421, '/source/class/class_core.php', 3, 192, -3, -3, '		}', -1, '', '', '', 0, ''),
(422, '/source/class/class_core.php', 3, 193, -3, -3, '		if(isset($_ENV[''analysis''][$key][$name][''start''])) {', -1, '', '', '', 0, ''),
(423, '/source/class/class_core.php', 3, 194, -3, -3, '			$diff = round((microtime(TRUE) - $_ENV[''analysis''][$key][$name][''start'']) * 1000, 5);', -1, '', '', '', 0, ''),
(424, '/source/class/class_core.php', 3, 195, -3, -3, '			$_ENV[''analysis''][$key][$name][''time''] = $diff;', -1, '', '', '', 0, ''),
(425, '/source/class/class_core.php', 3, 196, -3, -3, '			$_ENV[''analysis''][$key][''sum''] = $_ENV[''analysis''][$key][''sum''] + $diff;', -1, '', '', '', 0, ''),
(426, '/source/class/class_core.php', 3, 197, -3, -3, '			unset($_ENV[''analysis''][$key][$name][''start'']);', -1, '', '', '', 0, ''),
(427, '/source/class/class_core.php', 3, 198, -3, -3, '			$_ENV[''analysis''][$key][$name][''stop_memory_get_usage''] = memory_get_usage();', -1, '', '', '', 0, ''),
(428, '/source/class/class_core.php', 3, 199, -3, -3, '			$_ENV[''analysis''][$key][$name][''stop_memory_get_real_usage''] = memory_get_usage(true);', -1, '', '', '', 0, ''),
(429, '/source/class/class_core.php', 3, 200, -3, -3, '			$_ENV[''analysis''][$key][$name][''stop_memory_get_peak_usage''] = memory_get_peak_usage();', -1, '', '', '', 0, ''),
(430, '/source/class/class_core.php', 3, 201, -3, -3, '			$_ENV[''analysis''][$key][$name][''stop_memory_get_peak_real_usage''] = memory_get_peak_usage(true);', -1, '', '', '', 0, ''),
(431, '/source/class/class_core.php', 3, 202, -3, -3, '		}', -1, '', '', '', 0, ''),
(432, '/source/class/class_core.php', 3, 203, -3, -3, '		return $_ENV[''analysis''][$key][$name];', -1, '', '', '', 0, ''),
(433, '/source/class/class_core.php', 3, 204, -3, -3, '	}', -1, '', '', '', 0, ''),
(434, '/source/class/class_core.php', 3, 205, -3, -3, '}', -1, '', '', '', 0, ''),
(435, '/source/class/class_core.php', 3, 206, -3, -3, '', -1, '', '', '', 0, ''),
(436, '/source/class/class_core.php', 3, 207, -3, -3, 'class C extends core {}', -1, '', '', '', 0, ''),
(437, '/source/class/class_core.php', 3, 208, -3, -3, 'class DB extends discuz_database {}', -1, '', '', '', 0, ''),
(438, '/source/class/class_core.php', 3, 209, -3, -3, '', -1, '', '', '', 0, ''),
(439, '/source/class/class_core.php', 3, 210, -3, -3, '?>', -1, '', '', '', 0, ''),
(440, '/source/class/discuz/discuz_application.php', 4, 1, -2, -2, '<?php\r\n\r\n\r\n/**\r\n\r\n *      [Discuz!] (C)2001-2099 Comsenz Inc.\r\n\r\n *      This is NOT a freeware, use is subject to license terms\r\n\r\n *\r\n\r\n *      $Id: discuz_application.php 34608 2014-06-11 02:07:39Z nemohou $\r\n\r\n */\r\n\r\n\r\n', -1, '', '', '', 0, ''),
(441, '/source/class/discuz/discuz_application.php', 4, 2, -2, -2, '', -1, '', '', '', 0, ''),
(442, '/source/class/discuz/discuz_application.php', 4, 3, -2, -2, '/**', -1, '', '', '', 0, ''),
(443, '/source/class/discuz/discuz_application.php', 4, 4, -2, -2, ' *      [Discuz!] (C)2001-2099 Comsenz Inc.', -1, '', '', '', 0, ''),
(444, '/source/class/discuz/discuz_application.php', 4, 5, -2, -2, ' *      This is NOT a freeware, use is subject to license terms', -1, '', '', '', 0, ''),
(445, '/source/class/discuz/discuz_application.php', 4, 6, -2, -2, ' *', -1, '', '', '', 0, ''),
(446, '/source/class/discuz/discuz_application.php', 4, 7, -2, -2, ' *      $Id: discuz_application.php 34608 2014-06-11 02:07:39Z nemohou $', -1, '', '', '', 0, ''),
(447, '/source/class/discuz/discuz_application.php', 4, 8, -2, -2, ' */', -1, '', '', '', 0, ''),
(448, '/source/class/discuz/discuz_application.php', 4, 9, -2, -2, '', -1, '', '', '', 0, ''),
(449, '/source/class/discuz/discuz_application.php', 4, 10, -3, -3, 'if(!defined(''IN_DISCUZ'')) {\r\n	exit(''Access Denied'');\r\n\r\n}\r\n', -1, '', '', '', 0, ''),
(450, '/source/class/discuz/discuz_application.php', 4, 11, -2, -2, '	exit(''Access Denied'');', -1, '', '', '', 0, ''),
(451, '/source/class/discuz/discuz_application.php', 4, 12, -2, -2, '}', -1, '', '', '', 0, ''),
(452, '/source/class/discuz/discuz_application.php', 4, 13, -2, -2, '', -1, '', '', '', 0, ''),
(453, '/source/class/discuz/discuz_application.php', 4, 14, -3, -3, 'class discuz_application extends discuz_base{', -1, '', '', '', 0, ''),
(454, '/source/class/discuz/discuz_application.php', 4, 15, -2, -2, '', -1, '', '', '', 0, ''),
(455, '/source/class/discuz/discuz_application.php', 4, 16, -2, -2, '', -1, '', '', '', 0, ''),
(456, '/source/class/discuz/discuz_application.php', 4, 17, -3, -3, '	var $mem = null;\r\n	var $session = null;\r\n\r\n	var $config = array();\r\n\r\n	var $var = array();\r\n\r\n	var $cachelist = array();\r\n\r\n	var $init_db = true;\r\n\r\n	var $init_setting = true;\r\n\r\n	var $init_user = true;\r\n\r\n	var $init_session = true;\r\n\r\n	var $init_cron = true;\r\n\r\n	var $init_misc = true;\r\n\r\n	var $init_mobile = true;\r\n\r\n	var $initated = false;\r\n\r\n	var $superglobal = array(\r\n\r\n		''GLOBALS'' => 1,\r\n\r\n		''_GET'' => 1,\r\n\r\n		''_POST'' => 1,\r\n\r\n		''_REQUEST'' => 1,\r\n\r\n		''_COOKIE'' => 1,\r\n\r\n		''_SERVER'' => 1,\r\n\r\n		''_ENV'' => 1,\r\n\r\n		''_FILES'' => 1,\r\n\r\n	);\r\n', -1, '', '', '', 0, ''),
(457, '/source/class/discuz/discuz_application.php', 4, 18, -2, -2, '', -1, '', '', '', 0, ''),
(458, '/source/class/discuz/discuz_application.php', 4, 19, -2, -2, '	var $session = null;', -1, '', '', '', 0, ''),
(459, '/source/class/discuz/discuz_application.php', 4, 20, -2, -2, '', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(460, '/source/class/discuz/discuz_application.php', 4, 21, -2, -2, '	var $config = array();', -1, '', '', '', 0, ''),
(461, '/source/class/discuz/discuz_application.php', 4, 22, -2, -2, '', -1, '', '', '', 0, ''),
(462, '/source/class/discuz/discuz_application.php', 4, 23, -2, -2, '	var $var = array();', -1, '', '', '', 0, ''),
(463, '/source/class/discuz/discuz_application.php', 4, 24, -2, -2, '', -1, '', '', '', 0, ''),
(464, '/source/class/discuz/discuz_application.php', 4, 25, -2, -2, '	var $cachelist = array();', -1, '', '', '', 0, ''),
(465, '/source/class/discuz/discuz_application.php', 4, 26, -2, -2, '', -1, '', '', '', 0, ''),
(466, '/source/class/discuz/discuz_application.php', 4, 27, -2, -2, '	var $init_db = true;', -1, '', '', '', 0, ''),
(467, '/source/class/discuz/discuz_application.php', 4, 28, -2, -2, '	var $init_setting = true;', -1, '', '', '', 0, ''),
(468, '/source/class/discuz/discuz_application.php', 4, 29, -2, -2, '	var $init_user = true;', -1, '', '', '', 0, ''),
(469, '/source/class/discuz/discuz_application.php', 4, 30, -2, -2, '	var $init_session = true;', -1, '', '', '', 0, ''),
(470, '/source/class/discuz/discuz_application.php', 4, 31, -2, -2, '	var $init_cron = true;', -1, '', '', '', 0, ''),
(471, '/source/class/discuz/discuz_application.php', 4, 32, -2, -2, '	var $init_misc = true;', -1, '', '', '', 0, ''),
(472, '/source/class/discuz/discuz_application.php', 4, 33, -2, -2, '	var $init_mobile = true;', -1, '', '', '', 0, ''),
(473, '/source/class/discuz/discuz_application.php', 4, 34, -2, -2, '', -1, '', '', '', 0, ''),
(474, '/source/class/discuz/discuz_application.php', 4, 35, -2, -2, '	var $initated = false;', -1, '', '', '', 0, ''),
(475, '/source/class/discuz/discuz_application.php', 4, 36, -2, -2, '', -1, '', '', '', 0, ''),
(476, '/source/class/discuz/discuz_application.php', 4, 37, -2, -2, '	var $superglobal = array(', -1, '', '', '', 0, ''),
(477, '/source/class/discuz/discuz_application.php', 4, 38, -2, -2, '		''GLOBALS'' => 1,', -1, '', '', '', 0, ''),
(478, '/source/class/discuz/discuz_application.php', 4, 39, -2, -2, '		''_GET'' => 1,', -1, '', '', '', 0, ''),
(479, '/source/class/discuz/discuz_application.php', 4, 40, -2, -2, '		''_POST'' => 1,', -1, '', '', '', 0, ''),
(480, '/source/class/discuz/discuz_application.php', 4, 41, -2, -2, '		''_REQUEST'' => 1,', -1, '', '', '', 0, ''),
(481, '/source/class/discuz/discuz_application.php', 4, 42, -2, -2, '		''_COOKIE'' => 1,', -1, '', '', '', 0, ''),
(482, '/source/class/discuz/discuz_application.php', 4, 43, -2, -2, '		''_SERVER'' => 1,', -1, '', '', '', 0, ''),
(483, '/source/class/discuz/discuz_application.php', 4, 44, -2, -2, '		''_ENV'' => 1,', -1, '', '', '', 0, ''),
(484, '/source/class/discuz/discuz_application.php', 4, 45, -2, -2, '		''_FILES'' => 1,', -1, '', '', '', 0, ''),
(485, '/source/class/discuz/discuz_application.php', 4, 46, -2, -2, '	);', -1, '', '', '', 0, ''),
(486, '/source/class/discuz/discuz_application.php', 4, 47, -2, -2, '', -1, '', '', '', 0, ''),
(487, '/source/class/discuz/discuz_application.php', 4, 48, 0, 0, '	static function &instance() {\r\n		static $object;\r\n\r\n		if(empty($object)) {\r\n\r\n			$object = new self();\r\n\r\n		}\r\n', 1, '', '', '', 0, ''),
(488, '/source/class/discuz/discuz_application.php', 4, 49, -2, -2, '		static $object;', -1, '', '', '', 0, ''),
(489, '/source/class/discuz/discuz_application.php', 4, 50, -2, -2, '		if(empty($object)) {', -1, '', '', '', 0, ''),
(490, '/source/class/discuz/discuz_application.php', 4, 51, -2, -2, '			$object = new self();', -1, '', '', '', 0, ''),
(491, '/source/class/discuz/discuz_application.php', 4, 52, -2, -2, '		}', -1, '', '', '', 0, ''),
(492, '/source/class/discuz/discuz_application.php', 4, 53, -3, -3, '		return $object;', -1, '', '', '', 0, ''),
(493, '/source/class/discuz/discuz_application.php', 4, 54, -3, -3, '	}', -1, '', '', '', 0, ''),
(494, '/source/class/discuz/discuz_application.php', 4, 55, -3, -3, '', -1, '', '', '', 0, ''),
(495, '/source/class/discuz/discuz_application.php', 4, 56, 0, 0, '	public function __construct() {', 1, '', '', '', 0, ''),
(496, '/source/class/discuz/discuz_application.php', 4, 57, 0, 0, '		$this->_init_env();', 1, '', '', '', 0, ''),
(497, '/source/class/discuz/discuz_application.php', 4, 58, 0, 0, '		$this->_init_config();', 1, '', '', '', 0, ''),
(498, '/source/class/discuz/discuz_application.php', 4, 59, -3, -3, '		$this->_init_input();', -1, '', '', '', 0, ''),
(499, '/source/class/discuz/discuz_application.php', 4, 60, -3, -3, '		$this->_init_output();', -1, '', '', '', 0, ''),
(500, '/source/class/discuz/discuz_application.php', 4, 61, -3, -3, '	}', -1, '', '', '', 0, ''),
(501, '/source/class/discuz/discuz_application.php', 4, 62, -3, -3, '', -1, '', '', '', 0, ''),
(502, '/source/class/discuz/discuz_application.php', 4, 63, -3, -3, '	public function init() {', -1, '', '', '', 0, ''),
(503, '/source/class/discuz/discuz_application.php', 4, 64, -3, -3, '		if(!$this->initated) {', -1, '', '', '', 0, ''),
(504, '/source/class/discuz/discuz_application.php', 4, 65, -3, -3, '			$this->_init_db();', -1, '', '', '', 0, ''),
(505, '/source/class/discuz/discuz_application.php', 4, 66, -3, -3, '			$this->_init_setting();', -1, '', '', '', 0, ''),
(506, '/source/class/discuz/discuz_application.php', 4, 67, -3, -3, '			$this->_init_user();', -1, '', '', '', 0, ''),
(507, '/source/class/discuz/discuz_application.php', 4, 68, -3, -3, '			$this->_init_session();', -1, '', '', '', 0, ''),
(508, '/source/class/discuz/discuz_application.php', 4, 69, -3, -3, '			$this->_init_mobile();', -1, '', '', '', 0, ''),
(509, '/source/class/discuz/discuz_application.php', 4, 70, -3, -3, '			$this->_init_cron();', -1, '', '', '', 0, ''),
(510, '/source/class/discuz/discuz_application.php', 4, 71, -3, -3, '			$this->_init_misc();', -1, '', '', '', 0, ''),
(511, '/source/class/discuz/discuz_application.php', 4, 72, -3, -3, '		}', -1, '', '', '', 0, ''),
(512, '/source/class/discuz/discuz_application.php', 4, 73, -3, -3, '		$this->initated = true;', -1, '', '', '', 0, ''),
(513, '/source/class/discuz/discuz_application.php', 4, 74, -3, -3, '	}', -1, '', '', '', 0, ''),
(514, '/source/class/discuz/discuz_application.php', 4, 75, -2, -2, '', -1, '', '', '', 0, ''),
(515, '/source/class/discuz/discuz_application.php', 4, 76, 0, 0, '	private function _init_env() {\r\n		error_reporting(E_ERROR);\r\n		if(PHP_VERSION < ''5.3.0'') {\r\n			set_magic_quotes_runtime(0);\r\n\r\n		}\r\n\r\n\r\n', 1, '', '', '只显示错误级别为E_ERROR的错误和关闭魔术引号。', 0, ''),
(516, '/source/class/discuz/discuz_application.php', 4, 77, -2, -2, '', -1, '', '', '', 0, ''),
(517, '/source/class/discuz/discuz_application.php', 4, 78, -2, -2, '		error_reporting(E_ERROR);\r\n		if(PHP_VERSION < ''5.3.0'') {\r\n			set_magic_quotes_runtime(0);\r\n\r\n		}\r\n\r\n', -1, '', '', '', 0, ''),
(518, '/source/class/discuz/discuz_application.php', 4, 79, -2, -2, '		if(PHP_VERSION < ''5.3.0'') {\r\n			set_magic_quotes_runtime(0);\r\n\r\n		}\r\n', -1, '', '', '', 0, ''),
(519, '/source/class/discuz/discuz_application.php', 4, 80, -2, -2, '			set_magic_quotes_runtime(0);', -1, '', '', '', 0, ''),
(520, '/source/class/discuz/discuz_application.php', 4, 81, -2, -2, '		}', -1, '', '', '', 0, ''),
(521, '/source/class/discuz/discuz_application.php', 4, 82, -2, -2, '', -1, '', '', '', 0, ''),
(522, '/source/class/discuz/discuz_application.php', 4, 83, 0, 0, '		define(''MAGIC_QUOTES_GPC'', function_exists(''get_magic_quotes_gpc'') && get_magic_quotes_gpc());\r\n		define(''ICONV_ENABLE'', function_exists(''iconv''));\r\n\r\n		define(''MB_ENABLE'', function_exists(''mb_convert_encoding''));\r\n\r\n		define(''EXT_OBGZIP'', function_exists(''ob_gzhandler''));\r\n\r\n		define(''TIMESTAMP'', time());\r\n', 1, '', '', '', 0, ''),
(523, '/source/class/discuz/discuz_application.php', 4, 84, -2, -2, '		define(''ICONV_ENABLE'', function_exists(''iconv''));', -1, '', '', '', 0, ''),
(524, '/source/class/discuz/discuz_application.php', 4, 85, -2, -2, '		define(''MB_ENABLE'', function_exists(''mb_convert_encoding''));', -1, '', '', '', 0, ''),
(525, '/source/class/discuz/discuz_application.php', 4, 86, -2, -2, '		define(''EXT_OBGZIP'', function_exists(''ob_gzhandler''));', -1, '', '', '', 0, ''),
(526, '/source/class/discuz/discuz_application.php', 4, 87, -2, -2, '', -1, '', '', '', 0, ''),
(527, '/source/class/discuz/discuz_application.php', 4, 88, -2, -2, '		define(''TIMESTAMP'', time());', -1, '', '', '', 0, ''),
(528, '/source/class/discuz/discuz_application.php', 4, 89, 0, 0, '		$this->timezone_set();', 1, '', '', '', 0, ''),
(529, '/source/class/discuz/discuz_application.php', 4, 90, -2, -2, '', -1, '', '', '', 0, ''),
(530, '/source/class/discuz/discuz_application.php', 4, 91, 0, 0, '		if(!defined(''DISCUZ_CORE_FUNCTION'') && !@include(DISCUZ_ROOT.''./source/function/function_core.php'')) {\r\n			exit(''function_core.php is missing'');\r\n\r\n		}\r\n', 1, '', '', '判断function_core.php是否存在。', 0, ''),
(531, '/source/class/discuz/discuz_application.php', 4, 92, -2, -2, '			exit(''function_core.php is missing'');', -1, '', '', '', 0, ''),
(532, '/source/class/discuz/discuz_application.php', 4, 93, -2, -2, '		}', -1, '', '', '', 0, ''),
(533, '/source/class/discuz/discuz_application.php', 4, 94, -2, -2, '', -1, '', '', '', 0, ''),
(534, '/source/class/discuz/discuz_application.php', 4, 95, 0, 0, '		if(function_exists(''ini_get'')) {\r\n			$memorylimit = @ini_get(''memory_limit'');\r\n\r\n			if($memorylimit && return_bytes($memorylimit) < 33554432 && function_exists(''ini_set'')) {\r\n\r\n				ini_set(''memory_limit'', ''128m'');\r\n\r\n			}\r\n\r\n		}\r\n', 1, '', '', '设置内存大小。', 0, ''),
(535, '/source/class/discuz/discuz_application.php', 4, 96, -2, -2, '			$memorylimit = @ini_get(''memory_limit'');', -1, '', '', '', 0, ''),
(536, '/source/class/discuz/discuz_application.php', 4, 97, -2, -2, '			if($memorylimit && return_bytes($memorylimit) < 33554432 && function_exists(''ini_set'')) {', -1, '', '', '', 0, ''),
(537, '/source/class/discuz/discuz_application.php', 4, 98, -2, -2, '				ini_set(''memory_limit'', ''128m'');', -1, '', '', '', 0, ''),
(538, '/source/class/discuz/discuz_application.php', 4, 99, -2, -2, '			}', -1, '', '', '', 0, ''),
(539, '/source/class/discuz/discuz_application.php', 4, 100, -2, -2, '		}', -1, '', '', '', 0, ''),
(540, '/source/class/discuz/discuz_application.php', 4, 101, -2, -2, '', -1, '', '', '', 0, ''),
(541, '/source/class/discuz/discuz_application.php', 4, 102, 0, 0, '		define(''IS_ROBOT'', checkrobot());', 1, '', '', '', 0, ''),
(542, '/source/class/discuz/discuz_application.php', 4, 103, -2, -2, '', -1, '', '', '', 0, ''),
(543, '/source/class/discuz/discuz_application.php', 4, 104, 1, 0, '		foreach ($GLOBALS as $key => $value) {\r\n			if (!isset($this->superglobal[$key])) {\r\n\r\n				$GLOBALS[$key] = null; unset($GLOBALS[$key]);\r\n\r\n			}\r\n\r\n		}\r\n', 1, '', '', '', 0, ''),
(544, '/source/class/discuz/discuz_application.php', 4, 105, -2, -2, '			if (!isset($this->superglobal[$key])) {', -1, '', '', '', 0, ''),
(545, '/source/class/discuz/discuz_application.php', 4, 106, -2, -2, '				$GLOBALS[$key] = null; unset($GLOBALS[$key]);', -1, '', '', '', 0, ''),
(546, '/source/class/discuz/discuz_application.php', 4, 107, -2, -2, '			}', -1, '', '', '', 0, ''),
(547, '/source/class/discuz/discuz_application.php', 4, 108, -2, -2, '		}', -1, '', '', '', 0, ''),
(548, '/source/class/discuz/discuz_application.php', 4, 109, -2, -2, '', -1, '', '', '', 0, ''),
(549, '/source/class/discuz/discuz_application.php', 4, 110, 0, 0, '		global $_G;\r\n		$_G = array(\r\n\r\n			''uid'' => 0,\r\n\r\n			''username'' => '''',\r\n\r\n			''adminid'' => 0,\r\n\r\n			''groupid'' => 1,\r\n\r\n			''sid'' => '''',\r\n\r\n			''formhash'' => '''',\r\n\r\n			''connectguest'' => 0,\r\n\r\n			''timestamp'' => TIMESTAMP,\r\n\r\n			''starttime'' => microtime(true),\r\n', 1, '', '', '', 0, ''),
(550, '/source/class/discuz/discuz_application.php', 4, 111, -2, -2, '		$_G = array(', -1, '', '', '', 0, ''),
(551, '/source/class/discuz/discuz_application.php', 4, 112, -2, -2, '			''uid'' => 0,', -1, '', '', '', 0, ''),
(552, '/source/class/discuz/discuz_application.php', 4, 113, -2, -2, '			''username'' => '''',', -1, '', '', '', 0, ''),
(553, '/source/class/discuz/discuz_application.php', 4, 114, -2, -2, '			''adminid'' => 0,', -1, '', '', '', 0, ''),
(554, '/source/class/discuz/discuz_application.php', 4, 115, -2, -2, '			''groupid'' => 1,', -1, '', '', '', 0, ''),
(555, '/source/class/discuz/discuz_application.php', 4, 116, -2, -2, '			''sid'' => '''',', -1, '', '', '', 0, ''),
(556, '/source/class/discuz/discuz_application.php', 4, 117, -2, -2, '			''formhash'' => '''',', -1, '', '', '', 0, ''),
(557, '/source/class/discuz/discuz_application.php', 4, 118, -2, -2, '			''connectguest'' => 0,', -1, '', '', '', 0, ''),
(558, '/source/class/discuz/discuz_application.php', 4, 119, -2, -2, '			''timestamp'' => TIMESTAMP,', -1, '', '', '', 0, ''),
(559, '/source/class/discuz/discuz_application.php', 4, 120, -2, -2, '			''starttime'' => microtime(true),', -1, '', '', '', 0, ''),
(560, '/source/class/discuz/discuz_application.php', 4, 121, 0, 0, '			''clientip'' => $this->_get_client_ip(),', 1, '', '', '', 0, ''),
(561, '/source/class/discuz/discuz_application.php', 4, 122, 0, 0, '			''remoteport'' => $_SERVER[''REMOTE_PORT''],\r\n			''referer'' => '''',\r\n\r\n			''charset'' => '''',\r\n\r\n			''gzipcompress'' => '''',\r\n\r\n			''authkey'' => '''',\r\n\r\n			''timenow'' => array(),\r\n\r\n			''widthauto'' => 0,\r\n\r\n			''disabledwidthauto'' => 0,\r\n\r\n			''PHP_SELF'' => '''',\r\n\r\n			''siteurl'' => '''',\r\n\r\n			''siteroot'' => '''',\r\n\r\n			''siteport'' => '''',\r\n\r\n			''pluginrunlist'' => !defined(''PLUGINRUNLIST'') ? array() : explode('','', PLUGINRUNLIST),\r\n\r\n			''config'' => array(),\r\n\r\n			''setting'' => array(),\r\n\r\n			''member'' => array(),\r\n\r\n			''group'' => array(),\r\n\r\n			''cookie'' => array(),\r\n\r\n			''style'' => array(),\r\n\r\n			''cache'' => array(),\r\n\r\n			''session'' => array(),\r\n\r\n			''lang'' => array(),\r\n\r\n			''my_app'' => array(),\r\n\r\n			''my_userapp'' => array(),\r\n\r\n			''fid'' => 0,\r\n\r\n			''tid'' => 0,\r\n\r\n			''forum'' => array(),\r\n\r\n			''thread'' => array(),\r\n\r\n			''rssauth'' => '''',\r\n\r\n			''home'' => array(),\r\n\r\n			''space'' => array(),\r\n\r\n			''block'' => array(),\r\n\r\n			''article'' => array(),\r\n\r\n			''action'' => array(\r\n\r\n				''action'' => APPTYPEID,\r\n\r\n				''fid'' => 0,\r\n\r\n				''tid'' => 0,\r\n\r\n			),\r\n\r\n			''mobile'' => '''',\r\n\r\n			''notice_structure'' => array(\r\n\r\n				''mypost'' => array(''post'',''pcomment'',''activity'',''reward'',''goods'',''at''),\r\n\r\n				''interactive'' => array(''poke'',''friend'',''wall'',''comment'',''click'',''sharenotice''),\r\n\r\n				''system'' => array(''system'',''myapp'',''credit'',''group'',''verify'',''magic'',''task'',''show'',''group'',''pusearticle'',''mod_member'',''blog'',''article''),\r\n\r\n				''manage'' => array(''mod_member'',''report'',''pmreport''),\r\n\r\n				''app'' => array(),\r\n\r\n			),\r\n\r\n			''mobiletpl'' => array(''1'' => ''mobile'', ''2'' => ''touch'', ''3'' => ''wml'', ''yes'' => ''mobile''),\r\n\r\n		);\r\n', 1, '', '', '', 0, ''),
(562, '/source/class/discuz/discuz_application.php', 4, 123, -2, -2, '			''referer'' => '''',', -1, '', '', '', 0, ''),
(563, '/source/class/discuz/discuz_application.php', 4, 124, -2, -2, '			''charset'' => '''',', -1, '', '', '', 0, ''),
(564, '/source/class/discuz/discuz_application.php', 4, 125, -2, -2, '			''gzipcompress'' => '''',', -1, '', '', '', 0, ''),
(565, '/source/class/discuz/discuz_application.php', 4, 126, -2, -2, '			''authkey'' => '''',', -1, '', '', '', 0, ''),
(566, '/source/class/discuz/discuz_application.php', 4, 127, -2, -2, '			''timenow'' => array(),', -1, '', '', '', 0, ''),
(567, '/source/class/discuz/discuz_application.php', 4, 128, -2, -2, '			''widthauto'' => 0,', -1, '', '', '', 0, ''),
(568, '/source/class/discuz/discuz_application.php', 4, 129, -2, -2, '			''disabledwidthauto'' => 0,', -1, '', '', '', 0, ''),
(569, '/source/class/discuz/discuz_application.php', 4, 130, -2, -2, '', -1, '', '', '', 0, ''),
(570, '/source/class/discuz/discuz_application.php', 4, 131, -2, -2, '			''PHP_SELF'' => '''',', -1, '', '', '', 0, ''),
(571, '/source/class/discuz/discuz_application.php', 4, 132, -2, -2, '			''siteurl'' => '''',', -1, '', '', '', 0, ''),
(572, '/source/class/discuz/discuz_application.php', 4, 133, -2, -2, '			''siteroot'' => '''',', -1, '', '', '', 0, ''),
(573, '/source/class/discuz/discuz_application.php', 4, 134, -2, -2, '			''siteport'' => '''',', -1, '', '', '', 0, ''),
(574, '/source/class/discuz/discuz_application.php', 4, 135, -2, -2, '', -1, '', '', '', 0, ''),
(575, '/source/class/discuz/discuz_application.php', 4, 136, -2, -2, '			''pluginrunlist'' => !defined(''PLUGINRUNLIST'') ? array() : explode('','', PLUGINRUNLIST),', -1, '', '', '', 0, ''),
(576, '/source/class/discuz/discuz_application.php', 4, 137, -2, -2, '', -1, '', '', '', 0, ''),
(577, '/source/class/discuz/discuz_application.php', 4, 138, -2, -2, '			''config'' => array(),', -1, '', '', '', 0, ''),
(578, '/source/class/discuz/discuz_application.php', 4, 139, -2, -2, '			''setting'' => array(),', -1, '', '', '', 0, ''),
(579, '/source/class/discuz/discuz_application.php', 4, 140, -2, -2, '			''member'' => array(),', -1, '', '', '', 0, ''),
(580, '/source/class/discuz/discuz_application.php', 4, 141, -2, -2, '			''group'' => array(),', -1, '', '', '', 0, ''),
(581, '/source/class/discuz/discuz_application.php', 4, 142, -2, -2, '			''cookie'' => array(),', -1, '', '', '', 0, ''),
(582, '/source/class/discuz/discuz_application.php', 4, 143, -2, -2, '			''style'' => array(),', -1, '', '', '', 0, ''),
(583, '/source/class/discuz/discuz_application.php', 4, 144, -2, -2, '			''cache'' => array(),', -1, '', '', '', 0, ''),
(584, '/source/class/discuz/discuz_application.php', 4, 145, -2, -2, '			''session'' => array(),', -1, '', '', '', 0, ''),
(585, '/source/class/discuz/discuz_application.php', 4, 146, -2, -2, '			''lang'' => array(),', -1, '', '', '', 0, ''),
(586, '/source/class/discuz/discuz_application.php', 4, 147, -2, -2, '			''my_app'' => array(),', -1, '', '', '', 0, ''),
(587, '/source/class/discuz/discuz_application.php', 4, 148, -2, -2, '			''my_userapp'' => array(),', -1, '', '', '', 0, ''),
(588, '/source/class/discuz/discuz_application.php', 4, 149, -2, -2, '', -1, '', '', '', 0, ''),
(589, '/source/class/discuz/discuz_application.php', 4, 150, -2, -2, '			''fid'' => 0,', -1, '', '', '', 0, ''),
(590, '/source/class/discuz/discuz_application.php', 4, 151, -2, -2, '			''tid'' => 0,', -1, '', '', '', 0, ''),
(591, '/source/class/discuz/discuz_application.php', 4, 152, -2, -2, '			''forum'' => array(),', -1, '', '', '', 0, ''),
(592, '/source/class/discuz/discuz_application.php', 4, 153, -2, -2, '			''thread'' => array(),', -1, '', '', '', 0, ''),
(593, '/source/class/discuz/discuz_application.php', 4, 154, -2, -2, '			''rssauth'' => '''',', -1, '', '', '', 0, ''),
(594, '/source/class/discuz/discuz_application.php', 4, 155, -2, -2, '', -1, '', '', '', 0, ''),
(595, '/source/class/discuz/discuz_application.php', 4, 156, -2, -2, '			''home'' => array(),', -1, '', '', '', 0, ''),
(596, '/source/class/discuz/discuz_application.php', 4, 157, -2, -2, '			''space'' => array(),', -1, '', '', '', 0, ''),
(597, '/source/class/discuz/discuz_application.php', 4, 158, -2, -2, '', -1, '', '', '', 0, ''),
(598, '/source/class/discuz/discuz_application.php', 4, 159, -2, -2, '			''block'' => array(),', -1, '', '', '', 0, ''),
(599, '/source/class/discuz/discuz_application.php', 4, 160, -2, -2, '			''article'' => array(),', -1, '', '', '', 0, ''),
(600, '/source/class/discuz/discuz_application.php', 4, 161, -2, -2, '', -1, '', '', '', 0, ''),
(601, '/source/class/discuz/discuz_application.php', 4, 162, -2, -2, '			''action'' => array(', -1, '', '', '', 0, ''),
(602, '/source/class/discuz/discuz_application.php', 4, 163, -2, -2, '				''action'' => APPTYPEID,', -1, '', '', '', 0, ''),
(603, '/source/class/discuz/discuz_application.php', 4, 164, -2, -2, '				''fid'' => 0,', -1, '', '', '', 0, ''),
(604, '/source/class/discuz/discuz_application.php', 4, 165, -2, -2, '				''tid'' => 0,', -1, '', '', '', 0, ''),
(605, '/source/class/discuz/discuz_application.php', 4, 166, -2, -2, '			),', -1, '', '', '', 0, ''),
(606, '/source/class/discuz/discuz_application.php', 4, 167, -2, -2, '', -1, '', '', '', 0, ''),
(607, '/source/class/discuz/discuz_application.php', 4, 168, -2, -2, '			''mobile'' => '''',', -1, '', '', '', 0, ''),
(608, '/source/class/discuz/discuz_application.php', 4, 169, -2, -2, '			''notice_structure'' => array(', -1, '', '', '', 0, ''),
(609, '/source/class/discuz/discuz_application.php', 4, 170, -2, -2, '				''mypost'' => array(''post'',''pcomment'',''activity'',''reward'',''goods'',''at''),', -1, '', '', '', 0, ''),
(610, '/source/class/discuz/discuz_application.php', 4, 171, -2, -2, '				''interactive'' => array(''poke'',''friend'',''wall'',''comment'',''click'',''sharenotice''),', -1, '', '', '', 0, ''),
(611, '/source/class/discuz/discuz_application.php', 4, 172, -2, -2, '				''system'' => array(''system'',''myapp'',''credit'',''group'',''verify'',''magic'',''task'',''show'',''group'',''pusearticle'',''mod_member'',''blog'',''article''),', -1, '', '', '', 0, ''),
(612, '/source/class/discuz/discuz_application.php', 4, 173, -2, -2, '				''manage'' => array(''mod_member'',''report'',''pmreport''),', -1, '', '', '', 0, ''),
(613, '/source/class/discuz/discuz_application.php', 4, 174, -2, -2, '				''app'' => array(),', -1, '', '', '', 0, ''),
(614, '/source/class/discuz/discuz_application.php', 4, 175, -2, -2, '			),', -1, '', '', '', 0, ''),
(615, '/source/class/discuz/discuz_application.php', 4, 176, -2, -2, '			''mobiletpl'' => array(''1'' => ''mobile'', ''2'' => ''touch'', ''3'' => ''wml'', ''yes'' => ''mobile''),', -1, '', '', '', 0, ''),
(616, '/source/class/discuz/discuz_application.php', 4, 177, -2, -2, '		);', -1, '', '', '', 0, ''),
(617, '/source/class/discuz/discuz_application.php', 4, 178, 0, 0, '		$_G[''PHP_SELF''] = dhtmlspecialchars($this->_get_script_url());', 1, '', '', '', 0, ''),
(618, '/source/class/discuz/discuz_application.php', 4, 179, 0, 0, '		$_G[''basescript''] = CURSCRIPT;\r\n		$_G[''basefilename''] = basename($_G[''PHP_SELF'']);\r\n\r\n		$sitepath = substr($_G[''PHP_SELF''], 0, strrpos($_G[''PHP_SELF''], ''/''));\r\n\r\n		if(defined(''IN_API'')) {\r\n\r\n			$sitepath = preg_replace("/\\/api\\/?.*?$/i", '''', $sitepath);\r\n\r\n		} elseif(defined(''IN_ARCHIVER'')) {\r\n\r\n			$sitepath = preg_replace("/\\/archiver/i", '''', $sitepath);\r\n\r\n		}\r\n\r\n		$_G[''isHTTPS''] = ($_SERVER[''HTTPS''] && strtolower($_SERVER[''HTTPS'']) != ''off'') ? true : false;\r\n', 1, '', '', '', 0, ''),
(619, '/source/class/discuz/discuz_application.php', 4, 180, -2, -2, '		$_G[''basefilename''] = basename($_G[''PHP_SELF'']);', -1, '', '', '', 0, ''),
(620, '/source/class/discuz/discuz_application.php', 4, 181, -2, -2, '		$sitepath = substr($_G[''PHP_SELF''], 0, strrpos($_G[''PHP_SELF''], ''/''));', -1, '', '', '', 0, ''),
(621, '/source/class/discuz/discuz_application.php', 4, 182, -2, -2, '		if(defined(''IN_API'')) {', -1, '', '', '', 0, ''),
(622, '/source/class/discuz/discuz_application.php', 4, 183, -2, -2, '			$sitepath = preg_replace("/\\/api\\/?.*?$/i", '''', $sitepath);', -1, '', '', '', 0, ''),
(623, '/source/class/discuz/discuz_application.php', 4, 184, -2, -2, '		} elseif(defined(''IN_ARCHIVER'')) {', -1, '', '', '', 0, ''),
(624, '/source/class/discuz/discuz_application.php', 4, 185, -2, -2, '			$sitepath = preg_replace("/\\/archiver/i", '''', $sitepath);', -1, '', '', '', 0, ''),
(625, '/source/class/discuz/discuz_application.php', 4, 186, -2, -2, '		}', -1, '', '', '', 0, ''),
(626, '/source/class/discuz/discuz_application.php', 4, 187, -2, -2, '		$_G[''isHTTPS''] = ($_SERVER[''HTTPS''] && strtolower($_SERVER[''HTTPS'']) != ''off'') ? true : false;', -1, '', '', '', 0, ''),
(627, '/source/class/discuz/discuz_application.php', 4, 188, 1, 0, '		$_G[''siteurl''] = dhtmlspecialchars(''http''.($_G[''isHTTPS''] ? ''s'' : '''').''://''.$_SERVER[''HTTP_HOST''].$sitepath.''/'');', 1, '', '', '在非虚拟主机环境下可以通过HTTP头的Host字段进行随意控制（不能有/**/，空格等），无视GPC。', 0, ''),
(628, '/source/class/discuz/discuz_application.php', 4, 189, -2, -2, '', -1, '', '', '', 0, ''),
(629, '/source/class/discuz/discuz_application.php', 4, 190, 0, 0, '		$url = parse_url($_G[''siteurl'']);', 1, '', '', '', 0, ''),
(630, '/source/class/discuz/discuz_application.php', 4, 191, 0, 0, '		$_G[''siteroot''] = isset($url[''path'']) ? $url[''path''] : '''';\r\n		$_G[''siteport''] = empty($_SERVER[''SERVER_PORT'']) || $_SERVER[''SERVER_PORT''] == ''80'' || $_SERVER[''SERVER_PORT''] == ''443'' ? '''' : '':''.$_SERVER[''SERVER_PORT''];\r\n\r\n		if(defined(''SUB_DIR'')) {\r\n\r\n			$_G[''siteurl''] = str_replace(SUB_DIR, ''/'', $_G[''siteurl'']);\r\n\r\n			$_G[''siteroot''] = str_replace(SUB_DIR, ''/'', $_G[''siteroot'']);\r\n\r\n		}\r\n\r\n		$this->var = & $_G;\r\n', 1, '', '', '', 0, ''),
(631, '/source/class/discuz/discuz_application.php', 4, 192, -2, -2, '		$_G[''siteport''] = empty($_SERVER[''SERVER_PORT'']) || $_SERVER[''SERVER_PORT''] == ''80'' || $_SERVER[''SERVER_PORT''] == ''443'' ? '''' : '':''.$_SERVER[''SERVER_PORT''];', -1, '', '', '', 0, ''),
(632, '/source/class/discuz/discuz_application.php', 4, 193, -2, -2, '', -1, '', '', '', 0, ''),
(633, '/source/class/discuz/discuz_application.php', 4, 194, -2, -2, '		if(defined(''SUB_DIR'')) {', -1, '', '', '', 0, ''),
(634, '/source/class/discuz/discuz_application.php', 4, 195, -2, -2, '			$_G[''siteurl''] = str_replace(SUB_DIR, ''/'', $_G[''siteurl'']);', -1, '', '', '', 0, ''),
(635, '/source/class/discuz/discuz_application.php', 4, 196, -2, -2, '			$_G[''siteroot''] = str_replace(SUB_DIR, ''/'', $_G[''siteroot'']);', -1, '', '', '', 0, ''),
(636, '/source/class/discuz/discuz_application.php', 4, 197, -2, -2, '		}', -1, '', '', '', 0, ''),
(637, '/source/class/discuz/discuz_application.php', 4, 198, -2, -2, '', -1, '', '', '', 0, ''),
(638, '/source/class/discuz/discuz_application.php', 4, 199, -2, -2, '		$this->var = & $_G;', -1, '', '', '', 0, ''),
(639, '/source/class/discuz/discuz_application.php', 4, 200, -2, -2, '', -1, '', '', '', 0, ''),
(640, '/source/class/discuz/discuz_application.php', 4, 201, -2, -2, '	}', -1, '', '', '', 0, ''),
(641, '/source/class/discuz/discuz_application.php', 4, 202, -2, -2, '', -1, '', '', '', 0, ''),
(642, '/source/class/discuz/discuz_application.php', 4, 203, 0, 0, '	private function _get_script_url() {\r\n		if(!isset($this->var[''PHP_SELF''])){\r\n\r\n			$scriptName = basename($_SERVER[''SCRIPT_FILENAME'']);\r\n\r\n			if(basename($_SERVER[''SCRIPT_NAME'']) === $scriptName) {\r\n\r\n				$this->var[''PHP_SELF''] = $_SERVER[''SCRIPT_NAME''];\r\n\r\n			} else if(basename($_SERVER[''PHP_SELF'']) === $scriptName) {\r\n\r\n				$this->var[''PHP_SELF''] = $_SERVER[''PHP_SELF''];\r\n\r\n			} else if(isset($_SERVER[''ORIG_SCRIPT_NAME'']) && basename($_SERVER[''ORIG_SCRIPT_NAME'']) === $scriptName) {\r\n\r\n				$this->var[''PHP_SELF''] = $_SERVER[''ORIG_SCRIPT_NAME''];\r\n\r\n			} else if(($pos = strpos($_SERVER[''PHP_SELF''],''/''.$scriptName)) !== false) {\r\n\r\n				$this->var[''PHP_SELF''] = substr($_SERVER[''SCRIPT_NAME''],0,$pos).''/''.$scriptName;\r\n\r\n			} else if(isset($_SERVER[''DOCUMENT_ROOT'']) && strpos($_SERVER[''SCRIPT_FILENAME''],$_SERVER[''DOCUMENT_ROOT'']) === 0) {\r\n\r\n				$this->var[''PHP_SELF''] = str_replace(''\\\\'',''/'',str_replace($_SERVER[''DOCUMENT_ROOT''],'''',$_SERVER[''SCRIPT_FILENAME'']));\r\n\r\n				$this->var[''PHP_SELF''][0] != ''/'' && $this->var[''PHP_SELF''] = ''/''.$this->var[''PHP_SELF''];\r\n\r\n			} else {\r\n\r\n				system_error(''request_tainting'');\r\n\r\n			}\r\n\r\n		}\r\n\r\n		return $this->var[''PHP_SELF''];\r\n\r\n	}\r\n', 1, '', '', '', 0, ''),
(643, '/source/class/discuz/discuz_application.php', 4, 204, -2, -2, '		if(!isset($this->var[''PHP_SELF''])){', -1, '', '', '', 0, ''),
(644, '/source/class/discuz/discuz_application.php', 4, 205, -2, -2, '			$scriptName = basename($_SERVER[''SCRIPT_FILENAME'']);', -1, '', '', '', 0, ''),
(645, '/source/class/discuz/discuz_application.php', 4, 206, -2, -2, '			if(basename($_SERVER[''SCRIPT_NAME'']) === $scriptName) {', -1, '', '', '', 0, ''),
(646, '/source/class/discuz/discuz_application.php', 4, 207, -2, -2, '				$this->var[''PHP_SELF''] = $_SERVER[''SCRIPT_NAME''];', -1, '', '', '', 0, ''),
(647, '/source/class/discuz/discuz_application.php', 4, 208, -2, -2, '			} else if(basename($_SERVER[''PHP_SELF'']) === $scriptName) {', -1, '', '', '', 0, ''),
(648, '/source/class/discuz/discuz_application.php', 4, 209, -2, -2, '				$this->var[''PHP_SELF''] = $_SERVER[''PHP_SELF''];', -1, '', '', '', 0, ''),
(649, '/source/class/discuz/discuz_application.php', 4, 210, -2, -2, '			} else if(isset($_SERVER[''ORIG_SCRIPT_NAME'']) && basename($_SERVER[''ORIG_SCRIPT_NAME'']) === $scriptName) {', -1, '', '', '', 0, ''),
(650, '/source/class/discuz/discuz_application.php', 4, 211, -2, -2, '				$this->var[''PHP_SELF''] = $_SERVER[''ORIG_SCRIPT_NAME''];', -1, '', '', '', 0, ''),
(651, '/source/class/discuz/discuz_application.php', 4, 212, -2, -2, '			} else if(($pos = strpos($_SERVER[''PHP_SELF''],''/''.$scriptName)) !== false) {', -1, '', '', '', 0, ''),
(652, '/source/class/discuz/discuz_application.php', 4, 213, -2, -2, '				$this->var[''PHP_SELF''] = substr($_SERVER[''SCRIPT_NAME''],0,$pos).''/''.$scriptName;', -1, '', '', '', 0, ''),
(653, '/source/class/discuz/discuz_application.php', 4, 214, -2, -2, '			} else if(isset($_SERVER[''DOCUMENT_ROOT'']) && strpos($_SERVER[''SCRIPT_FILENAME''],$_SERVER[''DOCUMENT_ROOT'']) === 0) {', -1, '', '', '', 0, ''),
(654, '/source/class/discuz/discuz_application.php', 4, 215, -2, -2, '				$this->var[''PHP_SELF''] = str_replace(''\\\\'',''/'',str_replace($_SERVER[''DOCUMENT_ROOT''],'''',$_SERVER[''SCRIPT_FILENAME'']));', -1, '', '', '', 0, ''),
(655, '/source/class/discuz/discuz_application.php', 4, 216, -2, -2, '				$this->var[''PHP_SELF''][0] != ''/'' && $this->var[''PHP_SELF''] = ''/''.$this->var[''PHP_SELF''];', -1, '', '', '', 0, ''),
(656, '/source/class/discuz/discuz_application.php', 4, 217, -2, -2, '			} else {', -1, '', '', '', 0, ''),
(657, '/source/class/discuz/discuz_application.php', 4, 218, -2, -2, '				system_error(''request_tainting'');', -1, '', '', '', 0, ''),
(658, '/source/class/discuz/discuz_application.php', 4, 219, -2, -2, '			}', -1, '', '', '', 0, ''),
(659, '/source/class/discuz/discuz_application.php', 4, 220, -2, -2, '		}', -1, '', '', '', 0, ''),
(660, '/source/class/discuz/discuz_application.php', 4, 221, -2, -2, '		return $this->var[''PHP_SELF''];', -1, '', '', '', 0, ''),
(661, '/source/class/discuz/discuz_application.php', 4, 222, -2, -2, '	}', -1, '', '', '', 0, ''),
(662, '/source/class/discuz/discuz_application.php', 4, 223, -2, -2, '', -1, '', '', '', 0, ''),
(663, '/source/class/discuz/discuz_application.php', 4, 224, -3, -3, '	private function _init_input() {', -1, '', '', '', 0, ''),
(664, '/source/class/discuz/discuz_application.php', 4, 225, -3, -3, '		if (isset($_GET[''GLOBALS'']) ||isset($_POST[''GLOBALS'']) ||  isset($_COOKIE[''GLOBALS'']) || isset($_FILES[''GLOBALS''])) {', -1, '', '', '', 0, ''),
(665, '/source/class/discuz/discuz_application.php', 4, 226, -3, -3, '			system_error(''request_tainting'');', -1, '', '', '', 0, ''),
(666, '/source/class/discuz/discuz_application.php', 4, 227, -3, -3, '		}', -1, '', '', '', 0, ''),
(667, '/source/class/discuz/discuz_application.php', 4, 228, -3, -3, '', -1, '', '', '', 0, ''),
(668, '/source/class/discuz/discuz_application.php', 4, 229, -3, -3, '		if(MAGIC_QUOTES_GPC) {', -1, '', '', '', 0, ''),
(669, '/source/class/discuz/discuz_application.php', 4, 230, -3, -3, '			$_GET = dstripslashes($_GET);', -1, '', '', '', 0, ''),
(670, '/source/class/discuz/discuz_application.php', 4, 231, -3, -3, '			$_POST = dstripslashes($_POST);', -1, '', '', '', 0, ''),
(671, '/source/class/discuz/discuz_application.php', 4, 232, -3, -3, '			$_COOKIE = dstripslashes($_COOKIE);', -1, '', '', '', 0, ''),
(672, '/source/class/discuz/discuz_application.php', 4, 233, -3, -3, '		}', -1, '', '', '', 0, ''),
(673, '/source/class/discuz/discuz_application.php', 4, 234, -3, -3, '', -1, '', '', '', 0, ''),
(674, '/source/class/discuz/discuz_application.php', 4, 235, -3, -3, '		$prelength = strlen($this->config[''cookie''][''cookiepre'']);', -1, '', '', '', 0, ''),
(675, '/source/class/discuz/discuz_application.php', 4, 236, -3, -3, '		foreach($_COOKIE as $key => $val) {', -1, '', '', '', 0, ''),
(676, '/source/class/discuz/discuz_application.php', 4, 237, -3, -3, '			if(substr($key, 0, $prelength) == $this->config[''cookie''][''cookiepre'']) {', -1, '', '', '', 0, ''),
(677, '/source/class/discuz/discuz_application.php', 4, 238, -3, -3, '				$this->var[''cookie''][substr($key, $prelength)] = $val;', -1, '', '', '', 0, ''),
(678, '/source/class/discuz/discuz_application.php', 4, 239, -3, -3, '			}', -1, '', '', '', 0, ''),
(679, '/source/class/discuz/discuz_application.php', 4, 240, -3, -3, '		}', -1, '', '', '', 0, ''),
(680, '/source/class/discuz/discuz_application.php', 4, 241, -3, -3, '', -1, '', '', '', 0, ''),
(681, '/source/class/discuz/discuz_application.php', 4, 242, -3, -3, '', -1, '', '', '', 0, ''),
(682, '/source/class/discuz/discuz_application.php', 4, 243, -3, -3, '		if($_SERVER[''REQUEST_METHOD''] == ''POST'' && !empty($_POST)) {', -1, '', '', '', 0, ''),
(683, '/source/class/discuz/discuz_application.php', 4, 244, -3, -3, '			$_GET = array_merge($_GET, $_POST);', -1, '', '', '', 0, ''),
(684, '/source/class/discuz/discuz_application.php', 4, 245, -3, -3, '		}', -1, '', '', '', 0, ''),
(685, '/source/class/discuz/discuz_application.php', 4, 246, -3, -3, '', -1, '', '', '', 0, ''),
(686, '/source/class/discuz/discuz_application.php', 4, 247, -3, -3, '		if(isset($_GET[''page''])) {', -1, '', '', '', 0, ''),
(687, '/source/class/discuz/discuz_application.php', 4, 248, -3, -3, '			$_GET[''page''] = rawurlencode($_GET[''page'']);', -1, '', '', '', 0, ''),
(688, '/source/class/discuz/discuz_application.php', 4, 249, -3, -3, '		}', -1, '', '', '', 0, ''),
(689, '/source/class/discuz/discuz_application.php', 4, 250, -3, -3, '', -1, '', '', '', 0, ''),
(690, '/source/class/discuz/discuz_application.php', 4, 251, -3, -3, '		if(!(!empty($_GET[''handlekey'']) && preg_match(''/^\\w+$/'', $_GET[''handlekey'']))) {', -1, '', '', '', 0, ''),
(691, '/source/class/discuz/discuz_application.php', 4, 252, -3, -3, '			unset($_GET[''handlekey'']);', -1, '', '', '', 0, ''),
(692, '/source/class/discuz/discuz_application.php', 4, 253, -3, -3, '		}', -1, '', '', '', 0, ''),
(693, '/source/class/discuz/discuz_application.php', 4, 254, -3, -3, '', -1, '', '', '', 0, ''),
(694, '/source/class/discuz/discuz_application.php', 4, 255, -3, -3, '		if(!empty($this->var[''config''][''input''][''compatible''])) {', -1, '', '', '', 0, ''),
(695, '/source/class/discuz/discuz_application.php', 4, 256, -3, -3, '			foreach($_GET as $k => $v) {', -1, '', '', '', 0, ''),
(696, '/source/class/discuz/discuz_application.php', 4, 257, -3, -3, '				$this->var[''gp_''.$k] = daddslashes($v);', -1, '', '', '', 0, ''),
(697, '/source/class/discuz/discuz_application.php', 4, 258, -3, -3, '			}', -1, '', '', '', 0, ''),
(698, '/source/class/discuz/discuz_application.php', 4, 259, -3, -3, '		}', -1, '', '', '', 0, ''),
(699, '/source/class/discuz/discuz_application.php', 4, 260, -3, -3, '', -1, '', '', '', 0, ''),
(700, '/source/class/discuz/discuz_application.php', 4, 261, -3, -3, '		$this->var[''mod''] = empty($_GET[''mod'']) ? '''' : dhtmlspecialchars($_GET[''mod'']);', -1, '', '', '', 0, ''),
(701, '/source/class/discuz/discuz_application.php', 4, 262, -3, -3, '		$this->var[''inajax''] = empty($_GET[''inajax'']) ? 0 : (empty($this->var[''config''][''output''][''ajaxvalidate'']) ? 1 : ($_SERVER[''REQUEST_METHOD''] == ''GET'' && $_SERVER[''HTTP_X_REQUESTED_WITH''] == ''XMLHttpRequest'' || $_SERVER[''REQUEST_METHOD''] == ''POST'' ? 1 : 0));', -1, '', '', '', 0, ''),
(702, '/source/class/discuz/discuz_application.php', 4, 263, -3, -3, '		$this->var[''page''] = empty($_GET[''page'']) ? 1 : max(1, intval($_GET[''page'']));', -1, '', '', '', 0, ''),
(703, '/source/class/discuz/discuz_application.php', 4, 264, -3, -3, '		$this->var[''sid''] = $this->var[''cookie''][''sid''] = isset($this->var[''cookie''][''sid'']) ? dhtmlspecialchars($this->var[''cookie''][''sid'']) : '''';', -1, '', '', '', 0, ''),
(704, '/source/class/discuz/discuz_application.php', 4, 265, -3, -3, '', -1, '', '', '', 0, ''),
(705, '/source/class/discuz/discuz_application.php', 4, 266, -3, -3, '		if(empty($this->var[''cookie''][''saltkey''])) {', -1, '', '', '', 0, ''),
(706, '/source/class/discuz/discuz_application.php', 4, 267, -3, -3, '			$this->var[''cookie''][''saltkey''] = random(8);', -1, '', '', '', 0, ''),
(707, '/source/class/discuz/discuz_application.php', 4, 268, -3, -3, '			dsetcookie(''saltkey'', $this->var[''cookie''][''saltkey''], 86400 * 30, 1, 1);', -1, '', '', '', 0, ''),
(708, '/source/class/discuz/discuz_application.php', 4, 269, -3, -3, '		}', -1, '', '', '', 0, ''),
(709, '/source/class/discuz/discuz_application.php', 4, 270, -3, -3, '		$this->var[''authkey''] = md5($this->var[''config''][''security''][''authkey''].$this->var[''cookie''][''saltkey'']);', -1, '', '', '', 0, ''),
(710, '/source/class/discuz/discuz_application.php', 4, 271, -3, -3, '', -1, '', '', '', 0, ''),
(711, '/source/class/discuz/discuz_application.php', 4, 272, -3, -3, '	}', -1, '', '', '', 0, ''),
(712, '/source/class/discuz/discuz_application.php', 4, 273, -3, -3, '', -1, '', '', '', 0, ''),
(713, '/source/class/discuz/discuz_application.php', 4, 274, 0, 0, '	private function _init_config() {', 1, '', '', '', 0, ''),
(714, '/source/class/discuz/discuz_application.php', 4, 275, -2, -2, '', -1, '', '', '', 0, ''),
(715, '/source/class/discuz/discuz_application.php', 4, 276, 0, 0, '		$_config = array();', 1, '', '', '', 0, ''),
(716, '/source/class/discuz/discuz_application.php', 4, 277, 0, 0, '		@include DISCUZ_ROOT.''./config/config_global.php'';', 1, '', '', '', 0, ''),
(717, '/source/class/discuz/discuz_application.php', 4, 278, 0, 0, '		if(empty($_config)) {', 1, '', '', '', 0, ''),
(718, '/source/class/discuz/discuz_application.php', 4, 279, 0, 0, '			if(!file_exists(DISCUZ_ROOT.''./data/install.lock'')) {', 1, '', '', '', 0, ''),
(719, '/source/class/discuz/discuz_application.php', 4, 280, 0, -1, '				header(''location: install'');\r\n				exit;\r\n', 1, '', '', '', 0, ''),
(720, '/source/class/discuz/discuz_application.php', 4, 281, -2, -2, '				exit;', -1, '', '', '', 0, ''),
(721, '/source/class/discuz/discuz_application.php', 4, 282, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(722, '/source/class/discuz/discuz_application.php', 4, 283, -3, -3, '				system_error(''config_notfound'');', -1, '', '', '', 0, ''),
(723, '/source/class/discuz/discuz_application.php', 4, 284, -3, -3, '			}', -1, '', '', '', 0, ''),
(724, '/source/class/discuz/discuz_application.php', 4, 285, -3, -3, '		}', -1, '', '', '', 0, ''),
(725, '/source/class/discuz/discuz_application.php', 4, 286, -3, -3, '', -1, '', '', '', 0, ''),
(726, '/source/class/discuz/discuz_application.php', 4, 287, -3, -3, '		if(empty($_config[''security''][''authkey''])) {', -1, '', '', '', 0, ''),
(727, '/source/class/discuz/discuz_application.php', 4, 288, -3, -3, '			$_config[''security''][''authkey''] = md5($_config[''cookie''][''cookiepre''].$_config[''db''][1][''dbname'']);', -1, '', '', '', 0, ''),
(728, '/source/class/discuz/discuz_application.php', 4, 289, -3, -3, '		}', -1, '', '', '', 0, ''),
(729, '/source/class/discuz/discuz_application.php', 4, 290, -3, -3, '', -1, '', '', '', 0, ''),
(730, '/source/class/discuz/discuz_application.php', 4, 291, -3, -3, '		if(empty($_config[''debug'']) || !file_exists(libfile(''function/debug''))) {', -1, '', '', '', 0, ''),
(731, '/source/class/discuz/discuz_application.php', 4, 292, -3, -3, '			define(''DISCUZ_DEBUG'', false);', -1, '', '', '', 0, ''),
(732, '/source/class/discuz/discuz_application.php', 4, 293, -3, -3, '			error_reporting(0);', -1, '', '', '', 0, ''),
(733, '/source/class/discuz/discuz_application.php', 4, 294, -3, -3, '		} elseif($_config[''debug''] === 1 || $_config[''debug''] === 2 || !empty($_REQUEST[''debug'']) && $_REQUEST[''debug''] === $_config[''debug'']) {', -1, '', '', '', 0, ''),
(734, '/source/class/discuz/discuz_application.php', 4, 295, -3, -3, '			define(''DISCUZ_DEBUG'', true);', -1, '', '', '', 0, ''),
(735, '/source/class/discuz/discuz_application.php', 4, 296, -3, -3, '			error_reporting(E_ERROR);', -1, '', '', '', 0, ''),
(736, '/source/class/discuz/discuz_application.php', 4, 297, -3, -3, '			if($_config[''debug''] === 2) {', -1, '', '', '', 0, ''),
(737, '/source/class/discuz/discuz_application.php', 4, 298, -3, -3, '				error_reporting(E_ALL);', -1, '', '', '', 0, ''),
(738, '/source/class/discuz/discuz_application.php', 4, 299, -3, -3, '			}', -1, '', '', '', 0, ''),
(739, '/source/class/discuz/discuz_application.php', 4, 300, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(740, '/source/class/discuz/discuz_application.php', 4, 301, -3, -3, '			define(''DISCUZ_DEBUG'', false);', -1, '', '', '', 0, ''),
(741, '/source/class/discuz/discuz_application.php', 4, 302, -3, -3, '			error_reporting(0);', -1, '', '', '', 0, ''),
(742, '/source/class/discuz/discuz_application.php', 4, 303, -3, -3, '		}', -1, '', '', '', 0, ''),
(743, '/source/class/discuz/discuz_application.php', 4, 304, -3, -3, '		define(''STATICURL'', !empty($_config[''output''][''staticurl'']) ? $_config[''output''][''staticurl''] : ''static/'');', -1, '', '', '', 0, ''),
(744, '/source/class/discuz/discuz_application.php', 4, 305, -3, -3, '		$this->var[''staticurl''] = STATICURL;', -1, '', '', '', 0, ''),
(745, '/source/class/discuz/discuz_application.php', 4, 306, -3, -3, '', -1, '', '', '', 0, ''),
(746, '/source/class/discuz/discuz_application.php', 4, 307, -3, -3, '		$this->config = & $_config;', -1, '', '', '', 0, ''),
(747, '/source/class/discuz/discuz_application.php', 4, 308, -3, -3, '		$this->var[''config''] = & $_config;', -1, '', '', '', 0, ''),
(748, '/source/class/discuz/discuz_application.php', 4, 309, -3, -3, '', -1, '', '', '', 0, ''),
(749, '/source/class/discuz/discuz_application.php', 4, 310, -3, -3, '		if(substr($_config[''cookie''][''cookiepath''], 0, 1) != ''/'') {', -1, '', '', '', 0, ''),
(750, '/source/class/discuz/discuz_application.php', 4, 311, -3, -3, '			$this->var[''config''][''cookie''][''cookiepath''] = ''/''.$this->var[''config''][''cookie''][''cookiepath''];', -1, '', '', '', 0, ''),
(751, '/source/class/discuz/discuz_application.php', 4, 312, -3, -3, '		}', -1, '', '', '', 0, ''),
(752, '/source/class/discuz/discuz_application.php', 4, 313, -3, -3, '		$this->var[''config''][''cookie''][''cookiepre''] = $this->var[''config''][''cookie''][''cookiepre''].substr(md5($this->var[''config''][''cookie''][''cookiepath''].''|''.$this->var[''config''][''cookie''][''cookiedomain'']), 0, 4).''_'';', -1, '', '', '', 0, ''),
(753, '/source/class/discuz/discuz_application.php', 4, 314, -3, -3, '', -1, '', '', '', 0, ''),
(754, '/source/class/discuz/discuz_application.php', 4, 315, -3, -3, '', -1, '', '', '', 0, ''),
(755, '/source/class/discuz/discuz_application.php', 4, 316, -3, -3, '	}', -1, '', '', '', 0, ''),
(756, '/source/class/discuz/discuz_application.php', 4, 317, -3, -3, '', -1, '', '', '', 0, ''),
(757, '/source/class/discuz/discuz_application.php', 4, 318, -3, -3, '	private function _init_output() {', -1, '', '', '', 0, ''),
(758, '/source/class/discuz/discuz_application.php', 4, 319, -3, -3, '', -1, '', '', '', 0, ''),
(759, '/source/class/discuz/discuz_application.php', 4, 320, -3, -3, '', -1, '', '', '', 0, ''),
(760, '/source/class/discuz/discuz_application.php', 4, 321, -3, -3, '		if($this->config[''security''][''attackevasive''] && (!defined(''CURSCRIPT'') || !in_array($this->var[''mod''], array(''seccode'', ''secqaa'', ''swfupload'')) && !defined(''DISABLEDEFENSE''))) {', -1, '', '', '', 0, ''),
(761, '/source/class/discuz/discuz_application.php', 4, 322, -3, -3, '			require_once libfile(''misc/security'', ''include'');', -1, '', '', '', 0, ''),
(762, '/source/class/discuz/discuz_application.php', 4, 323, -3, -3, '		}', -1, '', '', '', 0, ''),
(763, '/source/class/discuz/discuz_application.php', 4, 324, -3, -3, '', -1, '', '', '', 0, ''),
(764, '/source/class/discuz/discuz_application.php', 4, 325, -3, -3, '		if(!empty($_SERVER[''HTTP_ACCEPT_ENCODING'']) && strpos($_SERVER[''HTTP_ACCEPT_ENCODING''], ''gzip'') === false) {', -1, '', '', '', 0, ''),
(765, '/source/class/discuz/discuz_application.php', 4, 326, -3, -3, '			$this->config[''output''][''gzip''] = false;', -1, '', '', '', 0, ''),
(766, '/source/class/discuz/discuz_application.php', 4, 327, -3, -3, '		}', -1, '', '', '', 0, ''),
(767, '/source/class/discuz/discuz_application.php', 4, 328, -3, -3, '', -1, '', '', '', 0, ''),
(768, '/source/class/discuz/discuz_application.php', 4, 329, -3, -3, '		$allowgzip = $this->config[''output''][''gzip''] && empty($this->var[''inajax'']) && $this->var[''mod''] != ''attachment'' && EXT_OBGZIP;', -1, '', '', '', 0, ''),
(769, '/source/class/discuz/discuz_application.php', 4, 330, -3, -3, '		setglobal(''gzipcompress'', $allowgzip);', -1, '', '', '', 0, ''),
(770, '/source/class/discuz/discuz_application.php', 4, 331, -3, -3, '', -1, '', '', '', 0, ''),
(771, '/source/class/discuz/discuz_application.php', 4, 332, -3, -3, '		if(!ob_start($allowgzip ? ''ob_gzhandler'' : null)) {', -1, '', '', '', 0, ''),
(772, '/source/class/discuz/discuz_application.php', 4, 333, -3, -3, '			ob_start();', -1, '', '', '', 0, ''),
(773, '/source/class/discuz/discuz_application.php', 4, 334, -3, -3, '		}', -1, '', '', '', 0, ''),
(774, '/source/class/discuz/discuz_application.php', 4, 335, -3, -3, '', -1, '', '', '', 0, ''),
(775, '/source/class/discuz/discuz_application.php', 4, 336, -3, -3, '		setglobal(''charset'', $this->config[''output''][''charset'']);', -1, '', '', '', 0, ''),
(776, '/source/class/discuz/discuz_application.php', 4, 337, -3, -3, '		define(''CHARSET'', $this->config[''output''][''charset'']);', -1, '', '', '', 0, ''),
(777, '/source/class/discuz/discuz_application.php', 4, 338, -3, -3, '		if($this->config[''output''][''forceheader'']) {', -1, '', '', '', 0, ''),
(778, '/source/class/discuz/discuz_application.php', 4, 339, -3, -3, '			@header(''Content-Type: text/html; charset=''.CHARSET);', -1, '', '', '', 0, ''),
(779, '/source/class/discuz/discuz_application.php', 4, 340, -3, -3, '		}', -1, '', '', '', 0, ''),
(780, '/source/class/discuz/discuz_application.php', 4, 341, -3, -3, '', -1, '', '', '', 0, ''),
(781, '/source/class/discuz/discuz_application.php', 4, 342, -3, -3, '	}', -1, '', '', '', 0, ''),
(782, '/source/class/discuz/discuz_application.php', 4, 343, -3, -3, '', -1, '', '', '', 0, ''),
(783, '/source/class/discuz/discuz_application.php', 4, 344, -3, -3, '	public function reject_robot() {', -1, '', '', '', 0, ''),
(784, '/source/class/discuz/discuz_application.php', 4, 345, -3, -3, '		if(IS_ROBOT) {', -1, '', '', '', 0, ''),
(785, '/source/class/discuz/discuz_application.php', 4, 346, -3, -3, '			exit(header("HTTP/1.1 403 Forbidden"));', -1, '', '', '', 0, ''),
(786, '/source/class/discuz/discuz_application.php', 4, 347, -3, -3, '		}', -1, '', '', '', 0, ''),
(787, '/source/class/discuz/discuz_application.php', 4, 348, -3, -3, '	}', -1, '', '', '', 0, ''),
(788, '/source/class/discuz/discuz_application.php', 4, 349, -3, -3, '', -1, '', '', '', 0, ''),
(789, '/source/class/discuz/discuz_application.php', 4, 350, -3, -3, '	private function _xss_check() {', -1, '', '', '', 0, ''),
(790, '/source/class/discuz/discuz_application.php', 4, 351, -3, -3, '', -1, '', '', '', 0, ''),
(791, '/source/class/discuz/discuz_application.php', 4, 352, -3, -3, '		static $check = array(''"'', ''>'', ''<'', ''\\'''', ''('', '')'', ''CONTENT-TRANSFER-ENCODING'');', -1, '', '', '', 0, ''),
(792, '/source/class/discuz/discuz_application.php', 4, 353, -3, -3, '', -1, '', '', '', 0, ''),
(793, '/source/class/discuz/discuz_application.php', 4, 354, -3, -3, '		if(isset($_GET[''formhash'']) && $_GET[''formhash''] !== formhash()) {', -1, '', '', '', 0, ''),
(794, '/source/class/discuz/discuz_application.php', 4, 355, -3, -3, '			system_error(''request_tainting'');', -1, '', '', '', 0, ''),
(795, '/source/class/discuz/discuz_application.php', 4, 356, -3, -3, '		}', -1, '', '', '', 0, ''),
(796, '/source/class/discuz/discuz_application.php', 4, 357, -3, -3, '', -1, '', '', '', 0, ''),
(797, '/source/class/discuz/discuz_application.php', 4, 358, -3, -3, '		if($_SERVER[''REQUEST_METHOD''] == ''GET'' ) {', -1, '', '', '', 0, ''),
(798, '/source/class/discuz/discuz_application.php', 4, 359, -3, -3, '			$temp = $_SERVER[''REQUEST_URI''];', -1, '', '', '', 0, ''),
(799, '/source/class/discuz/discuz_application.php', 4, 360, -3, -3, '		} elseif(empty ($_GET[''formhash''])) {', -1, '', '', '', 0, ''),
(800, '/source/class/discuz/discuz_application.php', 4, 361, -3, -3, '			$temp = $_SERVER[''REQUEST_URI''].file_get_contents(''php://input'');', -1, '', '', '', 0, ''),
(801, '/source/class/discuz/discuz_application.php', 4, 362, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(802, '/source/class/discuz/discuz_application.php', 4, 363, -3, -3, '			$temp = '''';', -1, '', '', '', 0, ''),
(803, '/source/class/discuz/discuz_application.php', 4, 364, -3, -3, '		}', -1, '', '', '', 0, ''),
(804, '/source/class/discuz/discuz_application.php', 4, 365, -3, -3, '', -1, '', '', '', 0, ''),
(805, '/source/class/discuz/discuz_application.php', 4, 366, -3, -3, '		if(!empty($temp)) {', -1, '', '', '', 0, ''),
(806, '/source/class/discuz/discuz_application.php', 4, 367, -3, -3, '			$temp = strtoupper(urldecode(urldecode($temp)));', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(807, '/source/class/discuz/discuz_application.php', 4, 368, -3, -3, '			foreach ($check as $str) {', -1, '', '', '', 0, ''),
(808, '/source/class/discuz/discuz_application.php', 4, 369, -3, -3, '				if(strpos($temp, $str) !== false) {', -1, '', '', '', 0, ''),
(809, '/source/class/discuz/discuz_application.php', 4, 370, -3, -3, '					system_error(''request_tainting'');', -1, '', '', '', 0, ''),
(810, '/source/class/discuz/discuz_application.php', 4, 371, -3, -3, '				}', -1, '', '', '', 0, ''),
(811, '/source/class/discuz/discuz_application.php', 4, 372, -3, -3, '			}', -1, '', '', '', 0, ''),
(812, '/source/class/discuz/discuz_application.php', 4, 373, -3, -3, '		}', -1, '', '', '', 0, ''),
(813, '/source/class/discuz/discuz_application.php', 4, 374, -3, -3, '', -1, '', '', '', 0, ''),
(814, '/source/class/discuz/discuz_application.php', 4, 375, -3, -3, '		return true;', -1, '', '', '', 0, ''),
(815, '/source/class/discuz/discuz_application.php', 4, 376, -3, -3, '	}', -1, '', '', '', 0, ''),
(816, '/source/class/discuz/discuz_application.php', 4, 377, -2, -2, '', -1, '', '', '', 0, ''),
(817, '/source/class/discuz/discuz_application.php', 4, 378, 0, 0, '	private function _get_client_ip() {\r\n		$ip = $_SERVER[''REMOTE_ADDR''];\r\n\r\n		if (isset($_SERVER[''HTTP_CLIENT_IP'']) && preg_match(''/^([0-9]{1,3}\\.){3}[0-9]{1,3}$/'', $_SERVER[''HTTP_CLIENT_IP''])) {\r\n\r\n			$ip = $_SERVER[''HTTP_CLIENT_IP''];\r\n\r\n		} elseif(isset($_SERVER[''HTTP_X_FORWARDED_FOR'']) AND preg_match_all(''#\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}#s'', $_SERVER[''HTTP_X_FORWARDED_FOR''], $matches)) {\r\n\r\n			foreach ($matches[0] AS $xip) {\r\n\r\n				if (!preg_match(''#^(10|172\\.16|192\\.168)\\.#'', $xip)) {\r\n\r\n					$ip = $xip;\r\n\r\n					break;\r\n\r\n				}\r\n\r\n			}\r\n\r\n		}\r\n\r\n		return $ip;\r\n\r\n	}\r\n', 1, '', '', '在X_FORWARDED_FOR中传入"10.16.1.1.10.16.1.1.1.1.1.1.1.1.1.1.1"类似的数据可以多执行几次foreach。', 0, ''),
(818, '/source/class/discuz/discuz_application.php', 4, 379, -2, -2, '		$ip = $_SERVER[''REMOTE_ADDR''];', -1, '', '', '', 0, ''),
(819, '/source/class/discuz/discuz_application.php', 4, 380, -2, -2, '		if (isset($_SERVER[''HTTP_CLIENT_IP'']) && preg_match(''/^([0-9]{1,3}\\.){3}[0-9]{1,3}$/'', $_SERVER[''HTTP_CLIENT_IP''])) {', -1, '', '', '', 0, ''),
(820, '/source/class/discuz/discuz_application.php', 4, 381, -2, -2, '			$ip = $_SERVER[''HTTP_CLIENT_IP''];', -1, '', '', '', 0, ''),
(821, '/source/class/discuz/discuz_application.php', 4, 382, -2, -2, '		} elseif(isset($_SERVER[''HTTP_X_FORWARDED_FOR'']) AND preg_match_all(''#\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}#s'', $_SERVER[''HTTP_X_FORWARDED_FOR''], $matches)) {', -1, '', '', '', 0, ''),
(822, '/source/class/discuz/discuz_application.php', 4, 383, -2, -2, '			foreach ($matches[0] AS $xip) {', -1, '', '', '', 0, ''),
(823, '/source/class/discuz/discuz_application.php', 4, 384, -2, -2, '				if (!preg_match(''#^(10|172\\.16|192\\.168)\\.#'', $xip)) {', -1, '', '', '', 0, ''),
(824, '/source/class/discuz/discuz_application.php', 4, 385, -2, -2, '					$ip = $xip;', -1, '', '', '', 0, ''),
(825, '/source/class/discuz/discuz_application.php', 4, 386, -2, -2, '					break;', -1, '', '', '', 0, ''),
(826, '/source/class/discuz/discuz_application.php', 4, 387, -2, -2, '				}', -1, '', '', '', 0, ''),
(827, '/source/class/discuz/discuz_application.php', 4, 388, -2, -2, '			}', -1, '', '', '', 0, ''),
(828, '/source/class/discuz/discuz_application.php', 4, 389, -2, -2, '		}', -1, '', '', '', 0, ''),
(829, '/source/class/discuz/discuz_application.php', 4, 390, -2, -2, '		return $ip;', -1, '', '', '', 0, ''),
(830, '/source/class/discuz/discuz_application.php', 4, 391, -2, -2, '	}', -1, '', '', '', 0, ''),
(831, '/source/class/discuz/discuz_application.php', 4, 392, -2, -2, '', -1, '', '', '', 0, ''),
(832, '/source/class/discuz/discuz_application.php', 4, 393, -3, -3, '	private function _init_db() {', -1, '', '', '', 0, ''),
(833, '/source/class/discuz/discuz_application.php', 4, 394, -3, -3, '		if($this->init_db) {', -1, '', '', '', 0, ''),
(834, '/source/class/discuz/discuz_application.php', 4, 395, -3, -3, '			$driver = function_exists(''mysql_connect'') ? ''db_driver_mysql'' : ''db_driver_mysqli'';', -1, '', '', '', 0, ''),
(835, '/source/class/discuz/discuz_application.php', 4, 396, -3, -3, '			if(getglobal(''config/db/slave'')) {', -1, '', '', '', 0, ''),
(836, '/source/class/discuz/discuz_application.php', 4, 397, -3, -3, '				$driver = function_exists(''mysql_connect'') ? ''db_driver_mysql_slave'' : ''db_driver_mysqli_slave'';', -1, '', '', '', 0, ''),
(837, '/source/class/discuz/discuz_application.php', 4, 398, -3, -3, '			}', -1, '', '', '', 0, ''),
(838, '/source/class/discuz/discuz_application.php', 4, 399, -3, -3, '			DB::init($driver, $this->config[''db'']);', -1, '', '', '', 0, ''),
(839, '/source/class/discuz/discuz_application.php', 4, 400, -3, -3, '		}', -1, '', '', '', 0, ''),
(840, '/source/class/discuz/discuz_application.php', 4, 401, -3, -3, '	}', -1, '', '', '', 0, ''),
(841, '/source/class/discuz/discuz_application.php', 4, 402, -3, -3, '', -1, '', '', '', 0, ''),
(842, '/source/class/discuz/discuz_application.php', 4, 403, -3, -3, '	private function _init_session() {', -1, '', '', '', 0, ''),
(843, '/source/class/discuz/discuz_application.php', 4, 404, -3, -3, '', -1, '', '', '', 0, ''),
(844, '/source/class/discuz/discuz_application.php', 4, 405, -3, -3, '		$sessionclose = !empty($this->var[''setting''][''sessionclose'']);', -1, '', '', '', 0, ''),
(845, '/source/class/discuz/discuz_application.php', 4, 406, -3, -3, '		$this->session = $sessionclose ? new discuz_session_close() : new discuz_session();', -1, '', '', '', 0, ''),
(846, '/source/class/discuz/discuz_application.php', 4, 407, -3, -3, '', -1, '', '', '', 0, ''),
(847, '/source/class/discuz/discuz_application.php', 4, 408, -3, -3, '		if($this->init_session)	{', -1, '', '', '', 0, ''),
(848, '/source/class/discuz/discuz_application.php', 4, 409, -3, -3, '			$this->session->init($this->var[''cookie''][''sid''], $this->var[''clientip''], $this->var[''uid'']);', -1, '', '', '', 0, ''),
(849, '/source/class/discuz/discuz_application.php', 4, 410, -3, -3, '			$this->var[''sid''] = $this->session->sid;', -1, '', '', '', 0, ''),
(850, '/source/class/discuz/discuz_application.php', 4, 411, -3, -3, '			$this->var[''session''] = $this->session->var;', -1, '', '', '', 0, ''),
(851, '/source/class/discuz/discuz_application.php', 4, 412, -3, -3, '', -1, '', '', '', 0, ''),
(852, '/source/class/discuz/discuz_application.php', 4, 413, -3, -3, '			if(!empty($this->var[''sid'']) && $this->var[''sid''] != $this->var[''cookie''][''sid'']) {', -1, '', '', '', 0, ''),
(853, '/source/class/discuz/discuz_application.php', 4, 414, -3, -3, '				dsetcookie(''sid'', $this->var[''sid''], 86400);', -1, '', '', '', 0, ''),
(854, '/source/class/discuz/discuz_application.php', 4, 415, -3, -3, '			}', -1, '', '', '', 0, ''),
(855, '/source/class/discuz/discuz_application.php', 4, 416, -3, -3, '', -1, '', '', '', 0, ''),
(856, '/source/class/discuz/discuz_application.php', 4, 417, -3, -3, '			if($this->session->isnew) {', -1, '', '', '', 0, ''),
(857, '/source/class/discuz/discuz_application.php', 4, 418, -3, -3, '				if(ipbanned($this->var[''clientip''])) {', -1, '', '', '', 0, ''),
(858, '/source/class/discuz/discuz_application.php', 4, 419, -3, -3, '					$this->session->set(''groupid'', 6);', -1, '', '', '', 0, ''),
(859, '/source/class/discuz/discuz_application.php', 4, 420, -3, -3, '				}', -1, '', '', '', 0, ''),
(860, '/source/class/discuz/discuz_application.php', 4, 421, -3, -3, '			}', -1, '', '', '', 0, ''),
(861, '/source/class/discuz/discuz_application.php', 4, 422, -3, -3, '', -1, '', '', '', 0, ''),
(862, '/source/class/discuz/discuz_application.php', 4, 423, -3, -3, '			if($this->session->get(''groupid'') == 6) {', -1, '', '', '', 0, ''),
(863, '/source/class/discuz/discuz_application.php', 4, 424, -3, -3, '				$this->var[''member''][''groupid''] = 6;', -1, '', '', '', 0, ''),
(864, '/source/class/discuz/discuz_application.php', 4, 425, -3, -3, '				if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(865, '/source/class/discuz/discuz_application.php', 4, 426, -3, -3, '					sysmessage(''user_banned'');', -1, '', '', '', 0, ''),
(866, '/source/class/discuz/discuz_application.php', 4, 427, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(867, '/source/class/discuz/discuz_application.php', 4, 428, -3, -3, '					mobile_core::result(array(''error'' => ''user_banned''));', -1, '', '', '', 0, ''),
(868, '/source/class/discuz/discuz_application.php', 4, 429, -3, -3, '				}', -1, '', '', '', 0, ''),
(869, '/source/class/discuz/discuz_application.php', 4, 430, -3, -3, '			}', -1, '', '', '', 0, ''),
(870, '/source/class/discuz/discuz_application.php', 4, 431, -3, -3, '', -1, '', '', '', 0, ''),
(871, '/source/class/discuz/discuz_application.php', 4, 432, -3, -3, '			if($this->var[''uid''] && !$sessionclose && ($this->session->isnew || ($this->session->get(''lastactivity'') + 600) < TIMESTAMP)) {', -1, '', '', '', 0, ''),
(872, '/source/class/discuz/discuz_application.php', 4, 433, -3, -3, '				$this->session->set(''lastactivity'', TIMESTAMP);', -1, '', '', '', 0, ''),
(873, '/source/class/discuz/discuz_application.php', 4, 434, -3, -3, '				if($this->session->isnew) {', -1, '', '', '', 0, ''),
(874, '/source/class/discuz/discuz_application.php', 4, 435, -3, -3, '					if($this->var[''member''][''lastip''] && $this->var[''member''][''lastvisit'']) {', -1, '', '', '', 0, ''),
(875, '/source/class/discuz/discuz_application.php', 4, 436, -3, -3, '						dsetcookie(''lip'', $this->var[''member''][''lastip''].'',''.$this->var[''member''][''lastvisit'']);', -1, '', '', '', 0, ''),
(876, '/source/class/discuz/discuz_application.php', 4, 437, -3, -3, '					}', -1, '', '', '', 0, ''),
(877, '/source/class/discuz/discuz_application.php', 4, 438, -3, -3, '					C::t(''common_member_status'')->update($this->var[''uid''], array(''lastip'' => $this->var[''clientip''], ''port'' => $this->var[''remoteport''], ''lastvisit'' => TIMESTAMP));', -1, '', '', '', 0, ''),
(878, '/source/class/discuz/discuz_application.php', 4, 439, -3, -3, '				}', -1, '', '', '', 0, ''),
(879, '/source/class/discuz/discuz_application.php', 4, 440, -3, -3, '			}', -1, '', '', '', 0, ''),
(880, '/source/class/discuz/discuz_application.php', 4, 441, -3, -3, '', -1, '', '', '', 0, ''),
(881, '/source/class/discuz/discuz_application.php', 4, 442, -3, -3, '		}', -1, '', '', '', 0, ''),
(882, '/source/class/discuz/discuz_application.php', 4, 443, -3, -3, '	}', -1, '', '', '', 0, ''),
(883, '/source/class/discuz/discuz_application.php', 4, 444, -3, -3, '', -1, '', '', '', 0, ''),
(884, '/source/class/discuz/discuz_application.php', 4, 445, -3, -3, '	private function _init_user() {', -1, '', '', '', 0, ''),
(885, '/source/class/discuz/discuz_application.php', 4, 446, -3, -3, '		if($this->init_user) {', -1, '', '', '', 0, ''),
(886, '/source/class/discuz/discuz_application.php', 4, 447, -3, -3, '			if($auth = getglobal(''auth'', ''cookie'')) {', -1, '', '', '', 0, ''),
(887, '/source/class/discuz/discuz_application.php', 4, 448, -3, -3, '				$auth = daddslashes(explode("\\t", authcode($auth, ''DECODE'')));', -1, '', '', '', 0, ''),
(888, '/source/class/discuz/discuz_application.php', 4, 449, -3, -3, '			}', -1, '', '', '', 0, ''),
(889, '/source/class/discuz/discuz_application.php', 4, 450, -3, -3, '			list($discuz_pw, $discuz_uid) = empty($auth) || count($auth) < 2 ? array('''', '''') : $auth;', -1, '', '', '', 0, ''),
(890, '/source/class/discuz/discuz_application.php', 4, 451, -3, -3, '', -1, '', '', '', 0, ''),
(891, '/source/class/discuz/discuz_application.php', 4, 452, -3, -3, '			if($discuz_uid) {', -1, '', '', '', 0, ''),
(892, '/source/class/discuz/discuz_application.php', 4, 453, -3, -3, '				$user = getuserbyuid($discuz_uid, 1);', -1, '', '', '', 0, ''),
(893, '/source/class/discuz/discuz_application.php', 4, 454, -3, -3, '			}', -1, '', '', '', 0, ''),
(894, '/source/class/discuz/discuz_application.php', 4, 455, -3, -3, '', -1, '', '', '', 0, ''),
(895, '/source/class/discuz/discuz_application.php', 4, 456, -3, -3, '			if(!empty($user) && $user[''password''] == $discuz_pw) {', -1, '', '', '', 0, ''),
(896, '/source/class/discuz/discuz_application.php', 4, 457, -3, -3, '				if(isset($user[''_inarchive''])) {', -1, '', '', '', 0, ''),
(897, '/source/class/discuz/discuz_application.php', 4, 458, -3, -3, '					C::t(''common_member_archive'')->move_to_master($discuz_uid);', -1, '', '', '', 0, ''),
(898, '/source/class/discuz/discuz_application.php', 4, 459, -3, -3, '				}', -1, '', '', '', 0, ''),
(899, '/source/class/discuz/discuz_application.php', 4, 460, -3, -3, '				$this->var[''member''] = $user;', -1, '', '', '', 0, ''),
(900, '/source/class/discuz/discuz_application.php', 4, 461, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(901, '/source/class/discuz/discuz_application.php', 4, 462, -3, -3, '				$user = array();', -1, '', '', '', 0, ''),
(902, '/source/class/discuz/discuz_application.php', 4, 463, -3, -3, '				$this->_init_guest();', -1, '', '', '', 0, ''),
(903, '/source/class/discuz/discuz_application.php', 4, 464, -3, -3, '			}', -1, '', '', '', 0, ''),
(904, '/source/class/discuz/discuz_application.php', 4, 465, -3, -3, '', -1, '', '', '', 0, ''),
(905, '/source/class/discuz/discuz_application.php', 4, 466, -3, -3, '			if($user && $user[''groupexpiry''] > 0 && $user[''groupexpiry''] < TIMESTAMP) {', -1, '', '', '', 0, ''),
(906, '/source/class/discuz/discuz_application.php', 4, 467, -3, -3, '				$memberfieldforum = C::t(''common_member_field_forum'')->fetch($discuz_uid);', -1, '', '', '', 0, ''),
(907, '/source/class/discuz/discuz_application.php', 4, 468, -3, -3, '				$groupterms = dunserialize($memberfieldforum[''groupterms'']);', -1, '', '', '', 0, ''),
(908, '/source/class/discuz/discuz_application.php', 4, 469, -3, -3, '				if(!empty($groupterms[''main''])) {', -1, '', '', '', 0, ''),
(909, '/source/class/discuz/discuz_application.php', 4, 470, -3, -3, '					C::t("common_member")->update($user[''uid''], array(''groupexpiry''=> 0, ''groupid'' => $groupterms[''main''][''groupid''], ''adminid'' => $groupterms[''main''][''adminid'']));', -1, '', '', '', 0, ''),
(910, '/source/class/discuz/discuz_application.php', 4, 471, -3, -3, '					$user[''groupid''] = $groupterms[''main''][''groupid''];', -1, '', '', '', 0, ''),
(911, '/source/class/discuz/discuz_application.php', 4, 472, -3, -3, '					$user[''adminid''] = $groupterms[''main''][''adminid''];', -1, '', '', '', 0, ''),
(912, '/source/class/discuz/discuz_application.php', 4, 473, -3, -3, '					unset($groupterms[''main''], $groupterms[''ext''][$this->var[''member''][''groupid'']]);', -1, '', '', '', 0, ''),
(913, '/source/class/discuz/discuz_application.php', 4, 474, -3, -3, '					$this->var[''member''] = $user;', -1, '', '', '', 0, ''),
(914, '/source/class/discuz/discuz_application.php', 4, 475, -3, -3, '					C::t(''common_member_field_forum'')->update($discuz_uid, array(''groupterms'' => serialize($groupterms)));', -1, '', '', '', 0, ''),
(915, '/source/class/discuz/discuz_application.php', 4, 476, -3, -3, '				} elseif((getgpc(''mod'') != ''spacecp'' || CURSCRIPT != ''home'') && CURSCRIPT != ''member'') {', -1, '', '', '', 0, ''),
(916, '/source/class/discuz/discuz_application.php', 4, 477, -3, -3, '					dheader(''location: home.php?mod=spacecp&ac=usergroup&do=expiry'');', -1, '', '', '', 0, ''),
(917, '/source/class/discuz/discuz_application.php', 4, 478, -3, -3, '				}', -1, '', '', '', 0, ''),
(918, '/source/class/discuz/discuz_application.php', 4, 479, -3, -3, '			}', -1, '', '', '', 0, ''),
(919, '/source/class/discuz/discuz_application.php', 4, 480, -3, -3, '', -1, '', '', '', 0, ''),
(920, '/source/class/discuz/discuz_application.php', 4, 481, -3, -3, '			if($user && $user[''freeze''] && (getgpc(''mod'') != ''spacecp'' && getgpc(''mod'') != ''misc''  || CURSCRIPT != ''home'') && CURSCRIPT != ''member'' && CURSCRIPT != ''misc'') {', -1, '', '', '', 0, ''),
(921, '/source/class/discuz/discuz_application.php', 4, 482, -3, -3, '				dheader(''location: home.php?mod=spacecp&ac=profile&op=password'');', -1, '', '', '', 0, ''),
(922, '/source/class/discuz/discuz_application.php', 4, 483, -3, -3, '			}', -1, '', '', '', 0, ''),
(923, '/source/class/discuz/discuz_application.php', 4, 484, -3, -3, '', -1, '', '', '', 0, ''),
(924, '/source/class/discuz/discuz_application.php', 4, 485, -3, -3, '			$this->cachelist[] = ''usergroup_''.$this->var[''member''][''groupid''];', -1, '', '', '', 0, ''),
(925, '/source/class/discuz/discuz_application.php', 4, 486, -3, -3, '			if($user && $user[''adminid''] > 0 && $user[''groupid''] != $user[''adminid'']) {', -1, '', '', '', 0, ''),
(926, '/source/class/discuz/discuz_application.php', 4, 487, -3, -3, '				$this->cachelist[] = ''admingroup_''.$this->var[''member''][''adminid''];', -1, '', '', '', 0, ''),
(927, '/source/class/discuz/discuz_application.php', 4, 488, -3, -3, '			}', -1, '', '', '', 0, ''),
(928, '/source/class/discuz/discuz_application.php', 4, 489, -3, -3, '', -1, '', '', '', 0, ''),
(929, '/source/class/discuz/discuz_application.php', 4, 490, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(930, '/source/class/discuz/discuz_application.php', 4, 491, -3, -3, '			$this->_init_guest();', -1, '', '', '', 0, ''),
(931, '/source/class/discuz/discuz_application.php', 4, 492, -3, -3, '		}', -1, '', '', '', 0, ''),
(932, '/source/class/discuz/discuz_application.php', 4, 493, -3, -3, '		setglobal(''groupid'', getglobal(''groupid'', ''member''));', -1, '', '', '', 0, ''),
(933, '/source/class/discuz/discuz_application.php', 4, 494, -3, -3, '		!empty($this->cachelist) && loadcache($this->cachelist);', -1, '', '', '', 0, ''),
(934, '/source/class/discuz/discuz_application.php', 4, 495, -3, -3, '', -1, '', '', '', 0, ''),
(935, '/source/class/discuz/discuz_application.php', 4, 496, -3, -3, '		if($this->var[''member''] && $this->var[''group''][''radminid''] == 0 && $this->var[''member''][''adminid''] > 0 && $this->var[''member''][''groupid''] != $this->var[''member''][''adminid''] && !empty($this->var[''cache''][''admingroup_''.$this->var[''member''][''adminid'']])) {', -1, '', '', '', 0, ''),
(936, '/source/class/discuz/discuz_application.php', 4, 497, -3, -3, '			$this->var[''group''] = array_merge($this->var[''group''], $this->var[''cache''][''admingroup_''.$this->var[''member''][''adminid'']]);', -1, '', '', '', 0, ''),
(937, '/source/class/discuz/discuz_application.php', 4, 498, -3, -3, '		}', -1, '', '', '', 0, ''),
(938, '/source/class/discuz/discuz_application.php', 4, 499, -3, -3, '', -1, '', '', '', 0, ''),
(939, '/source/class/discuz/discuz_application.php', 4, 500, -3, -3, '		if($this->var[''group''][''allowmakehtml''] && isset($_GET[''_makehtml''])) {', -1, '', '', '', 0, ''),
(940, '/source/class/discuz/discuz_application.php', 4, 501, -3, -3, '			$this->var[''makehtml''] = 1;', -1, '', '', '', 0, ''),
(941, '/source/class/discuz/discuz_application.php', 4, 502, -3, -3, '			$this->_init_guest();', -1, '', '', '', 0, ''),
(942, '/source/class/discuz/discuz_application.php', 4, 503, -3, -3, '			loadcache(array(''usergroup_7''));', -1, '', '', '', 0, ''),
(943, '/source/class/discuz/discuz_application.php', 4, 504, -3, -3, '			$this->var[''group''] = $this->var[''cache''][''usergroup_7''];', -1, '', '', '', 0, ''),
(944, '/source/class/discuz/discuz_application.php', 4, 505, -3, -3, '			unset($this->var[''inajax'']);', -1, '', '', '', 0, ''),
(945, '/source/class/discuz/discuz_application.php', 4, 506, -3, -3, '		}', -1, '', '', '', 0, ''),
(946, '/source/class/discuz/discuz_application.php', 4, 507, -3, -3, '', -1, '', '', '', 0, ''),
(947, '/source/class/discuz/discuz_application.php', 4, 508, -3, -3, '		if(empty($this->var[''cookie''][''lastvisit''])) {', -1, '', '', '', 0, ''),
(948, '/source/class/discuz/discuz_application.php', 4, 509, -3, -3, '			$this->var[''member''][''lastvisit''] = TIMESTAMP - 3600;', -1, '', '', '', 0, ''),
(949, '/source/class/discuz/discuz_application.php', 4, 510, -3, -3, '			dsetcookie(''lastvisit'', TIMESTAMP - 3600, 86400 * 30);', -1, '', '', '', 0, ''),
(950, '/source/class/discuz/discuz_application.php', 4, 511, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(951, '/source/class/discuz/discuz_application.php', 4, 512, -3, -3, '			$this->var[''member''][''lastvisit''] = $this->var[''cookie''][''lastvisit''];', -1, '', '', '', 0, ''),
(952, '/source/class/discuz/discuz_application.php', 4, 513, -3, -3, '		}', -1, '', '', '', 0, ''),
(953, '/source/class/discuz/discuz_application.php', 4, 514, -3, -3, '', -1, '', '', '', 0, ''),
(954, '/source/class/discuz/discuz_application.php', 4, 515, -3, -3, '		setglobal(''uid'', getglobal(''uid'', ''member''));', -1, '', '', '', 0, ''),
(955, '/source/class/discuz/discuz_application.php', 4, 516, -3, -3, '		setglobal(''username'', getglobal(''username'', ''member''));', -1, '', '', '', 0, ''),
(956, '/source/class/discuz/discuz_application.php', 4, 517, -3, -3, '		setglobal(''adminid'', getglobal(''adminid'', ''member''));', -1, '', '', '', 0, ''),
(957, '/source/class/discuz/discuz_application.php', 4, 518, -3, -3, '		setglobal(''groupid'', getglobal(''groupid'', ''member''));', -1, '', '', '', 0, ''),
(958, '/source/class/discuz/discuz_application.php', 4, 519, -3, -3, '		if($this->var[''member''][''newprompt'']) {', -1, '', '', '', 0, ''),
(959, '/source/class/discuz/discuz_application.php', 4, 520, -3, -3, '			$this->var[''member''][''newprompt_num''] = C::t(''common_member_newprompt'')->fetch($this->var[''member''][''uid'']);', -1, '', '', '', 0, ''),
(960, '/source/class/discuz/discuz_application.php', 4, 521, -3, -3, '			$this->var[''member''][''newprompt_num''] = unserialize($this->var[''member''][''newprompt_num''][''data'']);', -1, '', '', '', 0, ''),
(961, '/source/class/discuz/discuz_application.php', 4, 522, -3, -3, '			$this->var[''member''][''category_num''] = helper_notification::get_categorynum($this->var[''member''][''newprompt_num'']);', -1, '', '', '', 0, ''),
(962, '/source/class/discuz/discuz_application.php', 4, 523, -3, -3, '		}', -1, '', '', '', 0, ''),
(963, '/source/class/discuz/discuz_application.php', 4, 524, -3, -3, '', -1, '', '', '', 0, ''),
(964, '/source/class/discuz/discuz_application.php', 4, 525, -3, -3, '	}', -1, '', '', '', 0, ''),
(965, '/source/class/discuz/discuz_application.php', 4, 526, -3, -3, '', -1, '', '', '', 0, ''),
(966, '/source/class/discuz/discuz_application.php', 4, 527, -3, -3, '	private function _init_guest() {', -1, '', '', '', 0, ''),
(967, '/source/class/discuz/discuz_application.php', 4, 528, -3, -3, '		$username = '''';', -1, '', '', '', 0, ''),
(968, '/source/class/discuz/discuz_application.php', 4, 529, -3, -3, '		$groupid = 7;', -1, '', '', '', 0, ''),
(969, '/source/class/discuz/discuz_application.php', 4, 530, -3, -3, '		if(!empty($this->var[''cookie''][''con_auth_hash'']) && ($openid = authcode($this->var[''cookie''][''con_auth_hash'']))) {', -1, '', '', '', 0, ''),
(970, '/source/class/discuz/discuz_application.php', 4, 531, -3, -3, '			$this->var[''connectguest''] = 1;', -1, '', '', '', 0, ''),
(971, '/source/class/discuz/discuz_application.php', 4, 532, -3, -3, '			$username = ''QQ_''.substr($openid, -6);', -1, '', '', '', 0, ''),
(972, '/source/class/discuz/discuz_application.php', 4, 533, -3, -3, '			$this->var[''setting''][''cacheindexlife''] = 0;', -1, '', '', '', 0, ''),
(973, '/source/class/discuz/discuz_application.php', 4, 534, -3, -3, '			$this->var[''setting''][''cachethreadlife''] = 0;', -1, '', '', '', 0, ''),
(974, '/source/class/discuz/discuz_application.php', 4, 535, -3, -3, '			$groupid = $this->var[''setting''][''connect''][''guest_groupid''] ? $this->var[''setting''][''connect''][''guest_groupid''] : $this->var[''setting''][''newusergroupid''];', -1, '', '', '', 0, ''),
(975, '/source/class/discuz/discuz_application.php', 4, 536, -3, -3, '		}', -1, '', '', '', 0, ''),
(976, '/source/class/discuz/discuz_application.php', 4, 537, -3, -3, '		setglobal(''member'', array( ''uid'' => 0, ''username'' => $username, ''adminid'' => 0, ''groupid'' => $groupid, ''credits'' => 0, ''timeoffset'' => 9999));', -1, '', '', '', 0, ''),
(977, '/source/class/discuz/discuz_application.php', 4, 538, -3, -3, '	}', -1, '', '', '', 0, ''),
(978, '/source/class/discuz/discuz_application.php', 4, 539, -3, -3, '', -1, '', '', '', 0, ''),
(979, '/source/class/discuz/discuz_application.php', 4, 540, -3, -3, '	private function _init_cron() {', -1, '', '', '', 0, ''),
(980, '/source/class/discuz/discuz_application.php', 4, 541, -3, -3, '		$ext = empty($this->config[''remote''][''on'']) || empty($this->config[''remote''][''cron'']) || APPTYPEID == 200;', -1, '', '', '', 0, ''),
(981, '/source/class/discuz/discuz_application.php', 4, 542, -3, -3, '		if($this->init_cron && $this->init_setting && $ext) {', -1, '', '', '', 0, ''),
(982, '/source/class/discuz/discuz_application.php', 4, 543, -3, -3, '			if($this->var[''cache''][''cronnextrun''] <= TIMESTAMP) {', -1, '', '', '', 0, ''),
(983, '/source/class/discuz/discuz_application.php', 4, 544, -3, -3, '				discuz_cron::run();', -1, '', '', '', 0, ''),
(984, '/source/class/discuz/discuz_application.php', 4, 545, -3, -3, '			}', -1, '', '', '', 0, ''),
(985, '/source/class/discuz/discuz_application.php', 4, 546, -3, -3, '		}', -1, '', '', '', 0, ''),
(986, '/source/class/discuz/discuz_application.php', 4, 547, -3, -3, '	}', -1, '', '', '', 0, ''),
(987, '/source/class/discuz/discuz_application.php', 4, 548, -3, -3, '', -1, '', '', '', 0, ''),
(988, '/source/class/discuz/discuz_application.php', 4, 549, -3, -3, '	private function _init_misc() {', -1, '', '', '', 0, ''),
(989, '/source/class/discuz/discuz_application.php', 4, 550, -3, -3, '', -1, '', '', '', 0, ''),
(990, '/source/class/discuz/discuz_application.php', 4, 551, -3, -3, '		if($this->config[''security''][''urlxssdefend''] && !defined(''DISABLEXSSCHECK'')) {', -1, '', '', '', 0, ''),
(991, '/source/class/discuz/discuz_application.php', 4, 552, -3, -3, '			$this->_xss_check();', -1, '', '', '', 0, ''),
(992, '/source/class/discuz/discuz_application.php', 4, 553, -3, -3, '		}', -1, '', '', '', 0, ''),
(993, '/source/class/discuz/discuz_application.php', 4, 554, -3, -3, '', -1, '', '', '', 0, ''),
(994, '/source/class/discuz/discuz_application.php', 4, 555, -3, -3, '		if(!$this->init_misc) {', -1, '', '', '', 0, ''),
(995, '/source/class/discuz/discuz_application.php', 4, 556, -3, -3, '			return false;', -1, '', '', '', 0, ''),
(996, '/source/class/discuz/discuz_application.php', 4, 557, -3, -3, '		}', -1, '', '', '', 0, ''),
(997, '/source/class/discuz/discuz_application.php', 4, 558, -3, -3, '		lang(''core'');', -1, '', '', '', 0, ''),
(998, '/source/class/discuz/discuz_application.php', 4, 559, -3, -3, '', -1, '', '', '', 0, ''),
(999, '/source/class/discuz/discuz_application.php', 4, 560, -3, -3, '		if($this->init_setting && $this->init_user) {', -1, '', '', '', 0, ''),
(1000, '/source/class/discuz/discuz_application.php', 4, 561, -3, -3, '			if(!isset($this->var[''member''][''timeoffset'']) || $this->var[''member''][''timeoffset''] == 9999 || $this->var[''member''][''timeoffset''] === '''') {', -1, '', '', '', 0, ''),
(1001, '/source/class/discuz/discuz_application.php', 4, 562, -3, -3, '				$this->var[''member''][''timeoffset''] = $this->var[''setting''][''timeoffset''];', -1, '', '', '', 0, ''),
(1002, '/source/class/discuz/discuz_application.php', 4, 563, -3, -3, '			}', -1, '', '', '', 0, ''),
(1003, '/source/class/discuz/discuz_application.php', 4, 564, -3, -3, '		}', -1, '', '', '', 0, ''),
(1004, '/source/class/discuz/discuz_application.php', 4, 565, -3, -3, '', -1, '', '', '', 0, ''),
(1005, '/source/class/discuz/discuz_application.php', 4, 566, -3, -3, '		$timeoffset = $this->init_setting ? $this->var[''member''][''timeoffset''] : $this->var[''setting''][''timeoffset''];', -1, '', '', '', 0, ''),
(1006, '/source/class/discuz/discuz_application.php', 4, 567, -3, -3, '		$this->var[''timenow''] = array(', -1, '', '', '', 0, ''),
(1007, '/source/class/discuz/discuz_application.php', 4, 568, -3, -3, '			''time'' => dgmdate(TIMESTAMP),', -1, '', '', '', 0, ''),
(1008, '/source/class/discuz/discuz_application.php', 4, 569, -3, -3, '			''offset'' => $timeoffset >= 0 ? ($timeoffset == 0 ? '''' : ''+''.$timeoffset) : $timeoffset', -1, '', '', '', 0, ''),
(1009, '/source/class/discuz/discuz_application.php', 4, 570, -3, -3, '		);', -1, '', '', '', 0, ''),
(1010, '/source/class/discuz/discuz_application.php', 4, 571, -3, -3, '		$this->timezone_set($timeoffset);', -1, '', '', '', 0, ''),
(1011, '/source/class/discuz/discuz_application.php', 4, 572, -3, -3, '', -1, '', '', '', 0, ''),
(1012, '/source/class/discuz/discuz_application.php', 4, 573, -3, -3, '		$this->var[''formhash''] = formhash();', -1, '', '', '', 0, ''),
(1013, '/source/class/discuz/discuz_application.php', 4, 574, -3, -3, '		define(''FORMHASH'', $this->var[''formhash'']);', -1, '', '', '', 0, ''),
(1014, '/source/class/discuz/discuz_application.php', 4, 575, -3, -3, '', -1, '', '', '', 0, ''),
(1015, '/source/class/discuz/discuz_application.php', 4, 576, -3, -3, '		if($this->init_user) {', -1, '', '', '', 0, ''),
(1016, '/source/class/discuz/discuz_application.php', 4, 577, -3, -3, '			$allowvisitflag = in_array(CURSCRIPT, array(''member'')) || defined(''ALLOWGUEST'') && ALLOWGUEST;', -1, '', '', '', 0, ''),
(1017, '/source/class/discuz/discuz_application.php', 4, 578, -3, -3, '			if($this->var[''group''] && isset($this->var[''group''][''allowvisit'']) && !$this->var[''group''][''allowvisit'']) {', -1, '', '', '', 0, ''),
(1018, '/source/class/discuz/discuz_application.php', 4, 579, -3, -3, '				if($this->var[''uid''] && !$allowvisitflag) {', -1, '', '', '', 0, ''),
(1019, '/source/class/discuz/discuz_application.php', 4, 580, -3, -3, '					if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(1020, '/source/class/discuz/discuz_application.php', 4, 581, -3, -3, '						showmessage(''user_banned'');', -1, '', '', '', 0, ''),
(1021, '/source/class/discuz/discuz_application.php', 4, 582, -3, -3, '					} else {', -1, '', '', '', 0, ''),
(1022, '/source/class/discuz/discuz_application.php', 4, 583, -3, -3, '						mobile_core::result(array(''error'' => ''user_banned''));', -1, '', '', '', 0, ''),
(1023, '/source/class/discuz/discuz_application.php', 4, 584, -3, -3, '					}', -1, '', '', '', 0, ''),
(1024, '/source/class/discuz/discuz_application.php', 4, 585, -3, -3, '				} elseif((!defined(''ALLOWGUEST'') || !ALLOWGUEST) && !in_array(CURSCRIPT, array(''member'', ''api'')) && !$this->var[''inajax'']) {', -1, '', '', '', 0, ''),
(1025, '/source/class/discuz/discuz_application.php', 4, 586, -3, -3, '					if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(1026, '/source/class/discuz/discuz_application.php', 4, 587, -3, -3, '						dheader(''location: member.php?mod=logging&action=login&referer=''.rawurlencode($this->var[''siteurl''].$this->var[''basefilename''].($_SERVER[''QUERY_STRING''] ? ''?''.$_SERVER[''QUERY_STRING''] : '''')));', -1, '', '', '', 0, ''),
(1027, '/source/class/discuz/discuz_application.php', 4, 588, -3, -3, '					} else {', -1, '', '', '', 0, ''),
(1028, '/source/class/discuz/discuz_application.php', 4, 589, -3, -3, '						mobile_core::result(array(''error'' => ''to_login''));', -1, '', '', '', 0, ''),
(1029, '/source/class/discuz/discuz_application.php', 4, 590, -3, -3, '					}', -1, '', '', '', 0, ''),
(1030, '/source/class/discuz/discuz_application.php', 4, 591, -3, -3, '				}', -1, '', '', '', 0, ''),
(1031, '/source/class/discuz/discuz_application.php', 4, 592, -3, -3, '			}', -1, '', '', '', 0, ''),
(1032, '/source/class/discuz/discuz_application.php', 4, 593, -3, -3, '			if(isset($this->var[''member''][''status'']) && $this->var[''member''][''status''] == -1 && !$allowvisitflag) {', -1, '', '', '', 0, ''),
(1033, '/source/class/discuz/discuz_application.php', 4, 594, -3, -3, '				if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(1034, '/source/class/discuz/discuz_application.php', 4, 595, -3, -3, '					showmessage(''user_banned'');', -1, '', '', '', 0, ''),
(1035, '/source/class/discuz/discuz_application.php', 4, 596, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(1036, '/source/class/discuz/discuz_application.php', 4, 597, -3, -3, '					mobile_core::result(array(''error'' => ''user_banned''));', -1, '', '', '', 0, ''),
(1037, '/source/class/discuz/discuz_application.php', 4, 598, -3, -3, '				}', -1, '', '', '', 0, ''),
(1038, '/source/class/discuz/discuz_application.php', 4, 599, -3, -3, '			}', -1, '', '', '', 0, ''),
(1039, '/source/class/discuz/discuz_application.php', 4, 600, -3, -3, '		}', -1, '', '', '', 0, ''),
(1040, '/source/class/discuz/discuz_application.php', 4, 601, -3, -3, '', -1, '', '', '', 0, ''),
(1041, '/source/class/discuz/discuz_application.php', 4, 602, -3, -3, '		if($this->var[''setting''][''ipaccess''] && !ipaccess($this->var[''clientip''], $this->var[''setting''][''ipaccess''])) {', -1, '', '', '', 0, ''),
(1042, '/source/class/discuz/discuz_application.php', 4, 603, -3, -3, '			if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(1043, '/source/class/discuz/discuz_application.php', 4, 604, -3, -3, '				showmessage(''user_banned'');', -1, '', '', '', 0, ''),
(1044, '/source/class/discuz/discuz_application.php', 4, 605, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1045, '/source/class/discuz/discuz_application.php', 4, 606, -3, -3, '				mobile_core::result(array(''error'' => ''user_banned''));', -1, '', '', '', 0, ''),
(1046, '/source/class/discuz/discuz_application.php', 4, 607, -3, -3, '			}', -1, '', '', '', 0, ''),
(1047, '/source/class/discuz/discuz_application.php', 4, 608, -3, -3, '		}', -1, '', '', '', 0, ''),
(1048, '/source/class/discuz/discuz_application.php', 4, 609, -3, -3, '', -1, '', '', '', 0, ''),
(1049, '/source/class/discuz/discuz_application.php', 4, 610, -3, -3, '		if($this->var[''setting''][''bbclosed'']) {', -1, '', '', '', 0, ''),
(1050, '/source/class/discuz/discuz_application.php', 4, 611, -3, -3, '			if($this->var[''uid''] && ($this->var[''group''][''allowvisit''] == 2 || $this->var[''groupid''] == 1)) {', -1, '', '', '', 0, ''),
(1051, '/source/class/discuz/discuz_application.php', 4, 612, -3, -3, '			} elseif(in_array(CURSCRIPT, array(''admin'', ''member'', ''api'')) || defined(''ALLOWGUEST'') && ALLOWGUEST) {', -1, '', '', '', 0, ''),
(1052, '/source/class/discuz/discuz_application.php', 4, 613, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1053, '/source/class/discuz/discuz_application.php', 4, 614, -3, -3, '				$closedreason = C::t(''common_setting'')->fetch(''closedreason'');', -1, '', '', '', 0, ''),
(1054, '/source/class/discuz/discuz_application.php', 4, 615, -3, -3, '				$closedreason = str_replace('':'', ''&#58;'', $closedreason);', -1, '', '', '', 0, ''),
(1055, '/source/class/discuz/discuz_application.php', 4, 616, -3, -3, '				if(!defined(''IN_MOBILE_API'')) {', -1, '', '', '', 0, ''),
(1056, '/source/class/discuz/discuz_application.php', 4, 617, -3, -3, '					showmessage($closedreason ? $closedreason : ''board_closed'', NULL, array(''adminemail'' => $this->var[''setting''][''adminemail'']), array(''login'' => 1));', -1, '', '', '', 0, ''),
(1057, '/source/class/discuz/discuz_application.php', 4, 618, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(1058, '/source/class/discuz/discuz_application.php', 4, 619, -3, -3, '					mobile_core::result(array(''error'' => $closedreason ? $closedreason : ''board_closed''));', -1, '', '', '', 0, ''),
(1059, '/source/class/discuz/discuz_application.php', 4, 620, -3, -3, '				}', -1, '', '', '', 0, ''),
(1060, '/source/class/discuz/discuz_application.php', 4, 621, -3, -3, '			}', -1, '', '', '', 0, ''),
(1061, '/source/class/discuz/discuz_application.php', 4, 622, -3, -3, '		}', -1, '', '', '', 0, ''),
(1062, '/source/class/discuz/discuz_application.php', 4, 623, -3, -3, '', -1, '', '', '', 0, ''),
(1063, '/source/class/discuz/discuz_application.php', 4, 624, -3, -3, '		if(CURSCRIPT != ''admin'' && !(in_array($this->var[''mod''], array(''logging'', ''seccode'')))) {', -1, '', '', '', 0, ''),
(1064, '/source/class/discuz/discuz_application.php', 4, 625, -3, -3, '			periodscheck(''visitbanperiods'');', -1, '', '', '', 0, ''),
(1065, '/source/class/discuz/discuz_application.php', 4, 626, -3, -3, '		}', -1, '', '', '', 0, ''),
(1066, '/source/class/discuz/discuz_application.php', 4, 627, -3, -3, '', -1, '', '', '', 0, ''),
(1067, '/source/class/discuz/discuz_application.php', 4, 628, -3, -3, '		if(defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(1068, '/source/class/discuz/discuz_application.php', 4, 629, -3, -3, '			$this->var[''tpp''] = $this->var[''setting''][''mobile''][''mobiletopicperpage''] ? intval($this->var[''setting''][''mobile''][''mobiletopicperpage'']) : 20;', -1, '', '', '', 0, ''),
(1069, '/source/class/discuz/discuz_application.php', 4, 630, -3, -3, '			$this->var[''ppp''] = $this->var[''setting''][''mobile''][''mobilepostperpage''] ? intval($this->var[''setting''][''mobile''][''mobilepostperpage'']) : 5;', -1, '', '', '', 0, ''),
(1070, '/source/class/discuz/discuz_application.php', 4, 631, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1071, '/source/class/discuz/discuz_application.php', 4, 632, -3, -3, '			$this->var[''tpp''] = $this->var[''setting''][''topicperpage''] ? intval($this->var[''setting''][''topicperpage'']) : 20;', -1, '', '', '', 0, ''),
(1072, '/source/class/discuz/discuz_application.php', 4, 633, -3, -3, '			$this->var[''ppp''] = $this->var[''setting''][''postperpage''] ? intval($this->var[''setting''][''postperpage'']) : 10;', -1, '', '', '', 0, ''),
(1073, '/source/class/discuz/discuz_application.php', 4, 634, -3, -3, '		}', -1, '', '', '', 0, ''),
(1074, '/source/class/discuz/discuz_application.php', 4, 635, -3, -3, '', -1, '', '', '', 0, ''),
(1075, '/source/class/discuz/discuz_application.php', 4, 636, -3, -3, '		if($this->var[''setting''][''nocacheheaders'']) {', -1, '', '', '', 0, ''),
(1076, '/source/class/discuz/discuz_application.php', 4, 637, -3, -3, '			@header("Expires: -1");', -1, '', '', '', 0, ''),
(1077, '/source/class/discuz/discuz_application.php', 4, 638, -3, -3, '			@header("Cache-Control: no-store, private, post-check=0, pre-check=0, max-age=0", FALSE);', -1, '', '', '', 0, ''),
(1078, '/source/class/discuz/discuz_application.php', 4, 639, -3, -3, '			@header("Pragma: no-cache");', -1, '', '', '', 0, ''),
(1079, '/source/class/discuz/discuz_application.php', 4, 640, -3, -3, '		}', -1, '', '', '', 0, ''),
(1080, '/source/class/discuz/discuz_application.php', 4, 641, -3, -3, '', -1, '', '', '', 0, ''),
(1081, '/source/class/discuz/discuz_application.php', 4, 642, -3, -3, '		if($this->session->isnew && $this->var[''uid'']) {', -1, '', '', '', 0, ''),
(1082, '/source/class/discuz/discuz_application.php', 4, 643, -3, -3, '			updatecreditbyaction(''daylogin'', $this->var[''uid'']);', -1, '', '', '', 0, ''),
(1083, '/source/class/discuz/discuz_application.php', 4, 644, -3, -3, '', -1, '', '', '', 0, ''),
(1084, '/source/class/discuz/discuz_application.php', 4, 645, -3, -3, '			include_once libfile(''function/stat'');', -1, '', '', '', 0, ''),
(1085, '/source/class/discuz/discuz_application.php', 4, 646, -3, -3, '			updatestat(''login'', 1);', -1, '', '', '', 0, ''),
(1086, '/source/class/discuz/discuz_application.php', 4, 647, -3, -3, '			if(defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(1087, '/source/class/discuz/discuz_application.php', 4, 648, -3, -3, '				updatestat(''mobilelogin'', 1);', -1, '', '', '', 0, ''),
(1088, '/source/class/discuz/discuz_application.php', 4, 649, -3, -3, '			}', -1, '', '', '', 0, ''),
(1089, '/source/class/discuz/discuz_application.php', 4, 650, -3, -3, '			if($this->var[''setting''][''connect''][''allow''] && $this->var[''member''][''conisbind'']) {', -1, '', '', '', 0, ''),
(1090, '/source/class/discuz/discuz_application.php', 4, 651, -3, -3, '				updatestat(''connectlogin'', 1);', -1, '', '', '', 0, ''),
(1091, '/source/class/discuz/discuz_application.php', 4, 652, -3, -3, '			}', -1, '', '', '', 0, ''),
(1092, '/source/class/discuz/discuz_application.php', 4, 653, -3, -3, '		}', -1, '', '', '', 0, ''),
(1093, '/source/class/discuz/discuz_application.php', 4, 654, -3, -3, '		if(isset($this->var[''member''][''conisbind'']) && $this->var[''member''][''conisbind''] && $this->var[''setting''] && $this->var[''setting''][''connect''][''newbiespan''] !== '''') {', -1, '', '', '', 0, ''),
(1094, '/source/class/discuz/discuz_application.php', 4, 655, -3, -3, '			$this->var[''setting''][''newbiespan''] = $this->var[''setting''][''connect''][''newbiespan''];', -1, '', '', '', 0, ''),
(1095, '/source/class/discuz/discuz_application.php', 4, 656, -3, -3, '		}', -1, '', '', '', 0, ''),
(1096, '/source/class/discuz/discuz_application.php', 4, 657, -3, -3, '', -1, '', '', '', 0, ''),
(1097, '/source/class/discuz/discuz_application.php', 4, 658, -3, -3, '		$lastact = TIMESTAMP."\\t".dhtmlspecialchars(basename($this->var[''PHP_SELF'']))."\\t".dhtmlspecialchars($this->var[''mod'']);', -1, '', '', '', 0, ''),
(1098, '/source/class/discuz/discuz_application.php', 4, 659, -3, -3, '		dsetcookie(''lastact'', $lastact, 86400);', -1, '', '', '', 0, ''),
(1099, '/source/class/discuz/discuz_application.php', 4, 660, -3, -3, '		setglobal(''currenturl_encode'', base64_encode(''http://''.$_SERVER[''HTTP_HOST''].$_SERVER[''REQUEST_URI'']));', -1, '', '', '', 0, ''),
(1100, '/source/class/discuz/discuz_application.php', 4, 661, -3, -3, '', -1, '', '', '', 0, ''),
(1101, '/source/class/discuz/discuz_application.php', 4, 662, -3, -3, '		if((!empty($_GET[''fromuid'']) || !empty($_GET[''fromuser''])) && ($this->var[''setting''][''creditspolicy''][''promotion_visit''] || $this->var[''setting''][''creditspolicy''][''promotion_register''])) {', -1, '', '', '', 0, ''),
(1102, '/source/class/discuz/discuz_application.php', 4, 663, -3, -3, '			require_once libfile(''misc/promotion'', ''include'');', -1, '', '', '', 0, ''),
(1103, '/source/class/discuz/discuz_application.php', 4, 664, -3, -3, '		}', -1, '', '', '', 0, ''),
(1104, '/source/class/discuz/discuz_application.php', 4, 665, -3, -3, '', -1, '', '', '', 0, ''),
(1105, '/source/class/discuz/discuz_application.php', 4, 666, -3, -3, '		$this->var[''seokeywords''] = !empty($this->var[''setting''][''seokeywords''][CURSCRIPT]) ? $this->var[''setting''][''seokeywords''][CURSCRIPT] : '''';', -1, '', '', '', 0, ''),
(1106, '/source/class/discuz/discuz_application.php', 4, 667, -3, -3, '		$this->var[''seodescription''] = !empty($this->var[''setting''][''seodescription''][CURSCRIPT]) ? $this->var[''setting''][''seodescription''][CURSCRIPT] : '''';', -1, '', '', '', 0, ''),
(1107, '/source/class/discuz/discuz_application.php', 4, 668, -3, -3, '', -1, '', '', '', 0, ''),
(1108, '/source/class/discuz/discuz_application.php', 4, 669, -3, -3, '	}', -1, '', '', '', 0, ''),
(1109, '/source/class/discuz/discuz_application.php', 4, 670, -3, -3, '', -1, '', '', '', 0, ''),
(1110, '/source/class/discuz/discuz_application.php', 4, 671, -3, -3, '	private function _init_setting() {', -1, '', '', '', 0, ''),
(1111, '/source/class/discuz/discuz_application.php', 4, 672, -3, -3, '		if($this->init_setting) {', -1, '', '', '', 0, ''),
(1112, '/source/class/discuz/discuz_application.php', 4, 673, -3, -3, '			if(empty($this->var[''setting''])) {', -1, '', '', '', 0, ''),
(1113, '/source/class/discuz/discuz_application.php', 4, 674, -3, -3, '				$this->cachelist[] = ''setting'';', -1, '', '', '', 0, ''),
(1114, '/source/class/discuz/discuz_application.php', 4, 675, -3, -3, '			}', -1, '', '', '', 0, ''),
(1115, '/source/class/discuz/discuz_application.php', 4, 676, -3, -3, '', -1, '', '', '', 0, ''),
(1116, '/source/class/discuz/discuz_application.php', 4, 677, -3, -3, '			if(empty($this->var[''style''])) {', -1, '', '', '', 0, ''),
(1117, '/source/class/discuz/discuz_application.php', 4, 678, -3, -3, '				$this->cachelist[] = ''style_default'';', -1, '', '', '', 0, ''),
(1118, '/source/class/discuz/discuz_application.php', 4, 679, -3, -3, '			}', -1, '', '', '', 0, ''),
(1119, '/source/class/discuz/discuz_application.php', 4, 680, -3, -3, '', -1, '', '', '', 0, ''),
(1120, '/source/class/discuz/discuz_application.php', 4, 681, -3, -3, '			if(!isset($this->var[''cache''][''cronnextrun''])) {', -1, '', '', '', 0, ''),
(1121, '/source/class/discuz/discuz_application.php', 4, 682, -3, -3, '				$this->cachelist[] = ''cronnextrun'';', -1, '', '', '', 0, ''),
(1122, '/source/class/discuz/discuz_application.php', 4, 683, -3, -3, '			}', -1, '', '', '', 0, ''),
(1123, '/source/class/discuz/discuz_application.php', 4, 684, -3, -3, '		}', -1, '', '', '', 0, ''),
(1124, '/source/class/discuz/discuz_application.php', 4, 685, -3, -3, '', -1, '', '', '', 0, ''),
(1125, '/source/class/discuz/discuz_application.php', 4, 686, -3, -3, '		!empty($this->cachelist) && loadcache($this->cachelist);', -1, '', '', '', 0, ''),
(1126, '/source/class/discuz/discuz_application.php', 4, 687, -3, -3, '', -1, '', '', '', 0, ''),
(1127, '/source/class/discuz/discuz_application.php', 4, 688, -3, -3, '		if(!is_array($this->var[''setting''])) {', -1, '', '', '', 0, ''),
(1128, '/source/class/discuz/discuz_application.php', 4, 689, -3, -3, '			$this->var[''setting''] = array();', -1, '', '', '', 0, ''),
(1129, '/source/class/discuz/discuz_application.php', 4, 690, -3, -3, '		}', -1, '', '', '', 0, ''),
(1130, '/source/class/discuz/discuz_application.php', 4, 691, -3, -3, '', -1, '', '', '', 0, ''),
(1131, '/source/class/discuz/discuz_application.php', 4, 692, -3, -3, '	}', -1, '', '', '', 0, ''),
(1132, '/source/class/discuz/discuz_application.php', 4, 693, -3, -3, '', -1, '', '', '', 0, ''),
(1133, '/source/class/discuz/discuz_application.php', 4, 694, -3, -3, '	public function _init_style() {', -1, '', '', '', 0, ''),
(1134, '/source/class/discuz/discuz_application.php', 4, 695, -3, -3, '		if(defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(1135, '/source/class/discuz/discuz_application.php', 4, 696, -3, -3, '			$mobile = max(1, intval(IN_MOBILE));', -1, '', '', '', 0, ''),
(1136, '/source/class/discuz/discuz_application.php', 4, 697, -3, -3, '			if($mobile && $this->var[''setting''][''styleid''.$mobile]) {', -1, '', '', '', 0, ''),
(1137, '/source/class/discuz/discuz_application.php', 4, 698, -3, -3, '				$styleid = $this->var[''setting''][''styleid''.$mobile];', -1, '', '', '', 0, ''),
(1138, '/source/class/discuz/discuz_application.php', 4, 699, -3, -3, '			}', -1, '', '', '', 0, ''),
(1139, '/source/class/discuz/discuz_application.php', 4, 700, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1140, '/source/class/discuz/discuz_application.php', 4, 701, -3, -3, '			$styleid = !empty($this->var[''cookie''][''styleid'']) ? $this->var[''cookie''][''styleid''] : 0;', -1, '', '', '', 0, ''),
(1141, '/source/class/discuz/discuz_application.php', 4, 702, -3, -3, '		}', -1, '', '', '', 0, ''),
(1142, '/source/class/discuz/discuz_application.php', 4, 703, -3, -3, '		if(intval(!empty($this->var[''forum''][''styleid'']))) {', -1, '', '', '', 0, ''),
(1143, '/source/class/discuz/discuz_application.php', 4, 704, -3, -3, '			$this->var[''cache''][''style_default''][''styleid''] = $styleid = $this->var[''forum''][''styleid''];', -1, '', '', '', 0, ''),
(1144, '/source/class/discuz/discuz_application.php', 4, 705, -3, -3, '		} elseif(intval(!empty($this->var[''category''][''styleid'']))) {', -1, '', '', '', 0, ''),
(1145, '/source/class/discuz/discuz_application.php', 4, 706, -3, -3, '			$this->var[''cache''][''style_default''][''styleid''] = $styleid = $this->var[''category''][''styleid''];', -1, '', '', '', 0, ''),
(1146, '/source/class/discuz/discuz_application.php', 4, 707, -3, -3, '		}', -1, '', '', '', 0, ''),
(1147, '/source/class/discuz/discuz_application.php', 4, 708, -3, -3, '', -1, '', '', '', 0, ''),
(1148, '/source/class/discuz/discuz_application.php', 4, 709, -3, -3, '		$styleid = intval($styleid);', -1, '', '', '', 0, ''),
(1149, '/source/class/discuz/discuz_application.php', 4, 710, -3, -3, '', -1, '', '', '', 0, ''),
(1150, '/source/class/discuz/discuz_application.php', 4, 711, -3, -3, '		if($styleid && $styleid != $this->var[''setting''][''styleid'']) {', -1, '', '', '', 0, ''),
(1151, '/source/class/discuz/discuz_application.php', 4, 712, -3, -3, '			loadcache(''style_''.$styleid);', -1, '', '', '', 0, ''),
(1152, '/source/class/discuz/discuz_application.php', 4, 713, -3, -3, '			if($this->var[''cache''][''style_''.$styleid]) {', -1, '', '', '', 0, ''),
(1153, '/source/class/discuz/discuz_application.php', 4, 714, -3, -3, '				$this->var[''style''] = $this->var[''cache''][''style_''.$styleid];', -1, '', '', '', 0, ''),
(1154, '/source/class/discuz/discuz_application.php', 4, 715, -3, -3, '			}', -1, '', '', '', 0, ''),
(1155, '/source/class/discuz/discuz_application.php', 4, 716, -3, -3, '		}', -1, '', '', '', 0, ''),
(1156, '/source/class/discuz/discuz_application.php', 4, 717, -3, -3, '', -1, '', '', '', 0, ''),
(1157, '/source/class/discuz/discuz_application.php', 4, 718, -3, -3, '		define(''IMGDIR'', $this->var[''style''][''imgdir'']);', -1, '', '', '', 0, ''),
(1158, '/source/class/discuz/discuz_application.php', 4, 719, -3, -3, '		define(''STYLEID'', $this->var[''style''][''styleid'']);', -1, '', '', '', 0, ''),
(1159, '/source/class/discuz/discuz_application.php', 4, 720, -3, -3, '		define(''VERHASH'', $this->var[''style''][''verhash'']);', -1, '', '', '', 0, ''),
(1160, '/source/class/discuz/discuz_application.php', 4, 721, -3, -3, '		define(''TPLDIR'', $this->var[''style''][''tpldir'']);', -1, '', '', '', 0, ''),
(1161, '/source/class/discuz/discuz_application.php', 4, 722, -3, -3, '		define(''TEMPLATEID'', $this->var[''style''][''templateid'']);', -1, '', '', '', 0, ''),
(1162, '/source/class/discuz/discuz_application.php', 4, 723, -3, -3, '	}', -1, '', '', '', 0, ''),
(1163, '/source/class/discuz/discuz_application.php', 4, 724, -3, -3, '', -1, '', '', '', 0, ''),
(1164, '/source/class/discuz/discuz_application.php', 4, 725, -3, -3, '	private function _init_mobile() {', -1, '', '', '', 0, ''),
(1165, '/source/class/discuz/discuz_application.php', 4, 726, -3, -3, '		if(!$this->init_mobile) {', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(1166, '/source/class/discuz/discuz_application.php', 4, 727, -3, -3, '			return false;', -1, '', '', '', 0, ''),
(1167, '/source/class/discuz/discuz_application.php', 4, 728, -3, -3, '		}', -1, '', '', '', 0, ''),
(1168, '/source/class/discuz/discuz_application.php', 4, 729, -3, -3, '', -1, '', '', '', 0, ''),
(1169, '/source/class/discuz/discuz_application.php', 4, 730, -3, -3, '		if(!$this->var[''setting''] || !$this->var[''setting''][''mobile''][''allowmobile''] || !is_array($this->var[''setting''][''mobile'']) || IS_ROBOT) {', -1, '', '', '', 0, ''),
(1170, '/source/class/discuz/discuz_application.php', 4, 731, -3, -3, '			$nomobile = true;', -1, '', '', '', 0, ''),
(1171, '/source/class/discuz/discuz_application.php', 4, 732, -3, -3, '			$unallowmobile = true;', -1, '', '', '', 0, ''),
(1172, '/source/class/discuz/discuz_application.php', 4, 733, -3, -3, '		}', -1, '', '', '', 0, ''),
(1173, '/source/class/discuz/discuz_application.php', 4, 734, -3, -3, '', -1, '', '', '', 0, ''),
(1174, '/source/class/discuz/discuz_application.php', 4, 735, -3, -3, '', -1, '', '', '', 0, ''),
(1175, '/source/class/discuz/discuz_application.php', 4, 736, -3, -3, '		$mobile = getgpc(''mobile'');', -1, '', '', '', 0, ''),
(1176, '/source/class/discuz/discuz_application.php', 4, 737, -3, -3, '		$mobileflag = isset($this->var[''mobiletpl''][$mobile]);', -1, '', '', '', 0, ''),
(1177, '/source/class/discuz/discuz_application.php', 4, 738, -3, -3, '		if($mobile === ''no'') {', -1, '', '', '', 0, ''),
(1178, '/source/class/discuz/discuz_application.php', 4, 739, -3, -3, '			dsetcookie(''mobile'', ''no'', 3600);', -1, '', '', '', 0, ''),
(1179, '/source/class/discuz/discuz_application.php', 4, 740, -3, -3, '			$nomobile = true;', -1, '', '', '', 0, ''),
(1180, '/source/class/discuz/discuz_application.php', 4, 741, -3, -3, '		} elseif($this->var[''cookie''][''mobile''] == ''no'' && $mobileflag) {', -1, '', '', '', 0, ''),
(1181, '/source/class/discuz/discuz_application.php', 4, 742, -3, -3, '			checkmobile();', -1, '', '', '', 0, ''),
(1182, '/source/class/discuz/discuz_application.php', 4, 743, -3, -3, '			dsetcookie(''mobile'', '''');', -1, '', '', '', 0, ''),
(1183, '/source/class/discuz/discuz_application.php', 4, 744, -3, -3, '		} elseif($this->var[''cookie''][''mobile''] == ''no'') {', -1, '', '', '', 0, ''),
(1184, '/source/class/discuz/discuz_application.php', 4, 745, -3, -3, '			$nomobile = true;', -1, '', '', '', 0, ''),
(1185, '/source/class/discuz/discuz_application.php', 4, 746, -3, -3, '		} elseif(!($mobile_ = checkmobile())) {', -1, '', '', '', 0, ''),
(1186, '/source/class/discuz/discuz_application.php', 4, 747, -3, -3, '			$nomobile = true;', -1, '', '', '', 0, ''),
(1187, '/source/class/discuz/discuz_application.php', 4, 748, -3, -3, '		}', -1, '', '', '', 0, ''),
(1188, '/source/class/discuz/discuz_application.php', 4, 749, -3, -3, '		if(!$mobile || $mobile == ''yes'') {', -1, '', '', '', 0, ''),
(1189, '/source/class/discuz/discuz_application.php', 4, 750, -3, -3, '			$mobile = isset($mobile_) ? $mobile_ : 2;', -1, '', '', '', 0, ''),
(1190, '/source/class/discuz/discuz_application.php', 4, 751, -3, -3, '		}', -1, '', '', '', 0, ''),
(1191, '/source/class/discuz/discuz_application.php', 4, 752, -3, -3, '', -1, '', '', '', 0, ''),
(1192, '/source/class/discuz/discuz_application.php', 4, 753, -3, -3, '		if(!$this->var[''mobile''] && !$unallowmobile) {', -1, '', '', '', 0, ''),
(1193, '/source/class/discuz/discuz_application.php', 4, 754, -3, -3, '			if($mobileflag) {', -1, '', '', '', 0, ''),
(1194, '/source/class/discuz/discuz_application.php', 4, 755, -3, -3, '				dheader("Location:misc.php?mod=mobile");', -1, '', '', '', 0, ''),
(1195, '/source/class/discuz/discuz_application.php', 4, 756, -3, -3, '			}', -1, '', '', '', 0, ''),
(1196, '/source/class/discuz/discuz_application.php', 4, 757, -3, -3, '		}', -1, '', '', '', 0, ''),
(1197, '/source/class/discuz/discuz_application.php', 4, 758, -3, -3, '', -1, '', '', '', 0, ''),
(1198, '/source/class/discuz/discuz_application.php', 4, 759, -3, -3, '		if($nomobile || (!$this->var[''setting''][''mobile''][''mobileforward''] && !$mobileflag)) {', -1, '', '', '', 0, ''),
(1199, '/source/class/discuz/discuz_application.php', 4, 760, -3, -3, '			if($_SERVER[''HTTP_HOST''] == $this->var[''setting''][''domain''][''app''][''mobile''] && $this->var[''setting''][''domain''][''app''][''default'']) {', -1, '', '', '', 0, ''),
(1200, '/source/class/discuz/discuz_application.php', 4, 761, -3, -3, '				dheader("Location:http://".$this->var[''setting''][''domain''][''app''][''default''].$_SERVER[''REQUEST_URI'']);', -1, '', '', '', 0, ''),
(1201, '/source/class/discuz/discuz_application.php', 4, 762, -3, -3, '				return false;', -1, '', '', '', 0, ''),
(1202, '/source/class/discuz/discuz_application.php', 4, 763, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1203, '/source/class/discuz/discuz_application.php', 4, 764, -3, -3, '				return false;', -1, '', '', '', 0, ''),
(1204, '/source/class/discuz/discuz_application.php', 4, 765, -3, -3, '			}', -1, '', '', '', 0, ''),
(1205, '/source/class/discuz/discuz_application.php', 4, 766, -3, -3, '		}', -1, '', '', '', 0, ''),
(1206, '/source/class/discuz/discuz_application.php', 4, 767, -3, -3, '', -1, '', '', '', 0, ''),
(1207, '/source/class/discuz/discuz_application.php', 4, 768, -3, -3, '		if(strpos($this->var[''setting''][''domain''][''defaultindex''], CURSCRIPT) !== false && CURSCRIPT != ''forum'' && !$_GET[''mod'']) {', -1, '', '', '', 0, ''),
(1208, '/source/class/discuz/discuz_application.php', 4, 769, -3, -3, '			if($this->var[''setting''][''domain''][''app''][''mobile'']) {', -1, '', '', '', 0, ''),
(1209, '/source/class/discuz/discuz_application.php', 4, 770, -3, -3, '				$mobileurl = ''http://''.$this->var[''setting''][''domain''][''app''][''mobile''];', -1, '', '', '', 0, ''),
(1210, '/source/class/discuz/discuz_application.php', 4, 771, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1211, '/source/class/discuz/discuz_application.php', 4, 772, -3, -3, '				if($this->var[''setting''][''domain''][''app''][''forum'']) {', -1, '', '', '', 0, ''),
(1212, '/source/class/discuz/discuz_application.php', 4, 773, -3, -3, '					$mobileurl = ''http://''.$this->var[''setting''][''domain''][''app''][''forum''].''?mobile=yes'';', -1, '', '', '', 0, ''),
(1213, '/source/class/discuz/discuz_application.php', 4, 774, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(1214, '/source/class/discuz/discuz_application.php', 4, 775, -3, -3, '					$mobileurl = $this->var[''siteurl''].''forum.php?mobile=yes'';', -1, '', '', '', 0, ''),
(1215, '/source/class/discuz/discuz_application.php', 4, 776, -3, -3, '				}', -1, '', '', '', 0, ''),
(1216, '/source/class/discuz/discuz_application.php', 4, 777, -3, -3, '			}', -1, '', '', '', 0, ''),
(1217, '/source/class/discuz/discuz_application.php', 4, 778, -3, -3, '			dheader("location:$mobileurl");', -1, '', '', '', 0, ''),
(1218, '/source/class/discuz/discuz_application.php', 4, 779, -3, -3, '		}', -1, '', '', '', 0, ''),
(1219, '/source/class/discuz/discuz_application.php', 4, 780, -3, -3, '		if($mobile === ''3'' && empty($this->var[''setting''][''mobile''][''wml''])) {', -1, '', '', '', 0, ''),
(1220, '/source/class/discuz/discuz_application.php', 4, 781, -3, -3, '			return false;', -1, '', '', '', 0, ''),
(1221, '/source/class/discuz/discuz_application.php', 4, 782, -3, -3, '		}', -1, '', '', '', 0, ''),
(1222, '/source/class/discuz/discuz_application.php', 4, 783, -3, -3, '		define(''IN_MOBILE'', isset($this->var[''mobiletpl''][$mobile]) ? $mobile : ''2'');', -1, '', '', '', 0, ''),
(1223, '/source/class/discuz/discuz_application.php', 4, 784, -3, -3, '		setglobal(''gzipcompress'', 0);', -1, '', '', '', 0, ''),
(1224, '/source/class/discuz/discuz_application.php', 4, 785, -3, -3, '', -1, '', '', '', 0, ''),
(1225, '/source/class/discuz/discuz_application.php', 4, 786, -3, -3, '		$arr = array();', -1, '', '', '', 0, ''),
(1226, '/source/class/discuz/discuz_application.php', 4, 787, -3, -3, '		foreach(array_keys($this->var[''mobiletpl'']) as $mobiletype) {', -1, '', '', '', 0, ''),
(1227, '/source/class/discuz/discuz_application.php', 4, 788, -3, -3, '			$arr[] = ''&mobile=''.$mobiletype;', -1, '', '', '', 0, ''),
(1228, '/source/class/discuz/discuz_application.php', 4, 789, -3, -3, '			$arr[] = ''mobile=''.$mobiletype;', -1, '', '', '', 0, ''),
(1229, '/source/class/discuz/discuz_application.php', 4, 790, -3, -3, '		}', -1, '', '', '', 0, ''),
(1230, '/source/class/discuz/discuz_application.php', 4, 791, -3, -3, '		$arr = array_merge(array(strstr($_SERVER[''QUERY_STRING''], ''&simpletype''), strstr($_SERVER[''QUERY_STRING''], ''simpletype'')), $arr);', -1, '', '', '', 0, ''),
(1231, '/source/class/discuz/discuz_application.php', 4, 792, -3, -3, '		$query_sting_tmp = str_replace($arr, '''', $_SERVER[''QUERY_STRING'']);', -1, '', '', '', 0, ''),
(1232, '/source/class/discuz/discuz_application.php', 4, 793, -3, -3, '		$this->var[''setting''][''mobile''][''nomobileurl''] = ($this->var[''setting''][''domain''][''app''][''forum''] ? ''http://''.$this->var[''setting''][''domain''][''app''][''forum''].''/'' : $this->var[''siteurl'']).$this->var[''basefilename''].($query_sting_tmp ? ''?''.$query_sting_tmp.''&'' : ''?'').''mobile=no'';', -1, '', '', '', 0, ''),
(1233, '/source/class/discuz/discuz_application.php', 4, 794, -3, -3, '', -1, '', '', '', 0, ''),
(1234, '/source/class/discuz/discuz_application.php', 4, 795, -3, -3, '		$this->var[''setting''][''lazyload''] = 0;', -1, '', '', '', 0, ''),
(1235, '/source/class/discuz/discuz_application.php', 4, 796, -3, -3, '', -1, '', '', '', 0, ''),
(1236, '/source/class/discuz/discuz_application.php', 4, 797, -3, -3, '		if(''utf-8'' != CHARSET) {', -1, '', '', '', 0, ''),
(1237, '/source/class/discuz/discuz_application.php', 4, 798, -3, -3, '			if(strtolower($_SERVER[''REQUEST_METHOD'']) === ''post'') {', -1, '', '', '', 0, ''),
(1238, '/source/class/discuz/discuz_application.php', 4, 799, -3, -3, '				foreach($_POST AS $pk => $pv) {', -1, '', '', '', 0, ''),
(1239, '/source/class/discuz/discuz_application.php', 4, 800, -3, -3, '					if(!is_numeric($pv)) {', -1, '', '', '', 0, ''),
(1240, '/source/class/discuz/discuz_application.php', 4, 801, -3, -3, '						$_GET[$pk] = $_POST[$pk] = $this->mobile_iconv_recurrence($pv);', -1, '', '', '', 0, ''),
(1241, '/source/class/discuz/discuz_application.php', 4, 802, -3, -3, '						if(!empty($this->var[''config''][''input''][''compatible''])) {', -1, '', '', '', 0, ''),
(1242, '/source/class/discuz/discuz_application.php', 4, 803, -3, -3, '							$this->var[''gp_''.$pk] = daddslashes($_GET[$pk]);', -1, '', '', '', 0, ''),
(1243, '/source/class/discuz/discuz_application.php', 4, 804, -3, -3, '						}', -1, '', '', '', 0, ''),
(1244, '/source/class/discuz/discuz_application.php', 4, 805, -3, -3, '					}', -1, '', '', '', 0, ''),
(1245, '/source/class/discuz/discuz_application.php', 4, 806, -3, -3, '				}', -1, '', '', '', 0, ''),
(1246, '/source/class/discuz/discuz_application.php', 4, 807, -3, -3, '			}', -1, '', '', '', 0, ''),
(1247, '/source/class/discuz/discuz_application.php', 4, 808, -3, -3, '		}', -1, '', '', '', 0, ''),
(1248, '/source/class/discuz/discuz_application.php', 4, 809, -3, -3, '', -1, '', '', '', 0, ''),
(1249, '/source/class/discuz/discuz_application.php', 4, 810, -3, -3, '', -1, '', '', '', 0, ''),
(1250, '/source/class/discuz/discuz_application.php', 4, 811, -3, -3, '		if(!$this->var[''setting''][''mobile''][''mobilesimpletype'']) {', -1, '', '', '', 0, ''),
(1251, '/source/class/discuz/discuz_application.php', 4, 812, -3, -3, '			$this->var[''setting''][''imagemaxwidth''] = 224;', -1, '', '', '', 0, ''),
(1252, '/source/class/discuz/discuz_application.php', 4, 813, -3, -3, '		}', -1, '', '', '', 0, ''),
(1253, '/source/class/discuz/discuz_application.php', 4, 814, -3, -3, '', -1, '', '', '', 0, ''),
(1254, '/source/class/discuz/discuz_application.php', 4, 815, -3, -3, '		$this->var[''setting''][''regstatus''] = $this->var[''setting''][''mobile''][''mobileregister''] ? $this->var[''setting''][''regstatus''] : 0 ;', -1, '', '', '', 0, ''),
(1255, '/source/class/discuz/discuz_application.php', 4, 816, -3, -3, '', -1, '', '', '', 0, ''),
(1256, '/source/class/discuz/discuz_application.php', 4, 817, -3, -3, '		$this->var[''setting''][''thumbquality''] = 50;', -1, '', '', '', 0, ''),
(1257, '/source/class/discuz/discuz_application.php', 4, 818, -3, -3, '		$this->var[''setting''][''avatarmethod''] = 0;', -1, '', '', '', 0, ''),
(1258, '/source/class/discuz/discuz_application.php', 4, 819, -3, -3, '', -1, '', '', '', 0, ''),
(1259, '/source/class/discuz/discuz_application.php', 4, 820, -3, -3, '		$this->var[''setting''][''mobile''][''simpletypeurl''] = array();', -1, '', '', '', 0, ''),
(1260, '/source/class/discuz/discuz_application.php', 4, 821, -3, -3, '		$this->var[''setting''][''mobile''][''simpletypeurl''][0] = $this->var[''siteurl''].$this->var[''basefilename''].($query_sting_tmp ? ''?''.$query_sting_tmp.''&'' : ''?'').''mobile=1&simpletype=no'';', -1, '', '', '', 0, ''),
(1261, '/source/class/discuz/discuz_application.php', 4, 822, -3, -3, '		$this->var[''setting''][''mobile''][''simpletypeurl''][1] =  $this->var[''siteurl''].$this->var[''basefilename''].($query_sting_tmp ? ''?''.$query_sting_tmp.''&'' : ''?'').''mobile=1&simpletype=yes'';', -1, '', '', '', 0, ''),
(1262, '/source/class/discuz/discuz_application.php', 4, 823, -3, -3, '		$this->var[''setting''][''mobile''][''simpletypeurl''][2] =  $this->var[''siteurl''].$this->var[''basefilename''].($query_sting_tmp ? ''?''.$query_sting_tmp.''&'' : ''?'').''mobile=2'';', -1, '', '', '', 0, ''),
(1263, '/source/class/discuz/discuz_application.php', 4, 824, -3, -3, '		unset($query_sting_tmp);', -1, '', '', '', 0, ''),
(1264, '/source/class/discuz/discuz_application.php', 4, 825, -3, -3, '		ob_start();', -1, '', '', '', 0, ''),
(1265, '/source/class/discuz/discuz_application.php', 4, 826, -3, -3, '	}', -1, '', '', '', 0, ''),
(1266, '/source/class/discuz/discuz_application.php', 4, 827, -3, -3, '', -1, '', '', '', 0, ''),
(1267, '/source/class/discuz/discuz_application.php', 4, 828, 0, 0, '	public function timezone_set($timeoffset = 0) {\r\n		if(function_exists(''date_default_timezone_set'')) {\r\n\r\n			@date_default_timezone_set(''Etc/GMT''.($timeoffset > 0 ? ''-'' : ''+'').(abs($timeoffset)));\r\n\r\n		}\r\n\r\n	}\r\n', 1, '', '', '', 0, ''),
(1268, '/source/class/discuz/discuz_application.php', 4, 829, -2, -2, '		if(function_exists(''date_default_timezone_set'')) {', -1, '', '', '', 0, ''),
(1269, '/source/class/discuz/discuz_application.php', 4, 830, -2, -2, '			@date_default_timezone_set(''Etc/GMT''.($timeoffset > 0 ? ''-'' : ''+'').(abs($timeoffset)));', -1, '', '', '', 0, ''),
(1270, '/source/class/discuz/discuz_application.php', 4, 831, -2, -2, '		}', -1, '', '', '', 0, ''),
(1271, '/source/class/discuz/discuz_application.php', 4, 832, -2, -2, '	}', -1, '', '', '', 0, ''),
(1272, '/source/class/discuz/discuz_application.php', 4, 833, -3, -3, '', -1, '', '', '', 0, ''),
(1273, '/source/class/discuz/discuz_application.php', 4, 834, -3, -3, '       public function mobile_iconv_recurrence($value) {', -1, '', '', '', 0, ''),
(1274, '/source/class/discuz/discuz_application.php', 4, 835, -3, -3, '		if(is_array($value)) {', -1, '', '', '', 0, ''),
(1275, '/source/class/discuz/discuz_application.php', 4, 836, -3, -3, '			foreach($value AS $key => $val) {', -1, '', '', '', 0, ''),
(1276, '/source/class/discuz/discuz_application.php', 4, 837, -3, -3, '				$value[$key] = $this->mobile_iconv_recurrence($val);', -1, '', '', '', 0, ''),
(1277, '/source/class/discuz/discuz_application.php', 4, 838, -3, -3, '			}', -1, '', '', '', 0, ''),
(1278, '/source/class/discuz/discuz_application.php', 4, 839, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1279, '/source/class/discuz/discuz_application.php', 4, 840, -3, -3, '			$value = diconv($value, ''utf-8'', CHARSET);', -1, '', '', '', 0, ''),
(1280, '/source/class/discuz/discuz_application.php', 4, 841, -3, -3, '		}', -1, '', '', '', 0, ''),
(1281, '/source/class/discuz/discuz_application.php', 4, 842, -3, -3, '		return $value;', -1, '', '', '', 0, ''),
(1282, '/source/class/discuz/discuz_application.php', 4, 843, -3, -3, '	}', -1, '', '', '', 0, ''),
(1283, '/source/class/discuz/discuz_application.php', 4, 844, -3, -3, '}', -1, '', '', '', 0, ''),
(1284, '/source/class/discuz/discuz_application.php', 4, 845, -3, -3, '', -1, '', '', '', 0, ''),
(1285, '/source/class/discuz/discuz_application.php', 4, 846, -3, -3, '?>', -1, '', '', '', 0, ''),
(1286, '/source/function/function_core.php', 5, 1, -2, -2, '<?php\r\n\r\n\r\n/**\r\n\r\n *      [Discuz!] (C)2001-2099 Comsenz Inc.\r\n\r\n *      This is NOT a freeware, use is subject to license terms\r\n\r\n *\r\n\r\n *      $Id: function_core.php 35297 2015-06-05 03:28:45Z hypowang $\r\n\r\n */\r\n\r\n\r\n', -1, '', '', '', 0, ''),
(1287, '/source/function/function_core.php', 5, 2, -2, -2, '', -1, '', '', '', 0, ''),
(1288, '/source/function/function_core.php', 5, 3, -2, -2, '/**', -1, '', '', '', 0, ''),
(1289, '/source/function/function_core.php', 5, 4, -2, -2, ' *      [Discuz!] (C)2001-2099 Comsenz Inc.', -1, '', '', '', 0, ''),
(1290, '/source/function/function_core.php', 5, 5, -2, -2, ' *      This is NOT a freeware, use is subject to license terms', -1, '', '', '', 0, ''),
(1291, '/source/function/function_core.php', 5, 6, -2, -2, ' *', -1, '', '', '', 0, ''),
(1292, '/source/function/function_core.php', 5, 7, -2, -2, ' *      $Id: function_core.php 35297 2015-06-05 03:28:45Z hypowang $', -1, '', '', '', 0, ''),
(1293, '/source/function/function_core.php', 5, 8, -2, -2, ' */', -1, '', '', '', 0, ''),
(1294, '/source/function/function_core.php', 5, 9, -2, -2, '', -1, '', '', '', 0, ''),
(1295, '/source/function/function_core.php', 5, 10, -3, -3, 'if(!defined(''IN_DISCUZ'')) {\r\n	exit(''Access Denied'');\r\n\r\n}\r\n', -1, '', '', '', 1, ''),
(1296, '/source/function/function_core.php', 5, 11, -2, -2, '	exit(''Access Denied'');', -1, '', '', '', 0, ''),
(1297, '/source/function/function_core.php', 5, 12, -2, -2, '}', -1, '', '', '', 0, ''),
(1298, '/source/function/function_core.php', 5, 13, -2, -2, '', -1, '', '', '', 0, ''),
(1299, '/source/function/function_core.php', 5, 14, -3, -3, 'define(''DISCUZ_CORE_FUNCTION'', true);', -1, '', '', '', 1, ''),
(1300, '/source/function/function_core.php', 5, 15, -2, -2, '', -1, '', '', '', 0, ''),
(1301, '/source/function/function_core.php', 5, 16, -3, -3, 'function durlencode($url) {', -1, '', '', '', 1, ''),
(1302, '/source/function/function_core.php', 5, 17, -3, -1, '	static $fix = array(''%21'', ''%2A'',''%3B'', ''%3A'', ''%40'', ''%26'', ''%3D'', ''%2B'', ''%24'', ''%2C'', ''%2F'', ''%3F'', ''%25'', ''%23'', ''%5B'', ''%5D'');', -1, '', '', '', 1, ''),
(1303, '/source/function/function_core.php', 5, 18, -3, -1, '	static $replacements = array(''!'', ''*'', '';'', ":", "@", "&", "=", "+", "$", ",", "/", "?", "%", "#", "[", "]");', -1, '', '', '', 1, ''),
(1304, '/source/function/function_core.php', 5, 19, -3, -3, '	return str_replace($fix, $replacements, urlencode($url));', -1, '', '', '', 1, ''),
(1305, '/source/function/function_core.php', 5, 20, -3, -3, '}', -1, '', '', '', 1, ''),
(1306, '/source/function/function_core.php', 5, 21, -2, -2, '', -1, '', '', '', 0, ''),
(1307, '/source/function/function_core.php', 5, 22, -3, -3, 'function system_error($message, $show = true, $save = true, $halt = true) {', -1, '', '', '', 1, ''),
(1308, '/source/function/function_core.php', 5, 23, -3, -3, '	discuz_error::system_error($message, $show, $save, $halt);', -1, '', '', '', 1, ''),
(1309, '/source/function/function_core.php', 5, 24, -3, -3, '}', -1, '', '', '', 1, ''),
(1310, '/source/function/function_core.php', 5, 25, -2, -2, '', -1, '', '', '', 0, ''),
(1311, '/source/function/function_core.php', 5, 26, -3, -3, 'function updatesession() {', -1, '', '', '', 1, ''),
(1312, '/source/function/function_core.php', 5, 27, -3, -3, '	return C::app()->session->updatesession();', -1, '', '', '', 1, ''),
(1313, '/source/function/function_core.php', 5, 28, -3, -3, '}', -1, '', '', '', 1, ''),
(1314, '/source/function/function_core.php', 5, 29, -2, -2, '', -1, '', '', '', 0, ''),
(1315, '/source/function/function_core.php', 5, 30, -3, -3, 'function setglobal($key , $value, $group = null) {', -1, '', '', '', 1, ''),
(1316, '/source/function/function_core.php', 5, 31, -3, -3, '	global $_G;', -1, '', '', '', 1, ''),
(1317, '/source/function/function_core.php', 5, 32, -3, -3, '	$key = explode(''/'', $group === null ? $key : $group.''/''.$key);', -1, '', '', '', 1, ''),
(1318, '/source/function/function_core.php', 5, 33, -3, -3, '	$p = &$_G;', -1, '', '', '', 1, ''),
(1319, '/source/function/function_core.php', 5, 34, -3, -3, '	foreach ($key as $k) {', -1, '', '', '', 1, ''),
(1320, '/source/function/function_core.php', 5, 35, -3, -3, '		if(!isset($p[$k]) || !is_array($p[$k])) {', -1, '', '', '', 1, ''),
(1321, '/source/function/function_core.php', 5, 36, -3, -3, '			$p[$k] = array();', -1, '', '', '', 1, ''),
(1322, '/source/function/function_core.php', 5, 37, -3, -3, '		}', -1, '', '', '', 1, ''),
(1323, '/source/function/function_core.php', 5, 38, -3, -3, '		$p = &$p[$k];', -1, '', '', '', 1, ''),
(1324, '/source/function/function_core.php', 5, 39, -3, -3, '	}', -1, '', '', '', 1, ''),
(1325, '/source/function/function_core.php', 5, 40, -3, -3, '	$p = $value;', -1, '', '', '', 1, ''),
(1326, '/source/function/function_core.php', 5, 41, -3, -3, '	return true;', -1, '', '', '', 1, ''),
(1327, '/source/function/function_core.php', 5, 42, -3, -3, '}', -1, '', '', '', 1, ''),
(1328, '/source/function/function_core.php', 5, 43, -2, -2, '', -1, '', '', '', 0, ''),
(1329, '/source/function/function_core.php', 5, 44, -3, -3, 'function getglobal($key, $group = null) {', -1, '', '', '', 1, ''),
(1330, '/source/function/function_core.php', 5, 45, -3, -3, '	global $_G;', -1, '', '', '', 1, ''),
(1331, '/source/function/function_core.php', 5, 46, -3, -3, '	$key = explode(''/'', $group === null ? $key : $group.''/''.$key);', -1, '', '', '', 1, ''),
(1332, '/source/function/function_core.php', 5, 47, -3, -3, '	$v = &$_G;', -1, '', '', '', 1, ''),
(1333, '/source/function/function_core.php', 5, 48, -3, -3, '	foreach ($key as $k) {', -1, '', '', '', 1, ''),
(1334, '/source/function/function_core.php', 5, 49, -3, -3, '		if (!isset($v[$k])) {', -1, '', '', '', 1, ''),
(1335, '/source/function/function_core.php', 5, 50, -3, -3, '			return null;', -1, '', '', '', 1, ''),
(1336, '/source/function/function_core.php', 5, 51, -3, -3, '		}', -1, '', '', '', 1, ''),
(1337, '/source/function/function_core.php', 5, 52, -3, -3, '		$v = &$v[$k];', -1, '', '', '', 1, ''),
(1338, '/source/function/function_core.php', 5, 53, -3, -3, '	}', -1, '', '', '', 1, ''),
(1339, '/source/function/function_core.php', 5, 54, -3, -3, '	return $v;', -1, '', '', '', 1, ''),
(1340, '/source/function/function_core.php', 5, 55, -3, -3, '}', -1, '', '', '', 1, ''),
(1341, '/source/function/function_core.php', 5, 56, -2, -2, '', -1, '', '', '', 0, ''),
(1342, '/source/function/function_core.php', 5, 57, -3, -3, 'function getgpc($k, $type=''GP'') {', -1, '', '', '', 0, ''),
(1343, '/source/function/function_core.php', 5, 58, -3, -3, '	$type = strtoupper($type);', -1, '', '', '', 0, ''),
(1344, '/source/function/function_core.php', 5, 59, -3, -3, '	switch($type) {', -1, '', '', '', 0, ''),
(1345, '/source/function/function_core.php', 5, 60, -3, -3, '		case ''G'': $var = &$_GET; break;', -1, '', '', '', 0, ''),
(1346, '/source/function/function_core.php', 5, 61, -3, -3, '		case ''P'': $var = &$_POST; break;', -1, '', '', '', 0, ''),
(1347, '/source/function/function_core.php', 5, 62, -3, -3, '		case ''C'': $var = &$_COOKIE; break;', -1, '', '', '', 0, ''),
(1348, '/source/function/function_core.php', 5, 63, -3, -3, '		default:', -1, '', '', '', 0, ''),
(1349, '/source/function/function_core.php', 5, 64, -3, -3, '			if(isset($_GET[$k])) {', -1, '', '', '', 0, ''),
(1350, '/source/function/function_core.php', 5, 65, -3, -3, '				$var = &$_GET;', -1, '', '', '', 0, ''),
(1351, '/source/function/function_core.php', 5, 66, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1352, '/source/function/function_core.php', 5, 67, -3, -3, '				$var = &$_POST;', -1, '', '', '', 0, ''),
(1353, '/source/function/function_core.php', 5, 68, -3, -3, '			}', -1, '', '', '', 0, ''),
(1354, '/source/function/function_core.php', 5, 69, -3, -3, '			break;', -1, '', '', '', 0, ''),
(1355, '/source/function/function_core.php', 5, 70, -3, -3, '	}', -1, '', '', '', 0, ''),
(1356, '/source/function/function_core.php', 5, 71, -3, -3, '', -1, '', '', '', 0, ''),
(1357, '/source/function/function_core.php', 5, 72, -3, -3, '	return isset($var[$k]) ? $var[$k] : NULL;', -1, '', '', '', 0, ''),
(1358, '/source/function/function_core.php', 5, 73, -3, -3, '', -1, '', '', '', 0, ''),
(1359, '/source/function/function_core.php', 5, 74, -3, -3, '}', -1, '', '', '', 0, ''),
(1360, '/source/function/function_core.php', 5, 75, -3, -3, '', -1, '', '', '', 0, ''),
(1361, '/source/function/function_core.php', 5, 76, -3, -3, 'function getuserbyuid($uid, $fetch_archive = 0) {', -1, '', '', '', 0, ''),
(1362, '/source/function/function_core.php', 5, 77, -3, -3, '	static $users = array();', -1, '', '', '', 0, ''),
(1363, '/source/function/function_core.php', 5, 78, -3, -3, '	if(empty($users[$uid])) {', -1, '', '', '', 0, ''),
(1364, '/source/function/function_core.php', 5, 79, -3, -3, '		$users[$uid] = C::t(''common_member''.($fetch_archive === 2 ? ''_archive'' : ''''))->fetch($uid);', -1, '', '', '', 0, ''),
(1365, '/source/function/function_core.php', 5, 80, -3, -3, '		if($fetch_archive === 1 && empty($users[$uid])) {', -1, '', '', '', 0, ''),
(1366, '/source/function/function_core.php', 5, 81, -3, -3, '			$users[$uid] = C::t(''common_member_archive'')->fetch($uid);', -1, '', '', '', 0, ''),
(1367, '/source/function/function_core.php', 5, 82, -3, -3, '		}', -1, '', '', '', 0, ''),
(1368, '/source/function/function_core.php', 5, 83, -3, -3, '	}', -1, '', '', '', 0, ''),
(1369, '/source/function/function_core.php', 5, 84, -3, -3, '	if(!isset($users[$uid][''self'']) && $uid == getglobal(''uid'') && getglobal(''uid'')) {', -1, '', '', '', 0, ''),
(1370, '/source/function/function_core.php', 5, 85, -3, -3, '		$users[$uid][''self''] = 1;', -1, '', '', '', 0, ''),
(1371, '/source/function/function_core.php', 5, 86, -3, -3, '	}', -1, '', '', '', 0, ''),
(1372, '/source/function/function_core.php', 5, 87, -3, -3, '	return $users[$uid];', -1, '', '', '', 0, ''),
(1373, '/source/function/function_core.php', 5, 88, -3, -3, '}', -1, '', '', '', 0, ''),
(1374, '/source/function/function_core.php', 5, 89, -3, -3, '', -1, '', '', '', 0, ''),
(1375, '/source/function/function_core.php', 5, 90, -3, -3, 'function getuserprofile($field) {', -1, '', '', '', 0, ''),
(1376, '/source/function/function_core.php', 5, 91, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1377, '/source/function/function_core.php', 5, 92, -3, -3, '	if(isset($_G[''member''][$field])) {', -1, '', '', '', 0, ''),
(1378, '/source/function/function_core.php', 5, 93, -3, -3, '		return $_G[''member''][$field];', -1, '', '', '', 0, ''),
(1379, '/source/function/function_core.php', 5, 94, -3, -3, '	}', -1, '', '', '', 0, ''),
(1380, '/source/function/function_core.php', 5, 95, -3, -3, '	static $tablefields = array(', -1, '', '', '', 0, ''),
(1381, '/source/function/function_core.php', 5, 96, -3, -3, '		''count''		=> array(''extcredits1'',''extcredits2'',''extcredits3'',''extcredits4'',''extcredits5'',''extcredits6'',''extcredits7'',''extcredits8'',''friends'',''posts'',''threads'',''digestposts'',''doings'',''blogs'',''albums'',''sharings'',''attachsize'',''views'',''oltime'',''todayattachs'',''todayattachsize'', ''follower'', ''following'', ''newfollower'', ''blacklist''),', -1, '', '', '', 0, ''),
(1382, '/source/function/function_core.php', 5, 97, -3, -3, '		''status''	=> array(''regip'',''lastip'',''lastvisit'',''lastactivity'',''lastpost'',''lastsendmail'',''invisible'',''buyercredit'',''sellercredit'',''favtimes'',''sharetimes'',''profileprogress''),', -1, '', '', '', 0, ''),
(1383, '/source/function/function_core.php', 5, 98, -3, -3, '		''field_forum''	=> array(''publishfeed'',''customshow'',''customstatus'',''medals'',''sightml'',''groupterms'',''authstr'',''groups'',''attentiongroup''),', -1, '', '', '', 0, ''),
(1384, '/source/function/function_core.php', 5, 99, -3, -3, '		''field_home''	=> array(''videophoto'',''spacename'',''spacedescription'',''domain'',''addsize'',''addfriend'',''menunum'',''theme'',''spacecss'',''blockposition'',''recentnote'',''spacenote'',''privacy'',''feedfriend'',''acceptemail'',''magicgift'',''stickblogs''),', -1, '', '', '', 0, ''),
(1385, '/source/function/function_core.php', 5, 100, -3, -3, '		''profile''	=> array(''realname'',''gender'',''birthyear'',''birthmonth'',''birthday'',''constellation'',''zodiac'',''telephone'',''mobile'',''idcardtype'',''idcard'',''address'',''zipcode'',''nationality'',''birthprovince'',''birthcity'',''resideprovince'',''residecity'',''residedist'',''residecommunity'',''residesuite'',''graduateschool'',''company'',''education'',''occupation'',''position'',''revenue'',''affectivestatus'',''lookingfor'',''bloodtype'',''height'',''weight'',''alipay'',''icq'',''qq'',''yahoo'',''msn'',''taobao'',''site'',''bio'',''interest'',''field1'',''field2'',''field3'',''field4'',''field5'',''field6'',''field7'',''field8''),', -1, '', '', '', 0, ''),
(1386, '/source/function/function_core.php', 5, 101, -3, -3, '		''verify''	=> array(''verify1'', ''verify2'', ''verify3'', ''verify4'', ''verify5'', ''verify6'', ''verify7''),', -1, '', '', '', 0, ''),
(1387, '/source/function/function_core.php', 5, 102, -3, -3, '	);', -1, '', '', '', 0, ''),
(1388, '/source/function/function_core.php', 5, 103, -3, -3, '	$profiletable = '''';', -1, '', '', '', 0, ''),
(1389, '/source/function/function_core.php', 5, 104, -3, -3, '	foreach($tablefields as $table => $fields) {', -1, '', '', '', 0, ''),
(1390, '/source/function/function_core.php', 5, 105, -3, -3, '		if(in_array($field, $fields)) {', -1, '', '', '', 0, ''),
(1391, '/source/function/function_core.php', 5, 106, -3, -3, '			$profiletable = $table;', -1, '', '', '', 0, ''),
(1392, '/source/function/function_core.php', 5, 107, -3, -3, '			break;', -1, '', '', '', 0, ''),
(1393, '/source/function/function_core.php', 5, 108, -3, -3, '		}', -1, '', '', '', 0, ''),
(1394, '/source/function/function_core.php', 5, 109, -3, -3, '	}', -1, '', '', '', 0, ''),
(1395, '/source/function/function_core.php', 5, 110, -3, -3, '	if($profiletable) {', -1, '', '', '', 0, ''),
(1396, '/source/function/function_core.php', 5, 111, -3, -3, '', -1, '', '', '', 0, ''),
(1397, '/source/function/function_core.php', 5, 112, -3, -3, '		if(is_array($_G[''member'']) && $_G[''member''][''uid'']) {', -1, '', '', '', 0, ''),
(1398, '/source/function/function_core.php', 5, 113, -3, -3, '			space_merge($_G[''member''], $profiletable);', -1, '', '', '', 0, ''),
(1399, '/source/function/function_core.php', 5, 114, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1400, '/source/function/function_core.php', 5, 115, -3, -3, '			foreach($tablefields[$profiletable] as $k) {', -1, '', '', '', 0, ''),
(1401, '/source/function/function_core.php', 5, 116, -3, -3, '				$_G[''member''][$k] = '''';', -1, '', '', '', 0, ''),
(1402, '/source/function/function_core.php', 5, 117, -3, -3, '			}', -1, '', '', '', 0, ''),
(1403, '/source/function/function_core.php', 5, 118, -3, -3, '		}', -1, '', '', '', 0, ''),
(1404, '/source/function/function_core.php', 5, 119, -3, -3, '		return $_G[''member''][$field];', -1, '', '', '', 0, ''),
(1405, '/source/function/function_core.php', 5, 120, -3, -3, '	}', -1, '', '', '', 0, ''),
(1406, '/source/function/function_core.php', 5, 121, -3, -3, '	return null;', -1, '', '', '', 0, ''),
(1407, '/source/function/function_core.php', 5, 122, -3, -3, '}', -1, '', '', '', 0, ''),
(1408, '/source/function/function_core.php', 5, 123, -3, -3, '', -1, '', '', '', 0, ''),
(1409, '/source/function/function_core.php', 5, 124, -3, -3, 'function daddslashes($string, $force = 1) {', -1, '', '', '', 0, ''),
(1410, '/source/function/function_core.php', 5, 125, -3, -3, '	if(is_array($string)) {', -1, '', '', '', 0, ''),
(1411, '/source/function/function_core.php', 5, 126, -3, -3, '		$keys = array_keys($string);', -1, '', '', '', 0, ''),
(1412, '/source/function/function_core.php', 5, 127, -3, -3, '		foreach($keys as $key) {', -1, '', '', '', 0, ''),
(1413, '/source/function/function_core.php', 5, 128, -3, -3, '			$val = $string[$key];', -1, '', '', '', 0, ''),
(1414, '/source/function/function_core.php', 5, 129, -3, -3, '			unset($string[$key]);', -1, '', '', '', 0, ''),
(1415, '/source/function/function_core.php', 5, 130, -3, -3, '			$string[addslashes($key)] = daddslashes($val, $force);', -1, '', '', '', 0, ''),
(1416, '/source/function/function_core.php', 5, 131, -3, -3, '		}', -1, '', '', '', 0, ''),
(1417, '/source/function/function_core.php', 5, 132, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1418, '/source/function/function_core.php', 5, 133, -3, -3, '		$string = addslashes($string);', -1, '', '', '', 0, ''),
(1419, '/source/function/function_core.php', 5, 134, -3, -3, '	}', -1, '', '', '', 0, ''),
(1420, '/source/function/function_core.php', 5, 135, -3, -3, '	return $string;', -1, '', '', '', 0, ''),
(1421, '/source/function/function_core.php', 5, 136, -3, -3, '}', -1, '', '', '', 0, ''),
(1422, '/source/function/function_core.php', 5, 137, -3, -3, '', -1, '', '', '', 0, ''),
(1423, '/source/function/function_core.php', 5, 138, -3, -3, 'function authcode($string, $operation = ''DECODE'', $key = '''', $expiry = 0) {', -1, '', '', '', 0, ''),
(1424, '/source/function/function_core.php', 5, 139, -3, -3, '	$ckey_length = 4;', -1, '', '', '', 0, ''),
(1425, '/source/function/function_core.php', 5, 140, -3, -3, '	$key = md5($key != '''' ? $key : getglobal(''authkey''));', -1, '', '', '', 0, ''),
(1426, '/source/function/function_core.php', 5, 141, -3, -3, '	$keya = md5(substr($key, 0, 16));', -1, '', '', '', 0, ''),
(1427, '/source/function/function_core.php', 5, 142, -3, -3, '	$keyb = md5(substr($key, 16, 16));', -1, '', '', '', 0, ''),
(1428, '/source/function/function_core.php', 5, 143, -3, -3, '	$keyc = $ckey_length ? ($operation == ''DECODE'' ? substr($string, 0, $ckey_length): substr(md5(microtime()), -$ckey_length)) : '''';', -1, '', '', '', 0, ''),
(1429, '/source/function/function_core.php', 5, 144, -3, -3, '', -1, '', '', '', 0, ''),
(1430, '/source/function/function_core.php', 5, 145, -3, -3, '	$cryptkey = $keya.md5($keya.$keyc);', -1, '', '', '', 0, ''),
(1431, '/source/function/function_core.php', 5, 146, -3, -3, '	$key_length = strlen($cryptkey);', -1, '', '', '', 0, ''),
(1432, '/source/function/function_core.php', 5, 147, -3, -3, '', -1, '', '', '', 0, ''),
(1433, '/source/function/function_core.php', 5, 148, -3, -3, '	$string = $operation == ''DECODE'' ? base64_decode(substr($string, $ckey_length)) : sprintf(''%010d'', $expiry ? $expiry + time() : 0).substr(md5($string.$keyb), 0, 16).$string;', -1, '', '', '', 0, ''),
(1434, '/source/function/function_core.php', 5, 149, -3, -3, '	$string_length = strlen($string);', -1, '', '', '', 0, ''),
(1435, '/source/function/function_core.php', 5, 150, -3, -3, '', -1, '', '', '', 0, ''),
(1436, '/source/function/function_core.php', 5, 151, -3, -3, '	$result = '''';', -1, '', '', '', 0, ''),
(1437, '/source/function/function_core.php', 5, 152, -3, -3, '	$box = range(0, 255);', -1, '', '', '', 0, ''),
(1438, '/source/function/function_core.php', 5, 153, -3, -3, '', -1, '', '', '', 0, ''),
(1439, '/source/function/function_core.php', 5, 154, -3, -3, '	$rndkey = array();', -1, '', '', '', 0, ''),
(1440, '/source/function/function_core.php', 5, 155, -3, -3, '	for($i = 0; $i <= 255; $i++) {', -1, '', '', '', 0, ''),
(1441, '/source/function/function_core.php', 5, 156, -3, -3, '		$rndkey[$i] = ord($cryptkey[$i % $key_length]);', -1, '', '', '', 0, ''),
(1442, '/source/function/function_core.php', 5, 157, -3, -3, '	}', -1, '', '', '', 0, ''),
(1443, '/source/function/function_core.php', 5, 158, -3, -3, '', -1, '', '', '', 0, ''),
(1444, '/source/function/function_core.php', 5, 159, -3, -3, '	for($j = $i = 0; $i < 256; $i++) {', -1, '', '', '', 0, ''),
(1445, '/source/function/function_core.php', 5, 160, -3, -3, '		$j = ($j + $box[$i] + $rndkey[$i]) % 256;', -1, '', '', '', 0, ''),
(1446, '/source/function/function_core.php', 5, 161, -3, -3, '		$tmp = $box[$i];', -1, '', '', '', 0, ''),
(1447, '/source/function/function_core.php', 5, 162, -3, -3, '		$box[$i] = $box[$j];', -1, '', '', '', 0, ''),
(1448, '/source/function/function_core.php', 5, 163, -3, -3, '		$box[$j] = $tmp;', -1, '', '', '', 0, ''),
(1449, '/source/function/function_core.php', 5, 164, -3, -3, '	}', -1, '', '', '', 0, ''),
(1450, '/source/function/function_core.php', 5, 165, -3, -3, '', -1, '', '', '', 0, ''),
(1451, '/source/function/function_core.php', 5, 166, -3, -3, '	for($a = $j = $i = 0; $i < $string_length; $i++) {', -1, '', '', '', 0, ''),
(1452, '/source/function/function_core.php', 5, 167, -3, -3, '		$a = ($a + 1) % 256;', -1, '', '', '', 0, ''),
(1453, '/source/function/function_core.php', 5, 168, -3, -3, '		$j = ($j + $box[$a]) % 256;', -1, '', '', '', 0, ''),
(1454, '/source/function/function_core.php', 5, 169, -3, -3, '		$tmp = $box[$a];', -1, '', '', '', 0, ''),
(1455, '/source/function/function_core.php', 5, 170, -3, -3, '		$box[$a] = $box[$j];', -1, '', '', '', 0, ''),
(1456, '/source/function/function_core.php', 5, 171, -3, -3, '		$box[$j] = $tmp;', -1, '', '', '', 0, ''),
(1457, '/source/function/function_core.php', 5, 172, -3, -3, '		$result .= chr(ord($string[$i]) ^ ($box[($box[$a] + $box[$j]) % 256]));', -1, '', '', '', 0, ''),
(1458, '/source/function/function_core.php', 5, 173, -3, -3, '	}', -1, '', '', '', 0, ''),
(1459, '/source/function/function_core.php', 5, 174, -3, -3, '', -1, '', '', '', 0, ''),
(1460, '/source/function/function_core.php', 5, 175, -3, -3, '	if($operation == ''DECODE'') {', -1, '', '', '', 0, ''),
(1461, '/source/function/function_core.php', 5, 176, -3, -3, '		if((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26).$keyb), 0, 16)) {', -1, '', '', '', 0, ''),
(1462, '/source/function/function_core.php', 5, 177, -3, -3, '			return substr($result, 26);', -1, '', '', '', 0, ''),
(1463, '/source/function/function_core.php', 5, 178, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1464, '/source/function/function_core.php', 5, 179, -3, -3, '			return '''';', -1, '', '', '', 0, ''),
(1465, '/source/function/function_core.php', 5, 180, -3, -3, '		}', -1, '', '', '', 0, ''),
(1466, '/source/function/function_core.php', 5, 181, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1467, '/source/function/function_core.php', 5, 182, -3, -3, '		return $keyc.str_replace(''='', '''', base64_encode($result));', -1, '', '', '', 0, ''),
(1468, '/source/function/function_core.php', 5, 183, -3, -3, '	}', -1, '', '', '', 0, ''),
(1469, '/source/function/function_core.php', 5, 184, -3, -3, '', -1, '', '', '', 0, ''),
(1470, '/source/function/function_core.php', 5, 185, -3, -3, '}', -1, '', '', '', 0, ''),
(1471, '/source/function/function_core.php', 5, 186, -3, -3, '', -1, '', '', '', 0, ''),
(1472, '/source/function/function_core.php', 5, 187, -3, -3, 'function fsocketopen($hostname, $port = 80, &$errno, &$errstr, $timeout = 15) {', -1, '', '', '', 0, ''),
(1473, '/source/function/function_core.php', 5, 188, -3, -3, '	$fp = '''';', -1, '', '', '', 0, ''),
(1474, '/source/function/function_core.php', 5, 189, -3, -3, '	if(function_exists(''fsockopen'')) {', -1, '', '', '', 0, ''),
(1475, '/source/function/function_core.php', 5, 190, -3, -3, '		$fp = @fsockopen($hostname, $port, $errno, $errstr, $timeout);', -1, '', '', '', 0, ''),
(1476, '/source/function/function_core.php', 5, 191, -3, -3, '	} elseif(function_exists(''pfsockopen'')) {', -1, '', '', '', 0, ''),
(1477, '/source/function/function_core.php', 5, 192, -3, -3, '		$fp = @pfsockopen($hostname, $port, $errno, $errstr, $timeout);', -1, '', '', '', 0, ''),
(1478, '/source/function/function_core.php', 5, 193, -3, -3, '	} elseif(function_exists(''stream_socket_client'')) {', -1, '', '', '', 0, ''),
(1479, '/source/function/function_core.php', 5, 194, -3, -3, '		$fp = @stream_socket_client($hostname.'':''.$port, $errno, $errstr, $timeout);', -1, '', '', '', 0, ''),
(1480, '/source/function/function_core.php', 5, 195, -3, -3, '	}', -1, '', '', '', 0, ''),
(1481, '/source/function/function_core.php', 5, 196, -3, -3, '	return $fp;', -1, '', '', '', 0, ''),
(1482, '/source/function/function_core.php', 5, 197, -3, -3, '}', -1, '', '', '', 0, ''),
(1483, '/source/function/function_core.php', 5, 198, -3, -3, '', -1, '', '', '', 0, ''),
(1484, '/source/function/function_core.php', 5, 199, -3, -3, 'function dfsockopen($url, $limit = 0, $post = '''', $cookie = '''', $bysocket = FALSE, $ip = '''', $timeout = 15, $block = TRUE, $encodetype  = ''URLENCODE'', $allowcurl = TRUE, $position = 0, $files = array()) {', -1, '', '', '', 0, ''),
(1485, '/source/function/function_core.php', 5, 200, -3, -3, '	require_once libfile(''function/filesock'');', -1, '', '', '', 0, ''),
(1486, '/source/function/function_core.php', 5, 201, -3, -3, '	return _dfsockopen($url, $limit, $post, $cookie, $bysocket, $ip, $timeout, $block, $encodetype, $allowcurl, $position, $files);', -1, '', '', '', 0, ''),
(1487, '/source/function/function_core.php', 5, 202, -3, -3, '}', -1, '', '', '', 0, ''),
(1488, '/source/function/function_core.php', 5, 203, -3, -3, '', -1, '', '', '', 0, ''),
(1489, '/source/function/function_core.php', 5, 204, 0, 0, 'function dhtmlspecialchars($string, $flags = null) {\r\n	if(is_array($string)) {\r\n\r\n		foreach($string as $key => $val) {\r\n\r\n			$string[$key] = dhtmlspecialchars($val, $flags);\r\n\r\n		}\r\n\r\n	} else {\r\n\r\n		if($flags === null) {\r\n\r\n			$string = str_replace(array(''&'', ''"'', ''<'', ''>''), array(''&amp;'', ''&quot;'', ''&lt;'', ''&gt;''), $string);\r\n\r\n			if(strpos($string, ''&amp;#'') !== false) {\r\n\r\n				$string = preg_replace(''/&amp;((#(\\d{3,5}|x[a-fA-F0-9]{4}));)/'', ''&\\\\1'', $string);\r\n\r\n			}\r\n\r\n		} else {\r\n\r\n			if(PHP_VERSION < ''5.4.0'') {\r\n\r\n				$string = htmlspecialchars($string, $flags);\r\n\r\n			} else {\r\n\r\n				if(strtolower(CHARSET) == ''utf-8'') {\r\n\r\n					$charset = ''UTF-8'';\r\n\r\n				} else {\r\n\r\n					$charset = ''ISO-8859-1'';\r\n\r\n				}\r\n\r\n				$string = htmlspecialchars($string, $flags, $charset);\r\n\r\n			}\r\n\r\n		}\r\n\r\n	}\r\n\r\n	return $string;\r\n\r\n}\r\n', 1, '', '', '可以利用mod[0][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]=1<>&mod[1][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]=1增加程序的执行时间，这里主要受到url长度限制。', 0, ''),
(1490, '/source/function/function_core.php', 5, 205, -2, -2, '	if(is_array($string)) {', -1, '', '', '', 0, ''),
(1491, '/source/function/function_core.php', 5, 206, -2, -2, '		foreach($string as $key => $val) {', -1, '', '', '', 0, ''),
(1492, '/source/function/function_core.php', 5, 207, -2, -2, '			$string[$key] = dhtmlspecialchars($val, $flags);', -1, '', '', '', 0, ''),
(1493, '/source/function/function_core.php', 5, 208, -2, -2, '		}', -1, '', '', '', 0, ''),
(1494, '/source/function/function_core.php', 5, 209, -2, -2, '	} else {', -1, '', '', '', 0, ''),
(1495, '/source/function/function_core.php', 5, 210, -2, -2, '		if($flags === null) {', -1, '', '', '', 0, ''),
(1496, '/source/function/function_core.php', 5, 211, -2, -2, '			$string = str_replace(array(''&'', ''"'', ''<'', ''>''), array(''&amp;'', ''&quot;'', ''&lt;'', ''&gt;''), $string);', -1, '', '', '', 0, ''),
(1497, '/source/function/function_core.php', 5, 212, -2, -2, '			if(strpos($string, ''&amp;#'') !== false) {', -1, '', '', '', 0, ''),
(1498, '/source/function/function_core.php', 5, 213, -2, -2, '				$string = preg_replace(''/&amp;((#(\\d{3,5}|x[a-fA-F0-9]{4}));)/'', ''&\\\\1'', $string);', -1, '', '', '', 0, ''),
(1499, '/source/function/function_core.php', 5, 214, -2, -2, '			}', -1, '', '', '', 0, ''),
(1500, '/source/function/function_core.php', 5, 215, -2, -2, '		} else {', -1, '', '', '', 0, ''),
(1501, '/source/function/function_core.php', 5, 216, -2, -2, '			if(PHP_VERSION < ''5.4.0'') {', -1, '', '', '', 0, ''),
(1502, '/source/function/function_core.php', 5, 217, -2, -2, '				$string = htmlspecialchars($string, $flags);', -1, '', '', '', 0, ''),
(1503, '/source/function/function_core.php', 5, 218, -2, -2, '			} else {', -1, '', '', '', 0, ''),
(1504, '/source/function/function_core.php', 5, 219, -2, -2, '				if(strtolower(CHARSET) == ''utf-8'') {', -1, '', '', '', 0, ''),
(1505, '/source/function/function_core.php', 5, 220, -2, -2, '					$charset = ''UTF-8'';', -1, '', '', '', 0, ''),
(1506, '/source/function/function_core.php', 5, 221, -2, -2, '				} else {', -1, '', '', '', 0, ''),
(1507, '/source/function/function_core.php', 5, 222, -2, -2, '					$charset = ''ISO-8859-1'';', -1, '', '', '', 0, ''),
(1508, '/source/function/function_core.php', 5, 223, -2, -2, '				}', -1, '', '', '', 0, ''),
(1509, '/source/function/function_core.php', 5, 224, -2, -2, '				$string = htmlspecialchars($string, $flags, $charset);', -1, '', '', '', 0, ''),
(1510, '/source/function/function_core.php', 5, 225, -2, -2, '			}', -1, '', '', '', 0, ''),
(1511, '/source/function/function_core.php', 5, 226, -2, -2, '		}', -1, '', '', '', 0, ''),
(1512, '/source/function/function_core.php', 5, 227, -2, -2, '	}', -1, '', '', '', 0, ''),
(1513, '/source/function/function_core.php', 5, 228, -2, -2, '	return $string;', -1, '', '', '', 0, ''),
(1514, '/source/function/function_core.php', 5, 229, -2, -2, '}', -1, '', '', '', 0, ''),
(1515, '/source/function/function_core.php', 5, 230, -2, -2, '', -1, '', '', '', 0, ''),
(1516, '/source/function/function_core.php', 5, 231, -3, -3, 'function dexit($message = '''') {', -1, '', '', '', 0, ''),
(1517, '/source/function/function_core.php', 5, 232, -3, -3, '	echo $message;', -1, '', '', '', 0, ''),
(1518, '/source/function/function_core.php', 5, 233, -3, -3, '	output();', -1, '', '', '', 0, ''),
(1519, '/source/function/function_core.php', 5, 234, -3, -3, '	exit();', -1, '', '', '', 0, ''),
(1520, '/source/function/function_core.php', 5, 235, -3, -3, '}', -1, '', '', '', 0, ''),
(1521, '/source/function/function_core.php', 5, 236, -3, -3, '', -1, '', '', '', 0, ''),
(1522, '/source/function/function_core.php', 5, 237, -3, -3, 'function dheader($string, $replace = true, $http_response_code = 0) {', -1, '', '', '', 0, ''),
(1523, '/source/function/function_core.php', 5, 238, -3, -3, '	$islocation = substr(strtolower(trim($string)), 0, 8) == ''location'';', -1, '', '', '', 0, ''),
(1524, '/source/function/function_core.php', 5, 239, -3, -3, '	if(defined(''IN_MOBILE'') && strpos($string, ''mobile'') === false && $islocation) {', -1, '', '', '', 0, ''),
(1525, '/source/function/function_core.php', 5, 240, -3, -3, '		if (strpos($string, ''?'') === false) {', -1, '', '', '', 0, ''),
(1526, '/source/function/function_core.php', 5, 241, -3, -3, '			$string = $string.''?mobile=''.IN_MOBILE;', -1, '', '', '', 0, ''),
(1527, '/source/function/function_core.php', 5, 242, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1528, '/source/function/function_core.php', 5, 243, -3, -3, '			if(strpos($string, ''#'') === false) {', -1, '', '', '', 0, ''),
(1529, '/source/function/function_core.php', 5, 244, -3, -3, '				$string = $string.''&mobile=''.IN_MOBILE;', -1, '', '', '', 0, ''),
(1530, '/source/function/function_core.php', 5, 245, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1531, '/source/function/function_core.php', 5, 246, -3, -3, '				$str_arr = explode(''#'', $string);', -1, '', '', '', 0, ''),
(1532, '/source/function/function_core.php', 5, 247, -3, -3, '				$str_arr[0] = $str_arr[0].''&mobile=''.IN_MOBILE;', -1, '', '', '', 0, ''),
(1533, '/source/function/function_core.php', 5, 248, -3, -3, '				$string = implode(''#'', $str_arr);', -1, '', '', '', 0, ''),
(1534, '/source/function/function_core.php', 5, 249, -3, -3, '			}', -1, '', '', '', 0, ''),
(1535, '/source/function/function_core.php', 5, 250, -3, -3, '		}', -1, '', '', '', 0, ''),
(1536, '/source/function/function_core.php', 5, 251, -3, -3, '	}', -1, '', '', '', 0, ''),
(1537, '/source/function/function_core.php', 5, 252, -3, -3, '	$string = str_replace(array("\\r", "\\n"), array('''', ''''), $string);', -1, '', '', '', 0, ''),
(1538, '/source/function/function_core.php', 5, 253, -3, -3, '	if(empty($http_response_code) || PHP_VERSION < ''4.3'' ) {', -1, '', '', '', 0, ''),
(1539, '/source/function/function_core.php', 5, 254, -3, -3, '		@header($string, $replace);', -1, '', '', '', 0, ''),
(1540, '/source/function/function_core.php', 5, 255, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1541, '/source/function/function_core.php', 5, 256, -3, -3, '		@header($string, $replace, $http_response_code);', -1, '', '', '', 0, ''),
(1542, '/source/function/function_core.php', 5, 257, -3, -3, '	}', -1, '', '', '', 0, ''),
(1543, '/source/function/function_core.php', 5, 258, -3, -3, '	if($islocation) {', -1, '', '', '', 0, ''),
(1544, '/source/function/function_core.php', 5, 259, -3, -3, '		exit();', -1, '', '', '', 0, ''),
(1545, '/source/function/function_core.php', 5, 260, -3, -3, '	}', -1, '', '', '', 0, ''),
(1546, '/source/function/function_core.php', 5, 261, -3, -3, '}', -1, '', '', '', 0, ''),
(1547, '/source/function/function_core.php', 5, 262, -3, -3, '', -1, '', '', '', 0, ''),
(1548, '/source/function/function_core.php', 5, 263, -3, -3, 'function dsetcookie($var, $value = '''', $life = 0, $prefix = 1, $httponly = false) {', -1, '', '', '', 0, ''),
(1549, '/source/function/function_core.php', 5, 264, -3, -3, '', -1, '', '', '', 0, ''),
(1550, '/source/function/function_core.php', 5, 265, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1551, '/source/function/function_core.php', 5, 266, -3, -3, '', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(1552, '/source/function/function_core.php', 5, 267, -3, -3, '	$config = $_G[''config''][''cookie''];', -1, '', '', '', 0, ''),
(1553, '/source/function/function_core.php', 5, 268, -3, -3, '', -1, '', '', '', 0, ''),
(1554, '/source/function/function_core.php', 5, 269, -3, -3, '	$_G[''cookie''][$var] = $value;', -1, '', '', '', 0, ''),
(1555, '/source/function/function_core.php', 5, 270, -3, -3, '	$var = ($prefix ? $config[''cookiepre''] : '''').$var;', -1, '', '', '', 0, ''),
(1556, '/source/function/function_core.php', 5, 271, -3, -3, '	$_COOKIE[$var] = $value;', -1, '', '', '', 0, ''),
(1557, '/source/function/function_core.php', 5, 272, -3, -3, '', -1, '', '', '', 0, ''),
(1558, '/source/function/function_core.php', 5, 273, -3, -3, '	if($value == '''' || $life < 0) {', -1, '', '', '', 0, ''),
(1559, '/source/function/function_core.php', 5, 274, -3, -3, '		$value = '''';', -1, '', '', '', 0, ''),
(1560, '/source/function/function_core.php', 5, 275, -3, -3, '		$life = -1;', -1, '', '', '', 0, ''),
(1561, '/source/function/function_core.php', 5, 276, -3, -3, '	}', -1, '', '', '', 0, ''),
(1562, '/source/function/function_core.php', 5, 277, -3, -3, '', -1, '', '', '', 0, ''),
(1563, '/source/function/function_core.php', 5, 278, -3, -3, '	if(defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(1564, '/source/function/function_core.php', 5, 279, -3, -3, '		$httponly = false;', -1, '', '', '', 0, ''),
(1565, '/source/function/function_core.php', 5, 280, -3, -3, '	}', -1, '', '', '', 0, ''),
(1566, '/source/function/function_core.php', 5, 281, -3, -3, '', -1, '', '', '', 0, ''),
(1567, '/source/function/function_core.php', 5, 282, -3, -3, '	$life = $life > 0 ? getglobal(''timestamp'') + $life : ($life < 0 ? getglobal(''timestamp'') - 31536000 : 0);', -1, '', '', '', 0, ''),
(1568, '/source/function/function_core.php', 5, 283, -3, -3, '	$path = $httponly && PHP_VERSION < ''5.2.0'' ? $config[''cookiepath''].''; HttpOnly'' : $config[''cookiepath''];', -1, '', '', '', 0, ''),
(1569, '/source/function/function_core.php', 5, 284, -3, -3, '', -1, '', '', '', 0, ''),
(1570, '/source/function/function_core.php', 5, 285, -3, -3, '	$secure = $_SERVER[''SERVER_PORT''] == 443 ? 1 : 0;', -1, '', '', '', 0, ''),
(1571, '/source/function/function_core.php', 5, 286, -3, -3, '	if(PHP_VERSION < ''5.2.0'') {', -1, '', '', '', 0, ''),
(1572, '/source/function/function_core.php', 5, 287, -3, -3, '		setcookie($var, $value, $life, $path, $config[''cookiedomain''], $secure);', -1, '', '', '', 0, ''),
(1573, '/source/function/function_core.php', 5, 288, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1574, '/source/function/function_core.php', 5, 289, -3, -3, '		setcookie($var, $value, $life, $path, $config[''cookiedomain''], $secure, $httponly);', -1, '', '', '', 0, ''),
(1575, '/source/function/function_core.php', 5, 290, -3, -3, '	}', -1, '', '', '', 0, ''),
(1576, '/source/function/function_core.php', 5, 291, -3, -3, '}', -1, '', '', '', 0, ''),
(1577, '/source/function/function_core.php', 5, 292, -3, -3, '', -1, '', '', '', 0, ''),
(1578, '/source/function/function_core.php', 5, 293, -3, -3, 'function getcookie($key) {', -1, '', '', '', 0, ''),
(1579, '/source/function/function_core.php', 5, 294, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1580, '/source/function/function_core.php', 5, 295, -3, -3, '	return isset($_G[''cookie''][$key]) ? $_G[''cookie''][$key] : '''';', -1, '', '', '', 0, ''),
(1581, '/source/function/function_core.php', 5, 296, -3, -3, '}', -1, '', '', '', 0, ''),
(1582, '/source/function/function_core.php', 5, 297, -3, -3, '', -1, '', '', '', 0, ''),
(1583, '/source/function/function_core.php', 5, 298, -3, -3, 'function fileext($filename) {', -1, '', '', '', 0, ''),
(1584, '/source/function/function_core.php', 5, 299, -3, -3, '	return addslashes(strtolower(substr(strrchr($filename, ''.''), 1, 10)));', -1, '', '', '', 0, ''),
(1585, '/source/function/function_core.php', 5, 300, -3, -3, '}', -1, '', '', '', 0, ''),
(1586, '/source/function/function_core.php', 5, 301, -3, -3, '', -1, '', '', '', 0, ''),
(1587, '/source/function/function_core.php', 5, 302, -3, -3, 'function formhash($specialadd = '''') {', -1, '', '', '', 0, ''),
(1588, '/source/function/function_core.php', 5, 303, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1589, '/source/function/function_core.php', 5, 304, -3, -3, '	$hashadd = defined(''IN_ADMINCP'') ? ''Only For Discuz! Admin Control Panel'' : '''';', -1, '', '', '', 0, ''),
(1590, '/source/function/function_core.php', 5, 305, -3, -3, '	return substr(md5(substr($_G[''timestamp''], 0, -7).$_G[''username''].$_G[''uid''].$_G[''authkey''].$hashadd.$specialadd), 8, 8);', -1, '', '', '', 0, ''),
(1591, '/source/function/function_core.php', 5, 306, -3, -3, '}', -1, '', '', '', 0, ''),
(1592, '/source/function/function_core.php', 5, 307, -3, -3, '', -1, '', '', '', 0, ''),
(1593, '/source/function/function_core.php', 5, 308, 0, 0, 'function checkrobot($useragent = '''') {\r\n	static $kw_spiders = array(''bot'', ''crawl'', ''spider'' ,''slurp'', ''sohu-search'', ''lycos'', ''robozilla'');\r\n\r\n	static $kw_browsers = array(''msie'', ''netscape'', ''opera'', ''konqueror'', ''mozilla'');\r\n\r\n	$useragent = strtolower(empty($useragent) ? $_SERVER[''HTTP_USER_AGENT''] : $useragent);\r\n\r\n	if(strpos($useragent, ''http://'') === false && dstrpos($useragent, $kw_browsers)) return false;\r\n\r\n	if(dstrpos($useragent, $kw_spiders)) return true;\r\n\r\n	return false;\r\n\r\n}\r\n', 1, '', '', '', 0, ''),
(1594, '/source/function/function_core.php', 5, 309, -2, -2, '	static $kw_spiders = array(''bot'', ''crawl'', ''spider'' ,''slurp'', ''sohu-search'', ''lycos'', ''robozilla'');', -1, '', '', '', 0, ''),
(1595, '/source/function/function_core.php', 5, 310, -2, -2, '	static $kw_browsers = array(''msie'', ''netscape'', ''opera'', ''konqueror'', ''mozilla'');', -1, '', '', '', 0, ''),
(1596, '/source/function/function_core.php', 5, 311, -2, -2, '', -1, '', '', '', 0, ''),
(1597, '/source/function/function_core.php', 5, 312, -2, -2, '	$useragent = strtolower(empty($useragent) ? $_SERVER[''HTTP_USER_AGENT''] : $useragent);', -1, '', '', '', 0, ''),
(1598, '/source/function/function_core.php', 5, 313, -2, -2, '	if(strpos($useragent, ''http://'') === false && dstrpos($useragent, $kw_browsers)) return false;', -1, '', '', '', 0, ''),
(1599, '/source/function/function_core.php', 5, 314, -2, -2, '	if(dstrpos($useragent, $kw_spiders)) return true;', -1, '', '', '', 0, ''),
(1600, '/source/function/function_core.php', 5, 315, -2, -2, '	return false;', -1, '', '', '', 0, ''),
(1601, '/source/function/function_core.php', 5, 316, -2, -2, '}', -1, '', '', '', 0, ''),
(1602, '/source/function/function_core.php', 5, 317, -3, -3, 'function checkmobile() {', -1, '', '', '', 0, ''),
(1603, '/source/function/function_core.php', 5, 318, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1604, '/source/function/function_core.php', 5, 319, -3, -3, '	$mobile = array();', -1, '', '', '', 0, ''),
(1605, '/source/function/function_core.php', 5, 320, -3, -3, '	static $touchbrowser_list =array(''iphone'', ''android'', ''phone'', ''mobile'', ''wap'', ''netfront'', ''java'', ''opera mobi'', ''opera mini'',', -1, '', '', '', 0, ''),
(1606, '/source/function/function_core.php', 5, 321, -3, -3, '				''ucweb'', ''windows ce'', ''symbian'', ''series'', ''webos'', ''sony'', ''blackberry'', ''dopod'', ''nokia'', ''samsung'',', -1, '', '', '', 0, ''),
(1607, '/source/function/function_core.php', 5, 322, -3, -3, '				''palmsource'', ''xda'', ''pieplus'', ''meizu'', ''midp'', ''cldc'', ''motorola'', ''foma'', ''docomo'', ''up.browser'',', -1, '', '', '', 0, ''),
(1608, '/source/function/function_core.php', 5, 323, -3, -3, '				''up.link'', ''blazer'', ''helio'', ''hosin'', ''huawei'', ''novarra'', ''coolpad'', ''webos'', ''techfaith'', ''palmsource'',', -1, '', '', '', 0, ''),
(1609, '/source/function/function_core.php', 5, 324, -3, -3, '				''alcatel'', ''amoi'', ''ktouch'', ''nexian'', ''ericsson'', ''philips'', ''sagem'', ''wellcom'', ''bunjalloo'', ''maui'', ''smartphone'',', -1, '', '', '', 0, ''),
(1610, '/source/function/function_core.php', 5, 325, -3, -3, '				''iemobile'', ''spice'', ''bird'', ''zte-'', ''longcos'', ''pantech'', ''gionee'', ''portalmmm'', ''jig browser'', ''hiptop'',', -1, '', '', '', 0, ''),
(1611, '/source/function/function_core.php', 5, 326, -3, -3, '				''benq'', ''haier'', ''^lct'', ''320x320'', ''240x320'', ''176x220'', ''windows phone'');', -1, '', '', '', 0, ''),
(1612, '/source/function/function_core.php', 5, 327, -3, -3, '	static $wmlbrowser_list = array(''cect'', ''compal'', ''ctl'', ''lg'', ''nec'', ''tcl'', ''alcatel'', ''ericsson'', ''bird'', ''daxian'', ''dbtel'', ''eastcom'',', -1, '', '', '', 0, ''),
(1613, '/source/function/function_core.php', 5, 328, -3, -3, '			''pantech'', ''dopod'', ''philips'', ''haier'', ''konka'', ''kejian'', ''lenovo'', ''benq'', ''mot'', ''soutec'', ''nokia'', ''sagem'', ''sgh'',', -1, '', '', '', 0, ''),
(1614, '/source/function/function_core.php', 5, 329, -3, -3, '			''sed'', ''capitel'', ''panasonic'', ''sonyericsson'', ''sharp'', ''amoi'', ''panda'', ''zte'');', -1, '', '', '', 0, ''),
(1615, '/source/function/function_core.php', 5, 330, -3, -3, '', -1, '', '', '', 0, ''),
(1616, '/source/function/function_core.php', 5, 331, -3, -3, '	static $pad_list = array(''ipad'');', -1, '', '', '', 0, ''),
(1617, '/source/function/function_core.php', 5, 332, -3, -3, '', -1, '', '', '', 0, ''),
(1618, '/source/function/function_core.php', 5, 333, -3, -3, '	$useragent = strtolower($_SERVER[''HTTP_USER_AGENT'']);', -1, '', '', '', 0, ''),
(1619, '/source/function/function_core.php', 5, 334, -3, -3, '', -1, '', '', '', 0, ''),
(1620, '/source/function/function_core.php', 5, 335, -3, -3, '	if(dstrpos($useragent, $pad_list)) {', -1, '', '', '', 0, ''),
(1621, '/source/function/function_core.php', 5, 336, -3, -3, '		return false;', -1, '', '', '', 0, ''),
(1622, '/source/function/function_core.php', 5, 337, -3, -3, '	}', -1, '', '', '', 0, ''),
(1623, '/source/function/function_core.php', 5, 338, -3, -3, '	if(($v = dstrpos($useragent, $touchbrowser_list, true))){', -1, '', '', '', 0, ''),
(1624, '/source/function/function_core.php', 5, 339, -3, -3, '		$_G[''mobile''] = $v;', -1, '', '', '', 0, ''),
(1625, '/source/function/function_core.php', 5, 340, -3, -3, '		return ''2'';', -1, '', '', '', 0, ''),
(1626, '/source/function/function_core.php', 5, 341, -3, -3, '	}', -1, '', '', '', 0, ''),
(1627, '/source/function/function_core.php', 5, 342, -3, -3, '	if(($v = dstrpos($useragent, $wmlbrowser_list))) {', -1, '', '', '', 0, ''),
(1628, '/source/function/function_core.php', 5, 343, -3, -3, '		$_G[''mobile''] = $v;', -1, '', '', '', 0, ''),
(1629, '/source/function/function_core.php', 5, 344, -3, -3, '		return ''3''; //wml版', -1, '', '', '', 0, ''),
(1630, '/source/function/function_core.php', 5, 345, -3, -3, '	}', -1, '', '', '', 0, ''),
(1631, '/source/function/function_core.php', 5, 346, -3, -3, '	$brower = array(''mozilla'', ''chrome'', ''safari'', ''opera'', ''m3gate'', ''winwap'', ''openwave'', ''myop'');', -1, '', '', '', 0, ''),
(1632, '/source/function/function_core.php', 5, 347, -3, -3, '	if(dstrpos($useragent, $brower)) return false;', -1, '', '', '', 0, ''),
(1633, '/source/function/function_core.php', 5, 348, -3, -3, '', -1, '', '', '', 0, ''),
(1634, '/source/function/function_core.php', 5, 349, -3, -3, '	$_G[''mobile''] = ''unknown'';', -1, '', '', '', 0, ''),
(1635, '/source/function/function_core.php', 5, 350, -3, -3, '	if(isset($_G[''mobiletpl''][$_GET[''mobile'']])) {', -1, '', '', '', 0, ''),
(1636, '/source/function/function_core.php', 5, 351, -3, -3, '		return true;', -1, '', '', '', 0, ''),
(1637, '/source/function/function_core.php', 5, 352, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1638, '/source/function/function_core.php', 5, 353, -3, -3, '		return false;', -1, '', '', '', 0, ''),
(1639, '/source/function/function_core.php', 5, 354, -3, -3, '	}', -1, '', '', '', 0, ''),
(1640, '/source/function/function_core.php', 5, 355, -3, -3, '}', -1, '', '', '', 0, ''),
(1641, '/source/function/function_core.php', 5, 356, -3, -3, '', -1, '', '', '', 0, ''),
(1642, '/source/function/function_core.php', 5, 357, -3, -3, 'function dstrpos($string, $arr, $returnvalue = false) {', -1, '', '', '', 0, ''),
(1643, '/source/function/function_core.php', 5, 358, -3, -3, '	if(empty($string)) return false;', -1, '', '', '', 0, ''),
(1644, '/source/function/function_core.php', 5, 359, -3, -3, '	foreach((array)$arr as $v) {', -1, '', '', '', 0, ''),
(1645, '/source/function/function_core.php', 5, 360, -3, -3, '		if(strpos($string, $v) !== false) {', -1, '', '', '', 0, ''),
(1646, '/source/function/function_core.php', 5, 361, -3, -3, '			$return = $returnvalue ? $v : true;', -1, '', '', '', 0, ''),
(1647, '/source/function/function_core.php', 5, 362, -3, -3, '			return $return;', -1, '', '', '', 0, ''),
(1648, '/source/function/function_core.php', 5, 363, -3, -3, '		}', -1, '', '', '', 0, ''),
(1649, '/source/function/function_core.php', 5, 364, -3, -3, '	}', -1, '', '', '', 0, ''),
(1650, '/source/function/function_core.php', 5, 365, -3, -3, '	return false;', -1, '', '', '', 0, ''),
(1651, '/source/function/function_core.php', 5, 366, -3, -3, '}', -1, '', '', '', 0, ''),
(1652, '/source/function/function_core.php', 5, 367, -3, -3, '', -1, '', '', '', 0, ''),
(1653, '/source/function/function_core.php', 5, 368, -3, -3, 'function isemail($email) {', -1, '', '', '', 0, ''),
(1654, '/source/function/function_core.php', 5, 369, -3, -3, '	return strlen($email) > 6 && strlen($email) <= 32 && preg_match("/^([A-Za-z0-9\\-_.+]+)@([A-Za-z0-9\\-]+[.][A-Za-z0-9\\-.]+)$/", $email);', -1, '', '', '', 0, ''),
(1655, '/source/function/function_core.php', 5, 370, -3, -3, '}', -1, '', '', '', 0, ''),
(1656, '/source/function/function_core.php', 5, 371, -3, -3, '', -1, '', '', '', 0, ''),
(1657, '/source/function/function_core.php', 5, 372, -3, -3, 'function quescrypt($questionid, $answer) {', -1, '', '', '', 0, ''),
(1658, '/source/function/function_core.php', 5, 373, -3, -3, '	return $questionid > 0 && $answer != '''' ? substr(md5($answer.md5($questionid)), 16, 8) : '''';', -1, '', '', '', 0, ''),
(1659, '/source/function/function_core.php', 5, 374, -3, -3, '}', -1, '', '', '', 0, ''),
(1660, '/source/function/function_core.php', 5, 375, -3, -3, '', -1, '', '', '', 0, ''),
(1661, '/source/function/function_core.php', 5, 376, -3, -3, 'function random($length, $numeric = 0) {', -1, '', '', '', 0, ''),
(1662, '/source/function/function_core.php', 5, 377, -3, -3, '	$seed = base_convert(md5(microtime().$_SERVER[''DOCUMENT_ROOT'']), 16, $numeric ? 10 : 35);', -1, '', '', '', 0, ''),
(1663, '/source/function/function_core.php', 5, 378, -3, -3, '	$seed = $numeric ? (str_replace(''0'', '''', $seed).''012340567890'') : ($seed.''zZ''.strtoupper($seed));', -1, '', '', '', 0, ''),
(1664, '/source/function/function_core.php', 5, 379, -3, -3, '	if($numeric) {', -1, '', '', '', 0, ''),
(1665, '/source/function/function_core.php', 5, 380, -3, -3, '		$hash = '''';', -1, '', '', '', 0, ''),
(1666, '/source/function/function_core.php', 5, 381, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1667, '/source/function/function_core.php', 5, 382, -3, -3, '		$hash = chr(rand(1, 26) + rand(0, 1) * 32 + 64);', -1, '', '', '', 0, ''),
(1668, '/source/function/function_core.php', 5, 383, -3, -3, '		$length--;', -1, '', '', '', 0, ''),
(1669, '/source/function/function_core.php', 5, 384, -3, -3, '	}', -1, '', '', '', 0, ''),
(1670, '/source/function/function_core.php', 5, 385, -3, -3, '	$max = strlen($seed) - 1;', -1, '', '', '', 0, ''),
(1671, '/source/function/function_core.php', 5, 386, -3, -3, '	for($i = 0; $i < $length; $i++) {', -1, '', '', '', 0, ''),
(1672, '/source/function/function_core.php', 5, 387, -3, -3, '		$hash .= $seed{mt_rand(0, $max)};', -1, '', '', '', 0, ''),
(1673, '/source/function/function_core.php', 5, 388, -3, -3, '	}', -1, '', '', '', 0, ''),
(1674, '/source/function/function_core.php', 5, 389, -3, -3, '	return $hash;', -1, '', '', '', 0, ''),
(1675, '/source/function/function_core.php', 5, 390, -3, -3, '}', -1, '', '', '', 0, ''),
(1676, '/source/function/function_core.php', 5, 391, -3, -3, '', -1, '', '', '', 0, ''),
(1677, '/source/function/function_core.php', 5, 392, -3, -3, 'function strexists($string, $find) {', -1, '', '', '', 0, ''),
(1678, '/source/function/function_core.php', 5, 393, -3, -3, '	return !(strpos($string, $find) === FALSE);', -1, '', '', '', 0, ''),
(1679, '/source/function/function_core.php', 5, 394, -3, -3, '}', -1, '', '', '', 0, ''),
(1680, '/source/function/function_core.php', 5, 395, -3, -3, '', -1, '', '', '', 0, ''),
(1681, '/source/function/function_core.php', 5, 396, -3, -3, 'function avatar($uid, $size = ''middle'', $returnsrc = FALSE, $real = FALSE, $static = FALSE, $ucenterurl = '''') {', -1, '', '', '', 0, ''),
(1682, '/source/function/function_core.php', 5, 397, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1683, '/source/function/function_core.php', 5, 398, -3, -3, '	if($_G[''setting''][''plugins''][''func''][HOOKTYPE][''avatar'']) {', -1, '', '', '', 0, ''),
(1684, '/source/function/function_core.php', 5, 399, -3, -3, '		$_G[''hookavatar''] = '''';', -1, '', '', '', 0, ''),
(1685, '/source/function/function_core.php', 5, 400, -3, -3, '		$param = func_get_args();', -1, '', '', '', 0, ''),
(1686, '/source/function/function_core.php', 5, 401, -3, -3, '		hookscript(''avatar'', ''global'', ''funcs'', array(''param'' => $param), ''avatar'');', -1, '', '', '', 0, ''),
(1687, '/source/function/function_core.php', 5, 402, -3, -3, '		if($_G[''hookavatar'']) {', -1, '', '', '', 0, ''),
(1688, '/source/function/function_core.php', 5, 403, -3, -3, '			return $_G[''hookavatar''];', -1, '', '', '', 0, ''),
(1689, '/source/function/function_core.php', 5, 404, -3, -3, '		}', -1, '', '', '', 0, ''),
(1690, '/source/function/function_core.php', 5, 405, -3, -3, '	}', -1, '', '', '', 0, ''),
(1691, '/source/function/function_core.php', 5, 406, -3, -3, '	static $staticavatar;', -1, '', '', '', 0, ''),
(1692, '/source/function/function_core.php', 5, 407, -3, -3, '	if($staticavatar === null) {', -1, '', '', '', 0, ''),
(1693, '/source/function/function_core.php', 5, 408, -3, -3, '		$staticavatar = $_G[''setting''][''avatarmethod''];', -1, '', '', '', 0, ''),
(1694, '/source/function/function_core.php', 5, 409, -3, -3, '	}', -1, '', '', '', 0, ''),
(1695, '/source/function/function_core.php', 5, 410, -3, -3, '', -1, '', '', '', 0, ''),
(1696, '/source/function/function_core.php', 5, 411, -3, -3, '	$ucenterurl = empty($ucenterurl) ? $_G[''setting''][''ucenterurl''] : $ucenterurl;', -1, '', '', '', 0, ''),
(1697, '/source/function/function_core.php', 5, 412, -3, -3, '	$size = in_array($size, array(''big'', ''middle'', ''small'')) ? $size : ''middle'';', -1, '', '', '', 0, ''),
(1698, '/source/function/function_core.php', 5, 413, -3, -3, '	$uid = abs(intval($uid));', -1, '', '', '', 0, ''),
(1699, '/source/function/function_core.php', 5, 414, -3, -3, '	if(!$staticavatar && !$static) {', -1, '', '', '', 0, ''),
(1700, '/source/function/function_core.php', 5, 415, -3, -3, '		return $returnsrc ? $ucenterurl.''/avatar.php?uid=''.$uid.''&size=''.$size.($real ? ''&type=real'' : '''') : ''<img src="''.$ucenterurl.''/avatar.php?uid=''.$uid.''&size=''.$size.($real ? ''&type=real'' : '''').''" />'';', -1, '', '', '', 0, ''),
(1701, '/source/function/function_core.php', 5, 416, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1702, '/source/function/function_core.php', 5, 417, -3, -3, '		$uid = sprintf("%09d", $uid);', -1, '', '', '', 0, ''),
(1703, '/source/function/function_core.php', 5, 418, -3, -3, '		$dir1 = substr($uid, 0, 3);', -1, '', '', '', 0, ''),
(1704, '/source/function/function_core.php', 5, 419, -3, -3, '		$dir2 = substr($uid, 3, 2);', -1, '', '', '', 0, ''),
(1705, '/source/function/function_core.php', 5, 420, -3, -3, '		$dir3 = substr($uid, 5, 2);', -1, '', '', '', 0, ''),
(1706, '/source/function/function_core.php', 5, 421, -3, -3, '		$file = $ucenterurl.''/data/avatar/''.$dir1.''/''.$dir2.''/''.$dir3.''/''.substr($uid, -2).($real ? ''_real'' : '''').''_avatar_''.$size.''.jpg'';', -1, '', '', '', 0, ''),
(1707, '/source/function/function_core.php', 5, 422, -3, -3, '		return $returnsrc ? $file : ''<img src="''.$file.''" onerror="this.onerror=null;this.src=\\''''.$ucenterurl.''/images/noavatar_''.$size.''.gif\\''" />'';', -1, '', '', '', 0, ''),
(1708, '/source/function/function_core.php', 5, 423, -3, -3, '	}', -1, '', '', '', 0, ''),
(1709, '/source/function/function_core.php', 5, 424, -3, -3, '}', -1, '', '', '', 0, ''),
(1710, '/source/function/function_core.php', 5, 425, -3, -3, '', -1, '', '', '', 0, ''),
(1711, '/source/function/function_core.php', 5, 426, -3, -3, 'function lang($file, $langvar = null, $vars = array(), $default = null) {', -1, '', '', '', 0, ''),
(1712, '/source/function/function_core.php', 5, 427, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1713, '/source/function/function_core.php', 5, 428, -3, -3, '	$fileinput = $file;', -1, '', '', '', 0, ''),
(1714, '/source/function/function_core.php', 5, 429, -3, -3, '	list($path, $file) = explode(''/'', $file);', -1, '', '', '', 0, ''),
(1715, '/source/function/function_core.php', 5, 430, -3, -3, '	if(!$file) {', -1, '', '', '', 0, ''),
(1716, '/source/function/function_core.php', 5, 431, -3, -3, '		$file = $path;', -1, '', '', '', 0, ''),
(1717, '/source/function/function_core.php', 5, 432, -3, -3, '		$path = '''';', -1, '', '', '', 0, ''),
(1718, '/source/function/function_core.php', 5, 433, -3, -3, '	}', -1, '', '', '', 0, ''),
(1719, '/source/function/function_core.php', 5, 434, -3, -3, '	if(strpos($file, '':'') !== false) {', -1, '', '', '', 0, ''),
(1720, '/source/function/function_core.php', 5, 435, -3, -3, '		$path = ''plugin'';', -1, '', '', '', 0, ''),
(1721, '/source/function/function_core.php', 5, 436, -3, -3, '		list($file) = explode('':'', $file);', -1, '', '', '', 0, ''),
(1722, '/source/function/function_core.php', 5, 437, -3, -3, '	}', -1, '', '', '', 0, ''),
(1723, '/source/function/function_core.php', 5, 438, -3, -3, '', -1, '', '', '', 0, ''),
(1724, '/source/function/function_core.php', 5, 439, -3, -3, '	if($path != ''plugin'') {', -1, '', '', '', 0, ''),
(1725, '/source/function/function_core.php', 5, 440, -3, -3, '		$key = $path == '''' ? $file : $path.''_''.$file;', -1, '', '', '', 0, ''),
(1726, '/source/function/function_core.php', 5, 441, -3, -3, '		if(!isset($_G[''lang''][$key])) {', -1, '', '', '', 0, ''),
(1727, '/source/function/function_core.php', 5, 442, -3, -3, '			include DISCUZ_ROOT.''./source/language/''.($path == '''' ? '''' : $path.''/'').''lang_''.$file.''.php'';', -1, '', '', '', 0, ''),
(1728, '/source/function/function_core.php', 5, 443, -3, -3, '			$_G[''lang''][$key] = $lang;', -1, '', '', '', 0, ''),
(1729, '/source/function/function_core.php', 5, 444, -3, -3, '		}', -1, '', '', '', 0, ''),
(1730, '/source/function/function_core.php', 5, 445, -3, -3, '		if(defined(''IN_MOBILE'') && !defined(''TPL_DEFAULT'')) {', -1, '', '', '', 0, ''),
(1731, '/source/function/function_core.php', 5, 446, -3, -3, '			include DISCUZ_ROOT.''./source/language/mobile/lang_template.php'';', -1, '', '', '', 0, ''),
(1732, '/source/function/function_core.php', 5, 447, -3, -3, '			$_G[''lang''][$key] = array_merge($_G[''lang''][$key], $lang);', -1, '', '', '', 0, ''),
(1733, '/source/function/function_core.php', 5, 448, -3, -3, '		}', -1, '', '', '', 0, ''),
(1734, '/source/function/function_core.php', 5, 449, -3, -3, '		if($file != ''error'' && !isset($_G[''cache''][''pluginlanguage_system''])) {', -1, '', '', '', 0, ''),
(1735, '/source/function/function_core.php', 5, 450, -3, -3, '			loadcache(''pluginlanguage_system'');', -1, '', '', '', 0, ''),
(1736, '/source/function/function_core.php', 5, 451, -3, -3, '		}', -1, '', '', '', 0, ''),
(1737, '/source/function/function_core.php', 5, 452, -3, -3, '		if(!isset($_G[''hooklang''][$fileinput])) {', -1, '', '', '', 0, ''),
(1738, '/source/function/function_core.php', 5, 453, -3, -3, '			if(isset($_G[''cache''][''pluginlanguage_system''][$fileinput]) && is_array($_G[''cache''][''pluginlanguage_system''][$fileinput])) {', -1, '', '', '', 0, ''),
(1739, '/source/function/function_core.php', 5, 454, -3, -3, '				$_G[''lang''][$key] = array_merge($_G[''lang''][$key], $_G[''cache''][''pluginlanguage_system''][$fileinput]);', -1, '', '', '', 0, ''),
(1740, '/source/function/function_core.php', 5, 455, -3, -3, '			}', -1, '', '', '', 0, ''),
(1741, '/source/function/function_core.php', 5, 456, -3, -3, '			$_G[''hooklang''][$fileinput] = true;', -1, '', '', '', 0, ''),
(1742, '/source/function/function_core.php', 5, 457, -3, -3, '		}', -1, '', '', '', 0, ''),
(1743, '/source/function/function_core.php', 5, 458, -3, -3, '		$returnvalue = &$_G[''lang''];', -1, '', '', '', 0, ''),
(1744, '/source/function/function_core.php', 5, 459, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(1745, '/source/function/function_core.php', 5, 460, -3, -3, '		if(empty($_G[''config''][''plugindeveloper''])) {', -1, '', '', '', 0, ''),
(1746, '/source/function/function_core.php', 5, 461, -3, -3, '			loadcache(''pluginlanguage_script'');', -1, '', '', '', 0, ''),
(1747, '/source/function/function_core.php', 5, 462, -3, -3, '		} elseif(!isset($_G[''cache''][''pluginlanguage_script''][$file]) && preg_match("/^[a-z]+[a-z0-9_]*$/i", $file)) {', -1, '', '', '', 0, ''),
(1748, '/source/function/function_core.php', 5, 463, -3, -3, '			if(@include(DISCUZ_ROOT.''./data/plugindata/''.$file.''.lang.php'')) {', -1, '', '', '', 0, ''),
(1749, '/source/function/function_core.php', 5, 464, -3, -3, '				$_G[''cache''][''pluginlanguage_script''][$file] = $scriptlang[$file];', -1, '', '', '', 0, ''),
(1750, '/source/function/function_core.php', 5, 465, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1751, '/source/function/function_core.php', 5, 466, -3, -3, '				loadcache(''pluginlanguage_script'');', -1, '', '', '', 0, ''),
(1752, '/source/function/function_core.php', 5, 467, -3, -3, '			}', -1, '', '', '', 0, ''),
(1753, '/source/function/function_core.php', 5, 468, -3, -3, '		}', -1, '', '', '', 0, ''),
(1754, '/source/function/function_core.php', 5, 469, -3, -3, '		$returnvalue = & $_G[''cache''][''pluginlanguage_script''];', -1, '', '', '', 0, ''),
(1755, '/source/function/function_core.php', 5, 470, -3, -3, '		$key = &$file;', -1, '', '', '', 0, ''),
(1756, '/source/function/function_core.php', 5, 471, -3, -3, '	}', -1, '', '', '', 0, ''),
(1757, '/source/function/function_core.php', 5, 472, -3, -3, '	$return = $langvar !== null ? (isset($returnvalue[$key][$langvar]) ? $returnvalue[$key][$langvar] : null) : $returnvalue[$key];', -1, '', '', '', 0, ''),
(1758, '/source/function/function_core.php', 5, 473, -3, -3, '	$return = $return === null ? ($default !== null ? $default : $langvar) : $return;', -1, '', '', '', 0, ''),
(1759, '/source/function/function_core.php', 5, 474, -3, -3, '	$searchs = $replaces = array();', -1, '', '', '', 0, ''),
(1760, '/source/function/function_core.php', 5, 475, -3, -3, '	if($vars && is_array($vars)) {', -1, '', '', '', 0, ''),
(1761, '/source/function/function_core.php', 5, 476, -3, -3, '		foreach($vars as $k => $v) {', -1, '', '', '', 0, ''),
(1762, '/source/function/function_core.php', 5, 477, -3, -3, '			$searchs[] = ''{''.$k.''}'';', -1, '', '', '', 0, ''),
(1763, '/source/function/function_core.php', 5, 478, -3, -3, '			$replaces[] = $v;', -1, '', '', '', 0, ''),
(1764, '/source/function/function_core.php', 5, 479, -3, -3, '		}', -1, '', '', '', 0, ''),
(1765, '/source/function/function_core.php', 5, 480, -3, -3, '	}', -1, '', '', '', 0, ''),
(1766, '/source/function/function_core.php', 5, 481, -3, -3, '	if(is_string($return) && strpos($return, ''{_G/'') !== false) {', -1, '', '', '', 0, ''),
(1767, '/source/function/function_core.php', 5, 482, -3, -3, '		preg_match_all(''/\\{_G\\/(.+?)\\}/'', $return, $gvar);', -1, '', '', '', 0, ''),
(1768, '/source/function/function_core.php', 5, 483, -3, -3, '		foreach($gvar[0] as $k => $v) {', -1, '', '', '', 0, ''),
(1769, '/source/function/function_core.php', 5, 484, -3, -3, '			$searchs[] = $v;', -1, '', '', '', 0, ''),
(1770, '/source/function/function_core.php', 5, 485, -3, -3, '			$replaces[] = getglobal($gvar[1][$k]);', -1, '', '', '', 0, ''),
(1771, '/source/function/function_core.php', 5, 486, -3, -3, '		}', -1, '', '', '', 0, ''),
(1772, '/source/function/function_core.php', 5, 487, -3, -3, '	}', -1, '', '', '', 0, ''),
(1773, '/source/function/function_core.php', 5, 488, -3, -3, '	$return = str_replace($searchs, $replaces, $return);', -1, '', '', '', 0, ''),
(1774, '/source/function/function_core.php', 5, 489, -3, -3, '	return $return;', -1, '', '', '', 0, ''),
(1775, '/source/function/function_core.php', 5, 490, -3, -3, '}', -1, '', '', '', 0, ''),
(1776, '/source/function/function_core.php', 5, 491, -3, -3, '', -1, '', '', '', 0, ''),
(1777, '/source/function/function_core.php', 5, 492, -3, -3, 'function checktplrefresh($maintpl, $subtpl, $timecompare, $templateid, $cachefile, $tpldir, $file) {', -1, '', '', '', 0, ''),
(1778, '/source/function/function_core.php', 5, 493, -3, -3, '	static $tplrefresh, $timestamp, $targettplname;', -1, '', '', '', 0, ''),
(1779, '/source/function/function_core.php', 5, 494, -3, -3, '	if($tplrefresh === null) {', -1, '', '', '', 0, ''),
(1780, '/source/function/function_core.php', 5, 495, -3, -3, '		$tplrefresh = getglobal(''config/output/tplrefresh'');', -1, '', '', '', 0, ''),
(1781, '/source/function/function_core.php', 5, 496, -3, -3, '		$timestamp = getglobal(''timestamp'');', -1, '', '', '', 0, ''),
(1782, '/source/function/function_core.php', 5, 497, -3, -3, '	}', -1, '', '', '', 0, ''),
(1783, '/source/function/function_core.php', 5, 498, -3, -3, '', -1, '', '', '', 0, ''),
(1784, '/source/function/function_core.php', 5, 499, -3, -3, '	if(empty($timecompare) || $tplrefresh == 1 || ($tplrefresh > 1 && !($timestamp % $tplrefresh))) {', -1, '', '', '', 0, ''),
(1785, '/source/function/function_core.php', 5, 500, -3, -3, '		if(empty($timecompare) || @filemtime(DISCUZ_ROOT.$subtpl) > $timecompare) {', -1, '', '', '', 0, ''),
(1786, '/source/function/function_core.php', 5, 501, -3, -3, '			require_once DISCUZ_ROOT.''/source/class/class_template.php'';', -1, '', '', '', 0, ''),
(1787, '/source/function/function_core.php', 5, 502, -3, -3, '			$template = new template();', -1, '', '', '', 0, ''),
(1788, '/source/function/function_core.php', 5, 503, -3, -3, '			$template->parse_template($maintpl, $templateid, $tpldir, $file, $cachefile);', -1, '', '', '', 0, ''),
(1789, '/source/function/function_core.php', 5, 504, -3, -3, '			if($targettplname === null) {', -1, '', '', '', 0, ''),
(1790, '/source/function/function_core.php', 5, 505, -3, -3, '				$targettplname = getglobal(''style/tplfile'');', -1, '', '', '', 0, ''),
(1791, '/source/function/function_core.php', 5, 506, -3, -3, '				if(!empty($targettplname)) {', -1, '', '', '', 0, ''),
(1792, '/source/function/function_core.php', 5, 507, -3, -3, '					include_once libfile(''function/block'');', -1, '', '', '', 0, ''),
(1793, '/source/function/function_core.php', 5, 508, -3, -3, '					$targettplname = strtr($targettplname, '':'', ''_'');', -1, '', '', '', 0, ''),
(1794, '/source/function/function_core.php', 5, 509, -3, -3, '					update_template_block($targettplname, getglobal(''style/tpldirectory''), $template->blocks);', -1, '', '', '', 0, ''),
(1795, '/source/function/function_core.php', 5, 510, -3, -3, '				}', -1, '', '', '', 0, ''),
(1796, '/source/function/function_core.php', 5, 511, -3, -3, '				$targettplname = true;', -1, '', '', '', 0, ''),
(1797, '/source/function/function_core.php', 5, 512, -3, -3, '			}', -1, '', '', '', 0, ''),
(1798, '/source/function/function_core.php', 5, 513, -3, -3, '			return TRUE;', -1, '', '', '', 0, ''),
(1799, '/source/function/function_core.php', 5, 514, -3, -3, '		}', -1, '', '', '', 0, ''),
(1800, '/source/function/function_core.php', 5, 515, -3, -3, '	}', -1, '', '', '', 0, ''),
(1801, '/source/function/function_core.php', 5, 516, -3, -3, '	return FALSE;', -1, '', '', '', 0, ''),
(1802, '/source/function/function_core.php', 5, 517, -3, -3, '}', -1, '', '', '', 0, ''),
(1803, '/source/function/function_core.php', 5, 518, -3, -3, '', -1, '', '', '', 0, ''),
(1804, '/source/function/function_core.php', 5, 519, -3, -3, 'function template($file, $templateid = 0, $tpldir = '''', $gettplfile = 0, $primaltpl='''') {', -1, '', '', '', 0, ''),
(1805, '/source/function/function_core.php', 5, 520, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1806, '/source/function/function_core.php', 5, 521, -3, -3, '', -1, '', '', '', 0, ''),
(1807, '/source/function/function_core.php', 5, 522, -3, -3, '	static $_init_style = false;', -1, '', '', '', 0, ''),
(1808, '/source/function/function_core.php', 5, 523, -3, -3, '	if($_init_style === false) {', -1, '', '', '', 0, ''),
(1809, '/source/function/function_core.php', 5, 524, -3, -3, '		C::app()->_init_style();', -1, '', '', '', 0, ''),
(1810, '/source/function/function_core.php', 5, 525, -3, -3, '		$_init_style = true;', -1, '', '', '', 0, ''),
(1811, '/source/function/function_core.php', 5, 526, -3, -3, '	}', -1, '', '', '', 0, ''),
(1812, '/source/function/function_core.php', 5, 527, -3, -3, '	$oldfile = $file;', -1, '', '', '', 0, ''),
(1813, '/source/function/function_core.php', 5, 528, -3, -3, '	if(strpos($file, '':'') !== false) {', -1, '', '', '', 0, ''),
(1814, '/source/function/function_core.php', 5, 529, -3, -3, '		$clonefile = '''';', -1, '', '', '', 0, ''),
(1815, '/source/function/function_core.php', 5, 530, -3, -3, '		list($templateid, $file, $clonefile) = explode('':'', $file);', -1, '', '', '', 0, ''),
(1816, '/source/function/function_core.php', 5, 531, -3, -3, '		$oldfile = $file;', -1, '', '', '', 0, ''),
(1817, '/source/function/function_core.php', 5, 532, -3, -3, '		$file = empty($clonefile) ? $file : $file.''_''.$clonefile;', -1, '', '', '', 0, ''),
(1818, '/source/function/function_core.php', 5, 533, -3, -3, '		if($templateid == ''diy'') {', -1, '', '', '', 0, ''),
(1819, '/source/function/function_core.php', 5, 534, -3, -3, '			$indiy = false;', -1, '', '', '', 0, ''),
(1820, '/source/function/function_core.php', 5, 535, -3, -3, '			$_G[''style''][''tpldirectory''] = $tpldir ? $tpldir : (defined(''TPLDIR'') ? TPLDIR : '''');', -1, '', '', '', 0, ''),
(1821, '/source/function/function_core.php', 5, 536, -3, -3, '			$_G[''style''][''prefile''] = '''';', -1, '', '', '', 0, ''),
(1822, '/source/function/function_core.php', 5, 537, -3, -3, '			$diypath = DISCUZ_ROOT.''./data/diy/''.$_G[''style''][''tpldirectory''].''/''; //DIY模板文件目录', -1, '', '', '', 0, ''),
(1823, '/source/function/function_core.php', 5, 538, -3, -3, '			$preend = ''_diy_preview'';', -1, '', '', '', 0, ''),
(1824, '/source/function/function_core.php', 5, 539, -3, -3, '			$_GET[''preview''] = !empty($_GET[''preview'']) ? $_GET[''preview''] : '''';', -1, '', '', '', 0, ''),
(1825, '/source/function/function_core.php', 5, 540, -3, -3, '			$curtplname = $oldfile;', -1, '', '', '', 0, ''),
(1826, '/source/function/function_core.php', 5, 541, -3, -3, '			$basescript = $_G[''mod''] == ''viewthread'' && !empty($_G[''thread'']) ? ''forum'' : $_G[''basescript''];', -1, '', '', '', 0, ''),
(1827, '/source/function/function_core.php', 5, 542, -3, -3, '			if(isset($_G[''cache''][''diytemplatename''.$basescript])) {', -1, '', '', '', 0, ''),
(1828, '/source/function/function_core.php', 5, 543, -3, -3, '				$diytemplatename = &$_G[''cache''][''diytemplatename''.$basescript];', -1, '', '', '', 0, ''),
(1829, '/source/function/function_core.php', 5, 544, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1830, '/source/function/function_core.php', 5, 545, -3, -3, '				if(!isset($_G[''cache''][''diytemplatename''])) {', -1, '', '', '', 0, ''),
(1831, '/source/function/function_core.php', 5, 546, -3, -3, '					loadcache(''diytemplatename'');', -1, '', '', '', 0, ''),
(1832, '/source/function/function_core.php', 5, 547, -3, -3, '				}', -1, '', '', '', 0, ''),
(1833, '/source/function/function_core.php', 5, 548, -3, -3, '				$diytemplatename = &$_G[''cache''][''diytemplatename''];', -1, '', '', '', 0, ''),
(1834, '/source/function/function_core.php', 5, 549, -3, -3, '			}', -1, '', '', '', 0, ''),
(1835, '/source/function/function_core.php', 5, 550, -3, -3, '			$tplsavemod = 0;', -1, '', '', '', 0, ''),
(1836, '/source/function/function_core.php', 5, 551, -3, -3, '			if(isset($diytemplatename[$file]) && file_exists($diypath.$file.''.htm'') && ($tplsavemod = 1) || empty($_G[''forum''][''styleid'']) && ($file = $primaltpl ? $primaltpl : $oldfile) && isset($diytemplatename[$file]) && file_exists($diypath.$file.''.htm'')) {', -1, '', '', '', 0, ''),
(1837, '/source/function/function_core.php', 5, 552, -3, -3, '				$tpldir = ''data/diy/''.$_G[''style''][''tpldirectory''].''/'';', -1, '', '', '', 0, ''),
(1838, '/source/function/function_core.php', 5, 553, -3, -3, '				!$gettplfile && $_G[''style''][''tplsavemod''] = $tplsavemod;', -1, '', '', '', 0, ''),
(1839, '/source/function/function_core.php', 5, 554, -3, -3, '				$curtplname = $file;', -1, '', '', '', 0, ''),
(1840, '/source/function/function_core.php', 5, 555, -3, -3, '				if(isset($_GET[''diy'']) && $_GET[''diy''] == ''yes'' || isset($_GET[''diy'']) && $_GET[''preview''] == ''yes'') { //DIY模式或预览模式下做以下判断', -1, '', '', '', 0, ''),
(1841, '/source/function/function_core.php', 5, 556, -3, -3, '					$flag = file_exists($diypath.$file.$preend.''.htm'');', -1, '', '', '', 0, ''),
(1842, '/source/function/function_core.php', 5, 557, -3, -3, '					if($_GET[''preview''] == ''yes'') {', -1, '', '', '', 0, ''),
(1843, '/source/function/function_core.php', 5, 558, -3, -3, '						$file .= $flag ? $preend : '''';', -1, '', '', '', 0, ''),
(1844, '/source/function/function_core.php', 5, 559, -3, -3, '					} else {', -1, '', '', '', 0, ''),
(1845, '/source/function/function_core.php', 5, 560, -3, -3, '						$_G[''style''][''prefile''] = $flag ? 1 : '''';', -1, '', '', '', 0, ''),
(1846, '/source/function/function_core.php', 5, 561, -3, -3, '					}', -1, '', '', '', 0, ''),
(1847, '/source/function/function_core.php', 5, 562, -3, -3, '				}', -1, '', '', '', 0, ''),
(1848, '/source/function/function_core.php', 5, 563, -3, -3, '				$indiy = true;', -1, '', '', '', 0, ''),
(1849, '/source/function/function_core.php', 5, 564, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1850, '/source/function/function_core.php', 5, 565, -3, -3, '				$file = $primaltpl ? $primaltpl : $oldfile;', -1, '', '', '', 0, ''),
(1851, '/source/function/function_core.php', 5, 566, -3, -3, '			}', -1, '', '', '', 0, ''),
(1852, '/source/function/function_core.php', 5, 567, -3, -3, '			$tplrefresh = $_G[''config''][''output''][''tplrefresh''];', -1, '', '', '', 0, ''),
(1853, '/source/function/function_core.php', 5, 568, -3, -3, '			if($indiy && ($tplrefresh ==1 || ($tplrefresh > 1 && !($_G[''timestamp''] % $tplrefresh))) && filemtime($diypath.$file.''.htm'') < filemtime(DISCUZ_ROOT.$_G[''style''][''tpldirectory''].''/''.($primaltpl ? $primaltpl : $oldfile).''.htm'')) {', -1, '', '', '', 0, ''),
(1854, '/source/function/function_core.php', 5, 569, -3, -3, '				if (!updatediytemplate($file, $_G[''style''][''tpldirectory''])) {', -1, '', '', '', 0, ''),
(1855, '/source/function/function_core.php', 5, 570, -3, -3, '					unlink($diypath.$file.''.htm'');', -1, '', '', '', 0, ''),
(1856, '/source/function/function_core.php', 5, 571, -3, -3, '					$tpldir = '''';', -1, '', '', '', 0, ''),
(1857, '/source/function/function_core.php', 5, 572, -3, -3, '				}', -1, '', '', '', 0, ''),
(1858, '/source/function/function_core.php', 5, 573, -3, -3, '			}', -1, '', '', '', 0, ''),
(1859, '/source/function/function_core.php', 5, 574, -3, -3, '', -1, '', '', '', 0, ''),
(1860, '/source/function/function_core.php', 5, 575, -3, -3, '			if (!$gettplfile && empty($_G[''style''][''tplfile''])) {', -1, '', '', '', 0, ''),
(1861, '/source/function/function_core.php', 5, 576, -3, -3, '				$_G[''style''][''tplfile''] = empty($clonefile) ? $curtplname : $oldfile.'':''.$clonefile;', -1, '', '', '', 0, ''),
(1862, '/source/function/function_core.php', 5, 577, -3, -3, '			}', -1, '', '', '', 0, ''),
(1863, '/source/function/function_core.php', 5, 578, -3, -3, '', -1, '', '', '', 0, ''),
(1864, '/source/function/function_core.php', 5, 579, -3, -3, '			$_G[''style''][''prefile''] = !empty($_GET[''preview'']) && $_GET[''preview''] == ''yes'' ? '''' : $_G[''style''][''prefile''];', -1, '', '', '', 0, ''),
(1865, '/source/function/function_core.php', 5, 580, -3, -3, '', -1, '', '', '', 0, ''),
(1866, '/source/function/function_core.php', 5, 581, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1867, '/source/function/function_core.php', 5, 582, -3, -3, '			$tpldir = ''./source/plugin/''.$templateid.''/template'';', -1, '', '', '', 0, ''),
(1868, '/source/function/function_core.php', 5, 583, -3, -3, '		}', -1, '', '', '', 0, ''),
(1869, '/source/function/function_core.php', 5, 584, -3, -3, '	}', -1, '', '', '', 0, ''),
(1870, '/source/function/function_core.php', 5, 585, -3, -3, '', -1, '', '', '', 0, ''),
(1871, '/source/function/function_core.php', 5, 586, -3, -3, '	$file .= !empty($_G[''inajax'']) && ($file == ''common/header'' || $file == ''common/footer'') ? ''_ajax'' : '''';', -1, '', '', '', 0, ''),
(1872, '/source/function/function_core.php', 5, 587, -3, -3, '	$tpldir = $tpldir ? $tpldir : (defined(''TPLDIR'') ? TPLDIR : '''');', -1, '', '', '', 0, ''),
(1873, '/source/function/function_core.php', 5, 588, -3, -3, '	$templateid = $templateid ? $templateid : (defined(''TEMPLATEID'') ? TEMPLATEID : '''');', -1, '', '', '', 0, ''),
(1874, '/source/function/function_core.php', 5, 589, -3, -3, '	$filebak = $file;', -1, '', '', '', 0, ''),
(1875, '/source/function/function_core.php', 5, 590, -3, -3, '', -1, '', '', '', 0, ''),
(1876, '/source/function/function_core.php', 5, 591, -3, -3, '	if(defined(''IN_MOBILE'') && !defined(''TPL_DEFAULT'') && strpos($file, $_G[''mobiletpl''][IN_MOBILE].''/'') === false || (isset($_G[''forcemobilemessage'']) && $_G[''forcemobilemessage''])) {', -1, '', '', '', 0, ''),
(1877, '/source/function/function_core.php', 5, 592, -3, -3, '		if(IN_MOBILE == 2) {', -1, '', '', '', 0, ''),
(1878, '/source/function/function_core.php', 5, 593, -3, -3, '			$oldfile .= !empty($_G[''inajax'']) && ($oldfile == ''common/header'' || $oldfile == ''common/footer'') ? ''_ajax'' : '''';', -1, '', '', '', 0, ''),
(1879, '/source/function/function_core.php', 5, 594, -3, -3, '		}', -1, '', '', '', 0, ''),
(1880, '/source/function/function_core.php', 5, 595, -3, -3, '		$file = $_G[''mobiletpl''][IN_MOBILE].''/''.$oldfile;', -1, '', '', '', 0, ''),
(1881, '/source/function/function_core.php', 5, 596, -3, -3, '	}', -1, '', '', '', 0, ''),
(1882, '/source/function/function_core.php', 5, 597, -3, -3, '', -1, '', '', '', 0, ''),
(1883, '/source/function/function_core.php', 5, 598, -3, -3, '	if(!$tpldir) {', -1, '', '', '', 0, ''),
(1884, '/source/function/function_core.php', 5, 599, -3, -3, '		$tpldir = ''./template/default'';', -1, '', '', '', 0, ''),
(1885, '/source/function/function_core.php', 5, 600, -3, -3, '	}', -1, '', '', '', 0, ''),
(1886, '/source/function/function_core.php', 5, 601, -3, -3, '	$tplfile = $tpldir.''/''.$file.''.htm'';', -1, '', '', '', 0, ''),
(1887, '/source/function/function_core.php', 5, 602, -3, -3, '', -1, '', '', '', 0, ''),
(1888, '/source/function/function_core.php', 5, 603, -3, -3, '	$file == ''common/header'' && defined(''CURMODULE'') && CURMODULE && $file = ''common/header_''.$_G[''basescript''].''_''.CURMODULE;', -1, '', '', '', 0, ''),
(1889, '/source/function/function_core.php', 5, 604, -3, -3, '', -1, '', '', '', 0, ''),
(1890, '/source/function/function_core.php', 5, 605, -3, -3, '	if(defined(''IN_MOBILE'') && !defined(''TPL_DEFAULT'')) {', -1, '', '', '', 0, ''),
(1891, '/source/function/function_core.php', 5, 606, -3, -3, '		if(strpos($tpldir, ''plugin'')) {', -1, '', '', '', 0, ''),
(1892, '/source/function/function_core.php', 5, 607, -3, -3, '			if(!file_exists(DISCUZ_ROOT.$tpldir.''/''.$file.''.htm'') && !file_exists(DISCUZ_ROOT.$tpldir.''/''.$file.''.php'')) {', -1, '', '', '', 0, ''),
(1893, '/source/function/function_core.php', 5, 608, -3, -3, '				$url = $_SERVER[''REQUEST_URI''].(strexists($_SERVER[''REQUEST_URI''], ''?'') ? ''&'' : ''?'').''mobile=no'';', -1, '', '', '', 0, ''),
(1894, '/source/function/function_core.php', 5, 609, -3, -3, '				showmessage(''mobile_template_no_found'', '''', array(''url'' => $url));', -1, '', '', '', 0, ''),
(1895, '/source/function/function_core.php', 5, 610, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1896, '/source/function/function_core.php', 5, 611, -3, -3, '				$mobiletplfile = $tpldir.''/''.$file.''.htm'';', -1, '', '', '', 0, ''),
(1897, '/source/function/function_core.php', 5, 612, -3, -3, '			}', -1, '', '', '', 0, ''),
(1898, '/source/function/function_core.php', 5, 613, -3, -3, '		}', -1, '', '', '', 0, ''),
(1899, '/source/function/function_core.php', 5, 614, -3, -3, '		!$mobiletplfile && $mobiletplfile = $file.''.htm'';', -1, '', '', '', 0, ''),
(1900, '/source/function/function_core.php', 5, 615, -3, -3, '		if(strpos($tpldir, ''plugin'') && (file_exists(DISCUZ_ROOT.$mobiletplfile) || file_exists(substr(DISCUZ_ROOT.$mobiletplfile, 0, -4).''.php''))) {', -1, '', '', '', 0, ''),
(1901, '/source/function/function_core.php', 5, 616, -3, -3, '			$tplfile = $mobiletplfile;', -1, '', '', '', 0, ''),
(1902, '/source/function/function_core.php', 5, 617, -3, -3, '		} elseif(!file_exists(DISCUZ_ROOT.TPLDIR.''/''.$mobiletplfile) && !file_exists(substr(DISCUZ_ROOT.TPLDIR.''/''.$mobiletplfile, 0, -4).''.php'')) {', -1, '', '', '', 0, ''),
(1903, '/source/function/function_core.php', 5, 618, -3, -3, '			$mobiletplfile = ''./template/default/''.$mobiletplfile;', -1, '', '', '', 0, ''),
(1904, '/source/function/function_core.php', 5, 619, -3, -3, '			if(!file_exists(DISCUZ_ROOT.$mobiletplfile) && !$_G[''forcemobilemessage'']) {', -1, '', '', '', 0, ''),
(1905, '/source/function/function_core.php', 5, 620, -3, -3, '				$tplfile = str_replace($_G[''mobiletpl''][IN_MOBILE].''/'', '''', $tplfile);', -1, '', '', '', 0, ''),
(1906, '/source/function/function_core.php', 5, 621, -3, -3, '				$file = str_replace($_G[''mobiletpl''][IN_MOBILE].''/'', '''', $file);', -1, '', '', '', 0, ''),
(1907, '/source/function/function_core.php', 5, 622, -3, -3, '				define(''TPL_DEFAULT'', true);', -1, '', '', '', 0, ''),
(1908, '/source/function/function_core.php', 5, 623, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1909, '/source/function/function_core.php', 5, 624, -3, -3, '				$tplfile = $mobiletplfile;', -1, '', '', '', 0, ''),
(1910, '/source/function/function_core.php', 5, 625, -3, -3, '			}', -1, '', '', '', 0, ''),
(1911, '/source/function/function_core.php', 5, 626, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(1912, '/source/function/function_core.php', 5, 627, -3, -3, '			$tplfile = TPLDIR.''/''.$mobiletplfile;', -1, '', '', '', 0, ''),
(1913, '/source/function/function_core.php', 5, 628, -3, -3, '		}', -1, '', '', '', 0, ''),
(1914, '/source/function/function_core.php', 5, 629, -3, -3, '	}', -1, '', '', '', 0, ''),
(1915, '/source/function/function_core.php', 5, 630, -3, -3, '', -1, '', '', '', 0, ''),
(1916, '/source/function/function_core.php', 5, 631, -3, -3, '	$cachefile = ''./data/template/''.(defined(''STYLEID'') ? STYLEID.''_'' : ''_'').$templateid.''_''.str_replace(''/'', ''_'', $file).''.tpl.php'';', -1, '', '', '', 0, ''),
(1917, '/source/function/function_core.php', 5, 632, -3, -3, '	if($templateid != 1 && !file_exists(DISCUZ_ROOT.$tplfile) && !file_exists(substr(DISCUZ_ROOT.$tplfile, 0, -4).''.php'')', -1, '', '', '', 0, ''),
(1918, '/source/function/function_core.php', 5, 633, -3, -3, '			&& !file_exists(DISCUZ_ROOT.($tplfile = $tpldir.$filebak.''.htm''))) {', -1, '', '', '', 0, ''),
(1919, '/source/function/function_core.php', 5, 634, -3, -3, '		$tplfile = ''./template/default/''.$filebak.''.htm'';', -1, '', '', '', 0, ''),
(1920, '/source/function/function_core.php', 5, 635, -3, -3, '	}', -1, '', '', '', 0, ''),
(1921, '/source/function/function_core.php', 5, 636, -3, -3, '', -1, '', '', '', 0, ''),
(1922, '/source/function/function_core.php', 5, 637, -3, -3, '	if($gettplfile) {', -1, '', '', '', 0, ''),
(1923, '/source/function/function_core.php', 5, 638, -3, -3, '		return $tplfile;', -1, '', '', '', 0, ''),
(1924, '/source/function/function_core.php', 5, 639, -3, -3, '	}', -1, '', '', '', 0, ''),
(1925, '/source/function/function_core.php', 5, 640, -3, -3, '	checktplrefresh($tplfile, $tplfile, @filemtime(DISCUZ_ROOT.$cachefile), $templateid, $cachefile, $tpldir, $file);', -1, '', '', '', 0, ''),
(1926, '/source/function/function_core.php', 5, 641, -3, -3, '	return DISCUZ_ROOT.$cachefile;', -1, '', '', '', 0, ''),
(1927, '/source/function/function_core.php', 5, 642, -3, -3, '}', -1, '', '', '', 0, ''),
(1928, '/source/function/function_core.php', 5, 643, -3, -3, '', -1, '', '', '', 0, ''),
(1929, '/source/function/function_core.php', 5, 644, -3, -3, 'function dsign($str, $length = 16){', -1, '', '', '', 0, ''),
(1930, '/source/function/function_core.php', 5, 645, -3, -3, '	return substr(md5($str.getglobal(''config/security/authkey'')), 0, ($length ? max(8, $length) : 16));', -1, '', '', '', 0, ''),
(1931, '/source/function/function_core.php', 5, 646, -3, -3, '}', -1, '', '', '', 0, ''),
(1932, '/source/function/function_core.php', 5, 647, -3, -3, '', -1, '', '', '', 0, ''),
(1933, '/source/function/function_core.php', 5, 648, -3, -3, 'function modauthkey($id) {', -1, '', '', '', 0, ''),
(1934, '/source/function/function_core.php', 5, 649, -3, -3, '	return md5(getglobal(''username'').getglobal(''uid'').getglobal(''authkey'').substr(TIMESTAMP, 0, -7).$id);', -1, '', '', '', 0, ''),
(1935, '/source/function/function_core.php', 5, 650, -3, -3, '}', -1, '', '', '', 0, ''),
(1936, '/source/function/function_core.php', 5, 651, -3, -3, '', -1, '', '', '', 0, ''),
(1937, '/source/function/function_core.php', 5, 652, -3, -3, 'function getcurrentnav() {', -1, '', '', '', 0, ''),
(1938, '/source/function/function_core.php', 5, 653, -3, -3, '	global $_G;', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(1939, '/source/function/function_core.php', 5, 654, -3, -3, '	if(!empty($_G[''mnid''])) {', -1, '', '', '', 0, ''),
(1940, '/source/function/function_core.php', 5, 655, -3, -3, '		return $_G[''mnid''];', -1, '', '', '', 0, ''),
(1941, '/source/function/function_core.php', 5, 656, -3, -3, '	}', -1, '', '', '', 0, ''),
(1942, '/source/function/function_core.php', 5, 657, -3, -3, '	$mnid = '''';', -1, '', '', '', 0, ''),
(1943, '/source/function/function_core.php', 5, 658, -3, -3, '	$_G[''basefilename''] = $_G[''basefilename''] == $_G[''basescript''] ? $_G[''basefilename''] : $_G[''basescript''].''.php'';', -1, '', '', '', 0, ''),
(1944, '/source/function/function_core.php', 5, 659, -3, -3, '	if(isset($_G[''setting''][''navmns''][$_G[''basefilename'']])) {', -1, '', '', '', 0, ''),
(1945, '/source/function/function_core.php', 5, 660, -3, -3, '		if($_G[''basefilename''] == ''home.php'' && $_GET[''mod''] == ''space'' && (empty($_GET[''do'']) || in_array($_GET[''do''], array(''follow'', ''view'')))) {', -1, '', '', '', 0, ''),
(1946, '/source/function/function_core.php', 5, 661, -3, -3, '			$_GET[''mod''] = ''follow'';', -1, '', '', '', 0, ''),
(1947, '/source/function/function_core.php', 5, 662, -3, -3, '		}', -1, '', '', '', 0, ''),
(1948, '/source/function/function_core.php', 5, 663, -3, -3, '		foreach($_G[''setting''][''navmns''][$_G[''basefilename'']] as $navmn) {', -1, '', '', '', 0, ''),
(1949, '/source/function/function_core.php', 5, 664, -3, -3, '			if($navmn[0] == array_intersect_assoc($navmn[0], $_GET) || ($navmn[0][''mod''] == ''space'' && $_GET[''mod''] == ''spacecp'' && ($navmn[0][''do''] == $_GET[''ac''] || $navmn[0][''do''] == ''album'' && $_GET[''ac''] == ''upload''))) {', -1, '', '', '', 0, ''),
(1950, '/source/function/function_core.php', 5, 665, -3, -3, '				$mnid = $navmn[1];', -1, '', '', '', 0, ''),
(1951, '/source/function/function_core.php', 5, 666, -3, -3, '			}', -1, '', '', '', 0, ''),
(1952, '/source/function/function_core.php', 5, 667, -3, -3, '		}', -1, '', '', '', 0, ''),
(1953, '/source/function/function_core.php', 5, 668, -3, -3, '', -1, '', '', '', 0, ''),
(1954, '/source/function/function_core.php', 5, 669, -3, -3, '	}', -1, '', '', '', 0, ''),
(1955, '/source/function/function_core.php', 5, 670, -3, -3, '	if(!$mnid && isset($_G[''setting''][''navdms''])) {', -1, '', '', '', 0, ''),
(1956, '/source/function/function_core.php', 5, 671, -3, -3, '		foreach($_G[''setting''][''navdms''] as $navdm => $navid) {', -1, '', '', '', 0, ''),
(1957, '/source/function/function_core.php', 5, 672, -3, -3, '			if(strpos(strtolower($_SERVER[''HTTP_HOST''].$_SERVER[''REQUEST_URI'']), $navdm) !== false && strpos(strtolower($_SERVER[''HTTP_HOST'']), $navdm) === false) {', -1, '', '', '', 0, ''),
(1958, '/source/function/function_core.php', 5, 673, -3, -3, '				$mnid = $navid;', -1, '', '', '', 0, ''),
(1959, '/source/function/function_core.php', 5, 674, -3, -3, '				break;', -1, '', '', '', 0, ''),
(1960, '/source/function/function_core.php', 5, 675, -3, -3, '			}', -1, '', '', '', 0, ''),
(1961, '/source/function/function_core.php', 5, 676, -3, -3, '		}', -1, '', '', '', 0, ''),
(1962, '/source/function/function_core.php', 5, 677, -3, -3, '	}', -1, '', '', '', 0, ''),
(1963, '/source/function/function_core.php', 5, 678, -3, -3, '	if(!$mnid && isset($_G[''setting''][''navmn''][$_G[''basefilename'']])) {', -1, '', '', '', 0, ''),
(1964, '/source/function/function_core.php', 5, 679, -3, -3, '		$mnid = $_G[''setting''][''navmn''][$_G[''basefilename'']];', -1, '', '', '', 0, ''),
(1965, '/source/function/function_core.php', 5, 680, -3, -3, '	}', -1, '', '', '', 0, ''),
(1966, '/source/function/function_core.php', 5, 681, -3, -3, '	return $mnid;', -1, '', '', '', 0, ''),
(1967, '/source/function/function_core.php', 5, 682, -3, -3, '}', -1, '', '', '', 0, ''),
(1968, '/source/function/function_core.php', 5, 683, -3, -3, '', -1, '', '', '', 0, ''),
(1969, '/source/function/function_core.php', 5, 684, -3, -3, 'function loaducenter() {', -1, '', '', '', 0, ''),
(1970, '/source/function/function_core.php', 5, 685, -3, -3, '	require_once DISCUZ_ROOT.''./config/config_ucenter.php'';', -1, '', '', '', 0, ''),
(1971, '/source/function/function_core.php', 5, 686, -3, -3, '	require_once DISCUZ_ROOT.''./uc_client/client.php'';', -1, '', '', '', 0, ''),
(1972, '/source/function/function_core.php', 5, 687, -3, -3, '}', -1, '', '', '', 0, ''),
(1973, '/source/function/function_core.php', 5, 688, -3, -3, '', -1, '', '', '', 0, ''),
(1974, '/source/function/function_core.php', 5, 689, -3, -3, 'function loadcache($cachenames, $force = false) {', -1, '', '', '', 0, ''),
(1975, '/source/function/function_core.php', 5, 690, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(1976, '/source/function/function_core.php', 5, 691, -3, -3, '	static $loadedcache = array();', -1, '', '', '', 0, ''),
(1977, '/source/function/function_core.php', 5, 692, -3, -3, '	$cachenames = is_array($cachenames) ? $cachenames : array($cachenames);', -1, '', '', '', 0, ''),
(1978, '/source/function/function_core.php', 5, 693, -3, -3, '	$caches = array();', -1, '', '', '', 0, ''),
(1979, '/source/function/function_core.php', 5, 694, -3, -3, '	foreach ($cachenames as $k) {', -1, '', '', '', 0, ''),
(1980, '/source/function/function_core.php', 5, 695, -3, -3, '		if(!isset($loadedcache[$k]) || $force) {', -1, '', '', '', 0, ''),
(1981, '/source/function/function_core.php', 5, 696, -3, -3, '			$caches[] = $k;', -1, '', '', '', 0, ''),
(1982, '/source/function/function_core.php', 5, 697, -3, -3, '			$loadedcache[$k] = true;', -1, '', '', '', 0, ''),
(1983, '/source/function/function_core.php', 5, 698, -3, -3, '		}', -1, '', '', '', 0, ''),
(1984, '/source/function/function_core.php', 5, 699, -3, -3, '	}', -1, '', '', '', 0, ''),
(1985, '/source/function/function_core.php', 5, 700, -3, -3, '', -1, '', '', '', 0, ''),
(1986, '/source/function/function_core.php', 5, 701, -3, -3, '	if(!empty($caches)) {', -1, '', '', '', 0, ''),
(1987, '/source/function/function_core.php', 5, 702, -3, -3, '		$cachedata = C::t(''common_syscache'')->fetch_all($caches);', -1, '', '', '', 0, ''),
(1988, '/source/function/function_core.php', 5, 703, -3, -3, '		foreach($cachedata as $cname => $data) {', -1, '', '', '', 0, ''),
(1989, '/source/function/function_core.php', 5, 704, -3, -3, '			if($cname == ''setting'') {', -1, '', '', '', 0, ''),
(1990, '/source/function/function_core.php', 5, 705, -3, -3, '				$_G[''setting''] = $data;', -1, '', '', '', 0, ''),
(1991, '/source/function/function_core.php', 5, 706, -3, -3, '			} elseif($cname == ''usergroup_''.$_G[''groupid'']) {', -1, '', '', '', 0, ''),
(1992, '/source/function/function_core.php', 5, 707, -3, -3, '				$_G[''cache''][$cname] = $_G[''group''] = $data;', -1, '', '', '', 0, ''),
(1993, '/source/function/function_core.php', 5, 708, -3, -3, '			} elseif($cname == ''style_default'') {', -1, '', '', '', 0, ''),
(1994, '/source/function/function_core.php', 5, 709, -3, -3, '				$_G[''cache''][$cname] = $_G[''style''] = $data;', -1, '', '', '', 0, ''),
(1995, '/source/function/function_core.php', 5, 710, -3, -3, '			} elseif($cname == ''grouplevels'') {', -1, '', '', '', 0, ''),
(1996, '/source/function/function_core.php', 5, 711, -3, -3, '				$_G[''grouplevels''] = $data;', -1, '', '', '', 0, ''),
(1997, '/source/function/function_core.php', 5, 712, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(1998, '/source/function/function_core.php', 5, 713, -3, -3, '				$_G[''cache''][$cname] = $data;', -1, '', '', '', 0, ''),
(1999, '/source/function/function_core.php', 5, 714, -3, -3, '			}', -1, '', '', '', 0, ''),
(2000, '/source/function/function_core.php', 5, 715, -3, -3, '		}', -1, '', '', '', 0, ''),
(2001, '/source/function/function_core.php', 5, 716, -3, -3, '	}', -1, '', '', '', 0, ''),
(2002, '/source/function/function_core.php', 5, 717, -3, -3, '	return true;', -1, '', '', '', 0, ''),
(2003, '/source/function/function_core.php', 5, 718, -3, -3, '}', -1, '', '', '', 0, ''),
(2004, '/source/function/function_core.php', 5, 719, -3, -3, '', -1, '', '', '', 0, ''),
(2005, '/source/function/function_core.php', 5, 720, -3, -3, 'function dgmdate($timestamp, $format = ''dt'', $timeoffset = ''9999'', $uformat = '''') {', -1, '', '', '', 0, ''),
(2006, '/source/function/function_core.php', 5, 721, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2007, '/source/function/function_core.php', 5, 722, -3, -3, '	$format == ''u'' && !$_G[''setting''][''dateconvert''] && $format = ''dt'';', -1, '', '', '', 0, ''),
(2008, '/source/function/function_core.php', 5, 723, -3, -3, '	static $dformat, $tformat, $dtformat, $offset, $lang;', -1, '', '', '', 0, ''),
(2009, '/source/function/function_core.php', 5, 724, -3, -3, '	if($dformat === null) {', -1, '', '', '', 0, ''),
(2010, '/source/function/function_core.php', 5, 725, -3, -3, '		$dformat = getglobal(''setting/dateformat'');', -1, '', '', '', 0, ''),
(2011, '/source/function/function_core.php', 5, 726, -3, -3, '		$tformat = getglobal(''setting/timeformat'');', -1, '', '', '', 0, ''),
(2012, '/source/function/function_core.php', 5, 727, -3, -3, '		$dtformat = $dformat.'' ''.$tformat;', -1, '', '', '', 0, ''),
(2013, '/source/function/function_core.php', 5, 728, -3, -3, '		$offset = getglobal(''member/timeoffset'');', -1, '', '', '', 0, ''),
(2014, '/source/function/function_core.php', 5, 729, -3, -3, '		$sysoffset = getglobal(''setting/timeoffset'');', -1, '', '', '', 0, ''),
(2015, '/source/function/function_core.php', 5, 730, -3, -3, '		$offset = $offset == 9999 ? ($sysoffset ? $sysoffset : 0) : $offset;', -1, '', '', '', 0, ''),
(2016, '/source/function/function_core.php', 5, 731, -3, -3, '		$lang = lang(''core'', ''date'');', -1, '', '', '', 0, ''),
(2017, '/source/function/function_core.php', 5, 732, -3, -3, '	}', -1, '', '', '', 0, ''),
(2018, '/source/function/function_core.php', 5, 733, -3, -3, '	$timeoffset = $timeoffset == 9999 ? $offset : $timeoffset;', -1, '', '', '', 0, ''),
(2019, '/source/function/function_core.php', 5, 734, -3, -3, '	$timestamp += $timeoffset * 3600;', -1, '', '', '', 0, ''),
(2020, '/source/function/function_core.php', 5, 735, -3, -3, '	$format = empty($format) || $format == ''dt'' ? $dtformat : ($format == ''d'' ? $dformat : ($format == ''t'' ? $tformat : $format));', -1, '', '', '', 0, ''),
(2021, '/source/function/function_core.php', 5, 736, -3, -3, '	if($format == ''u'') {', -1, '', '', '', 0, ''),
(2022, '/source/function/function_core.php', 5, 737, -3, -3, '		$todaytimestamp = TIMESTAMP - (TIMESTAMP + $timeoffset * 3600) % 86400 + $timeoffset * 3600;', -1, '', '', '', 0, ''),
(2023, '/source/function/function_core.php', 5, 738, -3, -3, '		$s = gmdate(!$uformat ? $dtformat : $uformat, $timestamp);', -1, '', '', '', 0, ''),
(2024, '/source/function/function_core.php', 5, 739, -3, -3, '		$time = TIMESTAMP + $timeoffset * 3600 - $timestamp;', -1, '', '', '', 0, ''),
(2025, '/source/function/function_core.php', 5, 740, -3, -3, '		if($timestamp >= $todaytimestamp) {', -1, '', '', '', 0, ''),
(2026, '/source/function/function_core.php', 5, 741, -3, -3, '			if($time > 3600) {', -1, '', '', '', 0, ''),
(2027, '/source/function/function_core.php', 5, 742, -3, -3, '				$return = intval($time / 3600).''&nbsp;''.$lang[''hour''].$lang[''before''];', -1, '', '', '', 0, ''),
(2028, '/source/function/function_core.php', 5, 743, -3, -3, '			} elseif($time > 1800) {', -1, '', '', '', 0, ''),
(2029, '/source/function/function_core.php', 5, 744, -3, -3, '				$return = $lang[''half''].$lang[''hour''].$lang[''before''];', -1, '', '', '', 0, ''),
(2030, '/source/function/function_core.php', 5, 745, -3, -3, '			} elseif($time > 60) {', -1, '', '', '', 0, ''),
(2031, '/source/function/function_core.php', 5, 746, -3, -3, '				$return = intval($time / 60).''&nbsp;''.$lang[''min''].$lang[''before''];', -1, '', '', '', 0, ''),
(2032, '/source/function/function_core.php', 5, 747, -3, -3, '			} elseif($time > 0) {', -1, '', '', '', 0, ''),
(2033, '/source/function/function_core.php', 5, 748, -3, -3, '				$return = $time.''&nbsp;''.$lang[''sec''].$lang[''before''];', -1, '', '', '', 0, ''),
(2034, '/source/function/function_core.php', 5, 749, -3, -3, '			} elseif($time == 0) {', -1, '', '', '', 0, ''),
(2035, '/source/function/function_core.php', 5, 750, -3, -3, '				$return = $lang[''now''];', -1, '', '', '', 0, ''),
(2036, '/source/function/function_core.php', 5, 751, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(2037, '/source/function/function_core.php', 5, 752, -3, -3, '				$return = $s;', -1, '', '', '', 0, ''),
(2038, '/source/function/function_core.php', 5, 753, -3, -3, '			}', -1, '', '', '', 0, ''),
(2039, '/source/function/function_core.php', 5, 754, -3, -3, '			if($time >=0 && !defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(2040, '/source/function/function_core.php', 5, 755, -3, -3, '				$return = ''<span title="''.$s.''">''.$return.''</span>'';', -1, '', '', '', 0, ''),
(2041, '/source/function/function_core.php', 5, 756, -3, -3, '			}', -1, '', '', '', 0, ''),
(2042, '/source/function/function_core.php', 5, 757, -3, -3, '		} elseif(($days = intval(($todaytimestamp - $timestamp) / 86400)) >= 0 && $days < 7) {', -1, '', '', '', 0, ''),
(2043, '/source/function/function_core.php', 5, 758, -3, -3, '			if($days == 0) {', -1, '', '', '', 0, ''),
(2044, '/source/function/function_core.php', 5, 759, -3, -3, '				$return = $lang[''yday''].''&nbsp;''.gmdate($tformat, $timestamp);', -1, '', '', '', 0, ''),
(2045, '/source/function/function_core.php', 5, 760, -3, -3, '			} elseif($days == 1) {', -1, '', '', '', 0, ''),
(2046, '/source/function/function_core.php', 5, 761, -3, -3, '				$return = $lang[''byday''].''&nbsp;''.gmdate($tformat, $timestamp);', -1, '', '', '', 0, ''),
(2047, '/source/function/function_core.php', 5, 762, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(2048, '/source/function/function_core.php', 5, 763, -3, -3, '				$return = ($days + 1).''&nbsp;''.$lang[''day''].$lang[''before''];', -1, '', '', '', 0, ''),
(2049, '/source/function/function_core.php', 5, 764, -3, -3, '			}', -1, '', '', '', 0, ''),
(2050, '/source/function/function_core.php', 5, 765, -3, -3, '			if(!defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(2051, '/source/function/function_core.php', 5, 766, -3, -3, '				$return = ''<span title="''.$s.''">''.$return.''</span>'';', -1, '', '', '', 0, ''),
(2052, '/source/function/function_core.php', 5, 767, -3, -3, '			}', -1, '', '', '', 0, ''),
(2053, '/source/function/function_core.php', 5, 768, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(2054, '/source/function/function_core.php', 5, 769, -3, -3, '			$return = $s;', -1, '', '', '', 0, ''),
(2055, '/source/function/function_core.php', 5, 770, -3, -3, '		}', -1, '', '', '', 0, ''),
(2056, '/source/function/function_core.php', 5, 771, -3, -3, '		return $return;', -1, '', '', '', 0, ''),
(2057, '/source/function/function_core.php', 5, 772, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2058, '/source/function/function_core.php', 5, 773, -3, -3, '		return gmdate($format, $timestamp);', -1, '', '', '', 0, ''),
(2059, '/source/function/function_core.php', 5, 774, -3, -3, '	}', -1, '', '', '', 0, ''),
(2060, '/source/function/function_core.php', 5, 775, -3, -3, '}', -1, '', '', '', 0, ''),
(2061, '/source/function/function_core.php', 5, 776, -3, -3, '', -1, '', '', '', 0, ''),
(2062, '/source/function/function_core.php', 5, 777, -3, -3, 'function dmktime($date) {', -1, '', '', '', 0, ''),
(2063, '/source/function/function_core.php', 5, 778, -3, -3, '	if(strpos($date, ''-'')) {', -1, '', '', '', 0, ''),
(2064, '/source/function/function_core.php', 5, 779, -3, -3, '		$time = explode(''-'', $date);', -1, '', '', '', 0, ''),
(2065, '/source/function/function_core.php', 5, 780, -3, -3, '		return mktime(0, 0, 0, $time[1], $time[2], $time[0]);', -1, '', '', '', 0, ''),
(2066, '/source/function/function_core.php', 5, 781, -3, -3, '	}', -1, '', '', '', 0, ''),
(2067, '/source/function/function_core.php', 5, 782, -3, -3, '	return 0;', -1, '', '', '', 0, ''),
(2068, '/source/function/function_core.php', 5, 783, -3, -3, '}', -1, '', '', '', 0, ''),
(2069, '/source/function/function_core.php', 5, 784, -3, -3, '', -1, '', '', '', 0, ''),
(2070, '/source/function/function_core.php', 5, 785, -3, -3, 'function dnumber($number) {', -1, '', '', '', 0, ''),
(2071, '/source/function/function_core.php', 5, 786, -3, -3, '	return abs($number) > 10000 ? ''<span title="''.$number.''">''.intval($number / 10000).lang(''core'', ''10k'').''</span>'' : $number;', -1, '', '', '', 0, ''),
(2072, '/source/function/function_core.php', 5, 787, -3, -3, '}', -1, '', '', '', 0, ''),
(2073, '/source/function/function_core.php', 5, 788, -3, -3, '', -1, '', '', '', 0, ''),
(2074, '/source/function/function_core.php', 5, 789, -3, -3, 'function savecache($cachename, $data) {', -1, '', '', '', 0, ''),
(2075, '/source/function/function_core.php', 5, 790, -3, -3, '	C::t(''common_syscache'')->insert($cachename, $data);', -1, '', '', '', 0, ''),
(2076, '/source/function/function_core.php', 5, 791, -3, -3, '}', -1, '', '', '', 0, ''),
(2077, '/source/function/function_core.php', 5, 792, -3, -3, '', -1, '', '', '', 0, ''),
(2078, '/source/function/function_core.php', 5, 793, -3, -3, 'function save_syscache($cachename, $data) {', -1, '', '', '', 0, ''),
(2079, '/source/function/function_core.php', 5, 794, -3, -3, '	savecache($cachename, $data);', -1, '', '', '', 0, ''),
(2080, '/source/function/function_core.php', 5, 795, -3, -3, '}', -1, '', '', '', 0, ''),
(2081, '/source/function/function_core.php', 5, 796, -3, -3, '', -1, '', '', '', 0, ''),
(2082, '/source/function/function_core.php', 5, 797, -3, -3, 'function block_get($parameter) {', -1, '', '', '', 0, ''),
(2083, '/source/function/function_core.php', 5, 798, -3, -3, '	include_once libfile(''function/block'');', -1, '', '', '', 0, ''),
(2084, '/source/function/function_core.php', 5, 799, -3, -3, '	block_get_batch($parameter);', -1, '', '', '', 0, ''),
(2085, '/source/function/function_core.php', 5, 800, -3, -3, '}', -1, '', '', '', 0, ''),
(2086, '/source/function/function_core.php', 5, 801, -3, -3, '', -1, '', '', '', 0, ''),
(2087, '/source/function/function_core.php', 5, 802, -3, -3, 'function block_display($bid) {', -1, '', '', '', 0, ''),
(2088, '/source/function/function_core.php', 5, 803, -3, -3, '	include_once libfile(''function/block'');', -1, '', '', '', 0, ''),
(2089, '/source/function/function_core.php', 5, 804, -3, -3, '	block_display_batch($bid);', -1, '', '', '', 0, ''),
(2090, '/source/function/function_core.php', 5, 805, -3, -3, '}', -1, '', '', '', 0, ''),
(2091, '/source/function/function_core.php', 5, 806, -3, -3, '', -1, '', '', '', 0, ''),
(2092, '/source/function/function_core.php', 5, 807, -3, -3, 'function dimplode($array) {', -1, '', '', '', 0, ''),
(2093, '/source/function/function_core.php', 5, 808, -3, -3, '	if(!empty($array)) {', -1, '', '', '', 0, ''),
(2094, '/source/function/function_core.php', 5, 809, -3, -3, '		$array = array_map(''addslashes'', $array);', -1, '', '', '', 0, ''),
(2095, '/source/function/function_core.php', 5, 810, -3, -3, '		return "''".implode("'',''", is_array($array) ? $array : array($array))."''";', -1, '', '', '', 0, ''),
(2096, '/source/function/function_core.php', 5, 811, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2097, '/source/function/function_core.php', 5, 812, -3, -3, '		return 0;', -1, '', '', '', 0, ''),
(2098, '/source/function/function_core.php', 5, 813, -3, -3, '	}', -1, '', '', '', 0, ''),
(2099, '/source/function/function_core.php', 5, 814, -3, -3, '}', -1, '', '', '', 0, ''),
(2100, '/source/function/function_core.php', 5, 815, -3, -3, '', -1, '', '', '', 0, ''),
(2101, '/source/function/function_core.php', 5, 816, -3, -3, 'function libfile($libname, $folder = '''') {', -1, '', '', '', 0, ''),
(2102, '/source/function/function_core.php', 5, 817, -3, -3, '	$libpath = ''/source/''.$folder;', -1, '', '', '', 0, ''),
(2103, '/source/function/function_core.php', 5, 818, -3, -3, '	if(strstr($libname, ''/'')) {', -1, '', '', '', 0, ''),
(2104, '/source/function/function_core.php', 5, 819, -3, -3, '		list($pre, $name) = explode(''/'', $libname);', -1, '', '', '', 0, ''),
(2105, '/source/function/function_core.php', 5, 820, -3, -3, '		$path = "{$libpath}/{$pre}/{$pre}_{$name}";', -1, '', '', '', 0, ''),
(2106, '/source/function/function_core.php', 5, 821, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2107, '/source/function/function_core.php', 5, 822, -3, -3, '		$path = "{$libpath}/{$libname}";', -1, '', '', '', 0, ''),
(2108, '/source/function/function_core.php', 5, 823, -3, -3, '	}', -1, '', '', '', 0, ''),
(2109, '/source/function/function_core.php', 5, 824, -3, -3, '	return preg_match(''/^[\\w\\d\\/_]+$/i'', $path) ? realpath(DISCUZ_ROOT.$path.''.php'') : false;', -1, '', '', '', 0, ''),
(2110, '/source/function/function_core.php', 5, 825, -3, -3, '}', -1, '', '', '', 0, ''),
(2111, '/source/function/function_core.php', 5, 826, -3, -3, '', -1, '', '', '', 0, ''),
(2112, '/source/function/function_core.php', 5, 827, -3, -3, 'function dstrlen($str) {', -1, '', '', '', 0, ''),
(2113, '/source/function/function_core.php', 5, 828, -3, -3, '	if(strtolower(CHARSET) != ''utf-8'') {', -1, '', '', '', 0, ''),
(2114, '/source/function/function_core.php', 5, 829, -3, -3, '		return strlen($str);', -1, '', '', '', 0, ''),
(2115, '/source/function/function_core.php', 5, 830, -3, -3, '	}', -1, '', '', '', 0, ''),
(2116, '/source/function/function_core.php', 5, 831, -3, -3, '	$count = 0;', -1, '', '', '', 0, ''),
(2117, '/source/function/function_core.php', 5, 832, -3, -3, '	for($i = 0; $i < strlen($str); $i++){', -1, '', '', '', 0, ''),
(2118, '/source/function/function_core.php', 5, 833, -3, -3, '		$value = ord($str[$i]);', -1, '', '', '', 0, ''),
(2119, '/source/function/function_core.php', 5, 834, -3, -3, '		if($value > 127) {', -1, '', '', '', 0, ''),
(2120, '/source/function/function_core.php', 5, 835, -3, -3, '			$count++;', -1, '', '', '', 0, ''),
(2121, '/source/function/function_core.php', 5, 836, -3, -3, '			if($value >= 192 && $value <= 223) $i++;', -1, '', '', '', 0, ''),
(2122, '/source/function/function_core.php', 5, 837, -3, -3, '			elseif($value >= 224 && $value <= 239) $i = $i + 2;', -1, '', '', '', 0, ''),
(2123, '/source/function/function_core.php', 5, 838, -3, -3, '			elseif($value >= 240 && $value <= 247) $i = $i + 3;', -1, '', '', '', 0, ''),
(2124, '/source/function/function_core.php', 5, 839, -3, -3, '	    	}', -1, '', '', '', 0, ''),
(2125, '/source/function/function_core.php', 5, 840, -3, -3, '    		$count++;', -1, '', '', '', 0, ''),
(2126, '/source/function/function_core.php', 5, 841, -3, -3, '	}', -1, '', '', '', 0, ''),
(2127, '/source/function/function_core.php', 5, 842, -3, -3, '	return $count;', -1, '', '', '', 0, ''),
(2128, '/source/function/function_core.php', 5, 843, -3, -3, '}', -1, '', '', '', 0, ''),
(2129, '/source/function/function_core.php', 5, 844, -3, -3, '', -1, '', '', '', 0, ''),
(2130, '/source/function/function_core.php', 5, 845, -3, -3, 'function cutstr($string, $length, $dot = '' ...'') {', -1, '', '', '', 0, ''),
(2131, '/source/function/function_core.php', 5, 846, -3, -3, '	if(strlen($string) <= $length) {', -1, '', '', '', 0, ''),
(2132, '/source/function/function_core.php', 5, 847, -3, -3, '		return $string;', -1, '', '', '', 0, ''),
(2133, '/source/function/function_core.php', 5, 848, -3, -3, '	}', -1, '', '', '', 0, ''),
(2134, '/source/function/function_core.php', 5, 849, -3, -3, '', -1, '', '', '', 0, ''),
(2135, '/source/function/function_core.php', 5, 850, -3, -3, '	$pre = chr(1);', -1, '', '', '', 0, ''),
(2136, '/source/function/function_core.php', 5, 851, -3, -3, '	$end = chr(1);', -1, '', '', '', 0, ''),
(2137, '/source/function/function_core.php', 5, 852, -3, -3, '	$string = str_replace(array(''&amp;'', ''&quot;'', ''&lt;'', ''&gt;''), array($pre.''&''.$end, $pre.''"''.$end, $pre.''<''.$end, $pre.''>''.$end), $string);', -1, '', '', '', 0, ''),
(2138, '/source/function/function_core.php', 5, 853, -3, -3, '', -1, '', '', '', 0, ''),
(2139, '/source/function/function_core.php', 5, 854, -3, -3, '	$strcut = '''';', -1, '', '', '', 0, ''),
(2140, '/source/function/function_core.php', 5, 855, -3, -3, '	if(strtolower(CHARSET) == ''utf-8'') {', -1, '', '', '', 0, ''),
(2141, '/source/function/function_core.php', 5, 856, -3, -3, '', -1, '', '', '', 0, ''),
(2142, '/source/function/function_core.php', 5, 857, -3, -3, '		$n = $tn = $noc = 0;', -1, '', '', '', 0, ''),
(2143, '/source/function/function_core.php', 5, 858, -3, -3, '		while($n < strlen($string)) {', -1, '', '', '', 0, ''),
(2144, '/source/function/function_core.php', 5, 859, -3, -3, '', -1, '', '', '', 0, ''),
(2145, '/source/function/function_core.php', 5, 860, -3, -3, '			$t = ord($string[$n]);', -1, '', '', '', 0, ''),
(2146, '/source/function/function_core.php', 5, 861, -3, -3, '			if($t == 9 || $t == 10 || (32 <= $t && $t <= 126)) {', -1, '', '', '', 0, ''),
(2147, '/source/function/function_core.php', 5, 862, -3, -3, '				$tn = 1; $n++; $noc++;', -1, '', '', '', 0, ''),
(2148, '/source/function/function_core.php', 5, 863, -3, -3, '			} elseif(194 <= $t && $t <= 223) {', -1, '', '', '', 0, ''),
(2149, '/source/function/function_core.php', 5, 864, -3, -3, '				$tn = 2; $n += 2; $noc += 2;', -1, '', '', '', 0, ''),
(2150, '/source/function/function_core.php', 5, 865, -3, -3, '			} elseif(224 <= $t && $t <= 239) {', -1, '', '', '', 0, ''),
(2151, '/source/function/function_core.php', 5, 866, -3, -3, '				$tn = 3; $n += 3; $noc += 2;', -1, '', '', '', 0, ''),
(2152, '/source/function/function_core.php', 5, 867, -3, -3, '			} elseif(240 <= $t && $t <= 247) {', -1, '', '', '', 0, ''),
(2153, '/source/function/function_core.php', 5, 868, -3, -3, '				$tn = 4; $n += 4; $noc += 2;', -1, '', '', '', 0, ''),
(2154, '/source/function/function_core.php', 5, 869, -3, -3, '			} elseif(248 <= $t && $t <= 251) {', -1, '', '', '', 0, ''),
(2155, '/source/function/function_core.php', 5, 870, -3, -3, '				$tn = 5; $n += 5; $noc += 2;', -1, '', '', '', 0, ''),
(2156, '/source/function/function_core.php', 5, 871, -3, -3, '			} elseif($t == 252 || $t == 253) {', -1, '', '', '', 0, ''),
(2157, '/source/function/function_core.php', 5, 872, -3, -3, '				$tn = 6; $n += 6; $noc += 2;', -1, '', '', '', 0, ''),
(2158, '/source/function/function_core.php', 5, 873, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(2159, '/source/function/function_core.php', 5, 874, -3, -3, '				$n++;', -1, '', '', '', 0, ''),
(2160, '/source/function/function_core.php', 5, 875, -3, -3, '			}', -1, '', '', '', 0, ''),
(2161, '/source/function/function_core.php', 5, 876, -3, -3, '', -1, '', '', '', 0, ''),
(2162, '/source/function/function_core.php', 5, 877, -3, -3, '			if($noc >= $length) {', -1, '', '', '', 0, ''),
(2163, '/source/function/function_core.php', 5, 878, -3, -3, '				break;', -1, '', '', '', 0, ''),
(2164, '/source/function/function_core.php', 5, 879, -3, -3, '			}', -1, '', '', '', 0, ''),
(2165, '/source/function/function_core.php', 5, 880, -3, -3, '', -1, '', '', '', 0, ''),
(2166, '/source/function/function_core.php', 5, 881, -3, -3, '		}', -1, '', '', '', 0, ''),
(2167, '/source/function/function_core.php', 5, 882, -3, -3, '		if($noc > $length) {', -1, '', '', '', 0, ''),
(2168, '/source/function/function_core.php', 5, 883, -3, -3, '			$n -= $tn;', -1, '', '', '', 0, ''),
(2169, '/source/function/function_core.php', 5, 884, -3, -3, '		}', -1, '', '', '', 0, ''),
(2170, '/source/function/function_core.php', 5, 885, -3, -3, '', -1, '', '', '', 0, ''),
(2171, '/source/function/function_core.php', 5, 886, -3, -3, '		$strcut = substr($string, 0, $n);', -1, '', '', '', 0, ''),
(2172, '/source/function/function_core.php', 5, 887, -3, -3, '', -1, '', '', '', 0, ''),
(2173, '/source/function/function_core.php', 5, 888, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2174, '/source/function/function_core.php', 5, 889, -3, -3, '		$_length = $length - 1;', -1, '', '', '', 0, ''),
(2175, '/source/function/function_core.php', 5, 890, -3, -3, '		for($i = 0; $i < $length; $i++) {', -1, '', '', '', 0, ''),
(2176, '/source/function/function_core.php', 5, 891, -3, -3, '			if(ord($string[$i]) <= 127) {', -1, '', '', '', 0, ''),
(2177, '/source/function/function_core.php', 5, 892, -3, -3, '				$strcut .= $string[$i];', -1, '', '', '', 0, ''),
(2178, '/source/function/function_core.php', 5, 893, -3, -3, '			} else if($i < $_length) {', -1, '', '', '', 0, ''),
(2179, '/source/function/function_core.php', 5, 894, -3, -3, '				$strcut .= $string[$i].$string[++$i];', -1, '', '', '', 0, ''),
(2180, '/source/function/function_core.php', 5, 895, -3, -3, '			}', -1, '', '', '', 0, ''),
(2181, '/source/function/function_core.php', 5, 896, -3, -3, '		}', -1, '', '', '', 0, ''),
(2182, '/source/function/function_core.php', 5, 897, -3, -3, '	}', -1, '', '', '', 0, ''),
(2183, '/source/function/function_core.php', 5, 898, -3, -3, '', -1, '', '', '', 0, ''),
(2184, '/source/function/function_core.php', 5, 899, -3, -3, '	$strcut = str_replace(array($pre.''&''.$end, $pre.''"''.$end, $pre.''<''.$end, $pre.''>''.$end), array(''&amp;'', ''&quot;'', ''&lt;'', ''&gt;''), $strcut);', -1, '', '', '', 0, ''),
(2185, '/source/function/function_core.php', 5, 900, -3, -3, '', -1, '', '', '', 0, ''),
(2186, '/source/function/function_core.php', 5, 901, -3, -3, '	$pos = strrpos($strcut, chr(1));', -1, '', '', '', 0, ''),
(2187, '/source/function/function_core.php', 5, 902, -3, -3, '	if($pos !== false) {', -1, '', '', '', 0, ''),
(2188, '/source/function/function_core.php', 5, 903, -3, -3, '		$strcut = substr($strcut,0,$pos);', -1, '', '', '', 0, ''),
(2189, '/source/function/function_core.php', 5, 904, -3, -3, '	}', -1, '', '', '', 0, ''),
(2190, '/source/function/function_core.php', 5, 905, -3, -3, '	return $strcut.$dot;', -1, '', '', '', 0, ''),
(2191, '/source/function/function_core.php', 5, 906, -3, -3, '}', -1, '', '', '', 0, ''),
(2192, '/source/function/function_core.php', 5, 907, -3, -3, '', -1, '', '', '', 0, ''),
(2193, '/source/function/function_core.php', 5, 908, -3, -3, 'function dstripslashes($string) {', -1, '', '', '', 0, ''),
(2194, '/source/function/function_core.php', 5, 909, -3, -3, '	if(empty($string)) return $string;', -1, '', '', '', 0, ''),
(2195, '/source/function/function_core.php', 5, 910, -3, -3, '	if(is_array($string)) {', -1, '', '', '', 0, ''),
(2196, '/source/function/function_core.php', 5, 911, -3, -3, '		foreach($string as $key => $val) {', -1, '', '', '', 0, ''),
(2197, '/source/function/function_core.php', 5, 912, -3, -3, '			$string[$key] = dstripslashes($val);', -1, '', '', '', 0, ''),
(2198, '/source/function/function_core.php', 5, 913, -3, -3, '		}', -1, '', '', '', 0, ''),
(2199, '/source/function/function_core.php', 5, 914, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2200, '/source/function/function_core.php', 5, 915, -3, -3, '		$string = stripslashes($string);', -1, '', '', '', 0, ''),
(2201, '/source/function/function_core.php', 5, 916, -3, -3, '	}', -1, '', '', '', 0, ''),
(2202, '/source/function/function_core.php', 5, 917, -3, -3, '	return $string;', -1, '', '', '', 0, ''),
(2203, '/source/function/function_core.php', 5, 918, -3, -3, '}', -1, '', '', '', 0, ''),
(2204, '/source/function/function_core.php', 5, 919, -3, -3, '', -1, '', '', '', 0, ''),
(2205, '/source/function/function_core.php', 5, 920, -3, -3, 'function aidencode($aid, $type = 0, $tid = 0) {', -1, '', '', '', 0, ''),
(2206, '/source/function/function_core.php', 5, 921, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2207, '/source/function/function_core.php', 5, 922, -3, -3, '	$s = !$type ? $aid.''|''.substr(md5($aid.md5($_G[''config''][''security''][''authkey'']).TIMESTAMP.$_G[''uid'']), 0, 8).''|''.TIMESTAMP.''|''.$_G[''uid''].''|''.$tid : $aid.''|''.md5($aid.md5($_G[''config''][''security''][''authkey'']).TIMESTAMP).''|''.TIMESTAMP;', -1, '', '', '', 0, ''),
(2208, '/source/function/function_core.php', 5, 923, -3, -3, '	return rawurlencode(base64_encode($s));', -1, '', '', '', 0, ''),
(2209, '/source/function/function_core.php', 5, 924, -3, -3, '}', -1, '', '', '', 0, ''),
(2210, '/source/function/function_core.php', 5, 925, -3, -3, '', -1, '', '', '', 0, ''),
(2211, '/source/function/function_core.php', 5, 926, -3, -3, 'function getforumimg($aid, $nocache = 0, $w = 140, $h = 140, $type = '''') {', -1, '', '', '', 0, ''),
(2212, '/source/function/function_core.php', 5, 927, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2213, '/source/function/function_core.php', 5, 928, -3, -3, '	$key = dsign($aid.''|''.$w.''|''.$h);', -1, '', '', '', 0, ''),
(2214, '/source/function/function_core.php', 5, 929, -3, -3, '	return ''forum.php?mod=image&aid=''.$aid.''&size=''.$w.''x''.$h.''&key=''.rawurlencode($key).($nocache ? ''&nocache=yes'' : '''').($type ? ''&type=''.$type : '''');', -1, '', '', '', 0, ''),
(2215, '/source/function/function_core.php', 5, 930, -3, -3, '}', -1, '', '', '', 0, ''),
(2216, '/source/function/function_core.php', 5, 931, -3, -3, '', -1, '', '', '', 0, ''),
(2217, '/source/function/function_core.php', 5, 932, -3, -3, 'function rewriteoutput($type, $returntype, $host) {', -1, '', '', '', 0, ''),
(2218, '/source/function/function_core.php', 5, 933, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2219, '/source/function/function_core.php', 5, 934, -3, -3, '	$fextra = '''';', -1, '', '', '', 0, ''),
(2220, '/source/function/function_core.php', 5, 935, -3, -3, '	if($type == ''forum_forumdisplay'') {', -1, '', '', '', 0, ''),
(2221, '/source/function/function_core.php', 5, 936, -3, -3, '		list(,,, $fid, $page, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2222, '/source/function/function_core.php', 5, 937, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2223, '/source/function/function_core.php', 5, 938, -3, -3, '			''{fid}'' => empty($_G[''setting''][''forumkeys''][$fid]) ? $fid : $_G[''setting''][''forumkeys''][$fid],', -1, '', '', '', 0, ''),
(2224, '/source/function/function_core.php', 5, 939, -3, -3, '			''{page}'' => $page ? $page : 1,', -1, '', '', '', 0, ''),
(2225, '/source/function/function_core.php', 5, 940, -3, -3, '		);', -1, '', '', '', 0, ''),
(2226, '/source/function/function_core.php', 5, 941, -3, -3, '	} elseif($type == ''forum_viewthread'') {', -1, '', '', '', 0, ''),
(2227, '/source/function/function_core.php', 5, 942, -3, -3, '		list(,,, $tid, $page, $prevpage, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2228, '/source/function/function_core.php', 5, 943, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2229, '/source/function/function_core.php', 5, 944, -3, -3, '			''{tid}'' => $tid,', -1, '', '', '', 0, ''),
(2230, '/source/function/function_core.php', 5, 945, -3, -3, '			''{page}'' => $page ? $page : 1,', -1, '', '', '', 0, ''),
(2231, '/source/function/function_core.php', 5, 946, -3, -3, '			''{prevpage}'' => $prevpage && !IS_ROBOT ? $prevpage : 1,', -1, '', '', '', 0, ''),
(2232, '/source/function/function_core.php', 5, 947, -3, -3, '		);', -1, '', '', '', 0, ''),
(2233, '/source/function/function_core.php', 5, 948, -3, -3, '	} elseif($type == ''home_space'') {', -1, '', '', '', 0, ''),
(2234, '/source/function/function_core.php', 5, 949, -3, -3, '		list(,,, $uid, $username, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2235, '/source/function/function_core.php', 5, 950, -3, -3, '		$_G[''setting''][''rewritecompatible''] && $username = rawurlencode($username);', -1, '', '', '', 0, ''),
(2236, '/source/function/function_core.php', 5, 951, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2237, '/source/function/function_core.php', 5, 952, -3, -3, '			''{user}'' => $uid ? ''uid'' : ''username'',', -1, '', '', '', 0, ''),
(2238, '/source/function/function_core.php', 5, 953, -3, -3, '			''{value}'' => $uid ? $uid : $username,', -1, '', '', '', 0, ''),
(2239, '/source/function/function_core.php', 5, 954, -3, -3, '		);', -1, '', '', '', 0, ''),
(2240, '/source/function/function_core.php', 5, 955, -3, -3, '	} elseif($type == ''home_blog'') {', -1, '', '', '', 0, ''),
(2241, '/source/function/function_core.php', 5, 956, -3, -3, '		list(,,, $uid, $blogid, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2242, '/source/function/function_core.php', 5, 957, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2243, '/source/function/function_core.php', 5, 958, -3, -3, '			''{uid}'' => $uid,', -1, '', '', '', 0, ''),
(2244, '/source/function/function_core.php', 5, 959, -3, -3, '			''{blogid}'' => $blogid,', -1, '', '', '', 0, ''),
(2245, '/source/function/function_core.php', 5, 960, -3, -3, '		);', -1, '', '', '', 0, ''),
(2246, '/source/function/function_core.php', 5, 961, -3, -3, '	} elseif($type == ''group_group'') {', -1, '', '', '', 0, ''),
(2247, '/source/function/function_core.php', 5, 962, -3, -3, '		list(,,, $fid, $page, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2248, '/source/function/function_core.php', 5, 963, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2249, '/source/function/function_core.php', 5, 964, -3, -3, '			''{fid}'' => $fid,', -1, '', '', '', 0, ''),
(2250, '/source/function/function_core.php', 5, 965, -3, -3, '			''{page}'' => $page ? $page : 1,', -1, '', '', '', 0, ''),
(2251, '/source/function/function_core.php', 5, 966, -3, -3, '		);', -1, '', '', '', 0, ''),
(2252, '/source/function/function_core.php', 5, 967, -3, -3, '	} elseif($type == ''portal_topic'') {', -1, '', '', '', 0, ''),
(2253, '/source/function/function_core.php', 5, 968, -3, -3, '		list(,,, $name, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2254, '/source/function/function_core.php', 5, 969, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2255, '/source/function/function_core.php', 5, 970, -3, -3, '			''{name}'' => $name,', -1, '', '', '', 0, ''),
(2256, '/source/function/function_core.php', 5, 971, -3, -3, '		);', -1, '', '', '', 0, ''),
(2257, '/source/function/function_core.php', 5, 972, -3, -3, '	} elseif($type == ''portal_article'') {', -1, '', '', '', 0, ''),
(2258, '/source/function/function_core.php', 5, 973, -3, -3, '		list(,,, $id, $page, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2259, '/source/function/function_core.php', 5, 974, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2260, '/source/function/function_core.php', 5, 975, -3, -3, '			''{id}'' => $id,', -1, '', '', '', 0, ''),
(2261, '/source/function/function_core.php', 5, 976, -3, -3, '			''{page}'' => $page ? $page : 1,', -1, '', '', '', 0, ''),
(2262, '/source/function/function_core.php', 5, 977, -3, -3, '		);', -1, '', '', '', 0, ''),
(2263, '/source/function/function_core.php', 5, 978, -3, -3, '	} elseif($type == ''forum_archiver'') {', -1, '', '', '', 0, ''),
(2264, '/source/function/function_core.php', 5, 979, -3, -3, '		list(,, $action, $value, $page, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2265, '/source/function/function_core.php', 5, 980, -3, -3, '		$host = '''';', -1, '', '', '', 0, ''),
(2266, '/source/function/function_core.php', 5, 981, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2267, '/source/function/function_core.php', 5, 982, -3, -3, '			''{action}'' => $action,', -1, '', '', '', 0, ''),
(2268, '/source/function/function_core.php', 5, 983, -3, -3, '			''{value}'' => $value,', -1, '', '', '', 0, ''),
(2269, '/source/function/function_core.php', 5, 984, -3, -3, '		);', -1, '', '', '', 0, ''),
(2270, '/source/function/function_core.php', 5, 985, -3, -3, '		if($page) {', -1, '', '', '', 0, ''),
(2271, '/source/function/function_core.php', 5, 986, -3, -3, '			$fextra = ''?page=''.$page;', -1, '', '', '', 0, ''),
(2272, '/source/function/function_core.php', 5, 987, -3, -3, '		}', -1, '', '', '', 0, ''),
(2273, '/source/function/function_core.php', 5, 988, -3, -3, '	} elseif($type == ''plugin'') {', -1, '', '', '', 0, ''),
(2274, '/source/function/function_core.php', 5, 989, -3, -3, '		list(,, $pluginid, $module,, $param, $extra) = func_get_args();', -1, '', '', '', 0, ''),
(2275, '/source/function/function_core.php', 5, 990, -3, -3, '		$host = '''';', -1, '', '', '', 0, ''),
(2276, '/source/function/function_core.php', 5, 991, -3, -3, '		$r = array(', -1, '', '', '', 0, ''),
(2277, '/source/function/function_core.php', 5, 992, -3, -3, '			''{pluginid}'' => $pluginid,', -1, '', '', '', 0, ''),
(2278, '/source/function/function_core.php', 5, 993, -3, -3, '			''{module}'' => $module,', -1, '', '', '', 0, ''),
(2279, '/source/function/function_core.php', 5, 994, -3, -3, '		);', -1, '', '', '', 0, ''),
(2280, '/source/function/function_core.php', 5, 995, -3, -3, '		if($param) {', -1, '', '', '', 0, ''),
(2281, '/source/function/function_core.php', 5, 996, -3, -3, '			$fextra = ''?''.$param;', -1, '', '', '', 0, ''),
(2282, '/source/function/function_core.php', 5, 997, -3, -3, '		}', -1, '', '', '', 0, ''),
(2283, '/source/function/function_core.php', 5, 998, -3, -3, '	}', -1, '', '', '', 0, ''),
(2284, '/source/function/function_core.php', 5, 999, -3, -3, '	$href = str_replace(array_keys($r), $r, $_G[''setting''][''rewriterule''][$type]).$fextra;', -1, '', '', '', 0, ''),
(2285, '/source/function/function_core.php', 5, 1000, -3, -3, '	if(!$returntype) {', -1, '', '', '', 0, ''),
(2286, '/source/function/function_core.php', 5, 1001, -3, -3, '		return ''<a href="''.$host.$href.''"''.(!empty($extra) ? stripslashes($extra) : '''').''>'';', -1, '', '', '', 0, ''),
(2287, '/source/function/function_core.php', 5, 1002, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2288, '/source/function/function_core.php', 5, 1003, -3, -3, '		return $host.$href;', -1, '', '', '', 0, ''),
(2289, '/source/function/function_core.php', 5, 1004, -3, -3, '	}', -1, '', '', '', 0, ''),
(2290, '/source/function/function_core.php', 5, 1005, -3, -3, '}', -1, '', '', '', 0, ''),
(2291, '/source/function/function_core.php', 5, 1006, -3, -3, '', -1, '', '', '', 0, ''),
(2292, '/source/function/function_core.php', 5, 1007, -3, -3, 'function mobilereplace($file, $replace) {', -1, '', '', '', 0, ''),
(2293, '/source/function/function_core.php', 5, 1008, -3, -3, '	return helper_mobile::mobilereplace($file, $replace);', -1, '', '', '', 0, ''),
(2294, '/source/function/function_core.php', 5, 1009, -3, -3, '}', -1, '', '', '', 0, ''),
(2295, '/source/function/function_core.php', 5, 1010, -3, -3, '', -1, '', '', '', 0, ''),
(2296, '/source/function/function_core.php', 5, 1011, -3, -3, 'function mobileoutput() {', -1, '', '', '', 0, ''),
(2297, '/source/function/function_core.php', 5, 1012, -3, -3, '	helper_mobile::mobileoutput();', -1, '', '', '', 0, ''),
(2298, '/source/function/function_core.php', 5, 1013, -3, -3, '}', -1, '', '', '', 0, ''),
(2299, '/source/function/function_core.php', 5, 1014, -3, -3, '', -1, '', '', '', 0, ''),
(2300, '/source/function/function_core.php', 5, 1015, -3, -3, 'function output() {', -1, '', '', '', 0, ''),
(2301, '/source/function/function_core.php', 5, 1016, -3, -3, '', -1, '', '', '', 0, ''),
(2302, '/source/function/function_core.php', 5, 1017, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2303, '/source/function/function_core.php', 5, 1018, -3, -3, '', -1, '', '', '', 0, ''),
(2304, '/source/function/function_core.php', 5, 1019, -3, -3, '', -1, '', '', '', 0, ''),
(2305, '/source/function/function_core.php', 5, 1020, -3, -3, '	if(defined(''DISCUZ_OUTPUTED'')) {', -1, '', '', '', 0, ''),
(2306, '/source/function/function_core.php', 5, 1021, -3, -3, '		return;', -1, '', '', '', 0, ''),
(2307, '/source/function/function_core.php', 5, 1022, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2308, '/source/function/function_core.php', 5, 1023, -3, -3, '		define(''DISCUZ_OUTPUTED'', 1);', -1, '', '', '', 0, ''),
(2309, '/source/function/function_core.php', 5, 1024, -3, -3, '	}', -1, '', '', '', 0, ''),
(2310, '/source/function/function_core.php', 5, 1025, -3, -3, '', -1, '', '', '', 0, ''),
(2311, '/source/function/function_core.php', 5, 1026, -3, -3, '	if(!empty($_G[''blockupdate''])) {', -1, '', '', '', 0, ''),
(2312, '/source/function/function_core.php', 5, 1027, -3, -3, '		block_updatecache($_G[''blockupdate''][''bid'']);', -1, '', '', '', 0, ''),
(2313, '/source/function/function_core.php', 5, 1028, -3, -3, '	}', -1, '', '', '', 0, ''),
(2314, '/source/function/function_core.php', 5, 1029, -3, -3, '', -1, '', '', '', 0, ''),
(2315, '/source/function/function_core.php', 5, 1030, -3, -3, '	if(defined(''IN_MOBILE'')) {', -1, '', '', '', 0, ''),
(2316, '/source/function/function_core.php', 5, 1031, -3, -3, '		mobileoutput();', -1, '', '', '', 0, ''),
(2317, '/source/function/function_core.php', 5, 1032, -3, -3, '	}', -1, '', '', '', 0, ''),
(2318, '/source/function/function_core.php', 5, 1033, -3, -3, '	if(!defined(''IN_MOBILE'') && !defined(''IN_ARCHIVER'')) {', -1, '', '', '', 0, ''),
(2319, '/source/function/function_core.php', 5, 1034, -3, -3, '		$tipsService = Cloud::loadClass(''Service_DiscuzTips'');', -1, '', '', '', 0, ''),
(2320, '/source/function/function_core.php', 5, 1035, -3, -3, '		$tipsService->show();', -1, '', '', '', 0, ''),
(2321, '/source/function/function_core.php', 5, 1036, -3, -3, '	}', -1, '', '', '', 0, ''),
(2322, '/source/function/function_core.php', 5, 1037, -3, -3, '	$havedomain = implode('''', $_G[''setting''][''domain''][''app'']);', -1, '', '', '', 0, ''),
(2323, '/source/function/function_core.php', 5, 1038, -3, -3, '	if($_G[''setting''][''rewritestatus''] || !empty($havedomain)) {', -1, '', '', '', 0, ''),
(2324, '/source/function/function_core.php', 5, 1039, -3, -3, '		$content = ob_get_contents();', -1, '', '', '', 0, ''),
(2325, '/source/function/function_core.php', 5, 1040, -3, -3, '		$content = output_replace($content);', -1, '', '', '', 0, ''),
(2326, '/source/function/function_core.php', 5, 1041, -3, -3, '', -1, '', '', '', 0, ''),
(2327, '/source/function/function_core.php', 5, 1042, -3, -3, '', -1, '', '', '', 0, ''),
(2328, '/source/function/function_core.php', 5, 1043, -3, -3, '		ob_end_clean();', -1, '', '', '', 0, ''),
(2329, '/source/function/function_core.php', 5, 1044, -3, -3, '		$_G[''gzipcompress''] ? ob_start(''ob_gzhandler'') : ob_start();', -1, '', '', '', 0, ''),
(2330, '/source/function/function_core.php', 5, 1045, -3, -3, '', -1, '', '', '', 0, ''),
(2331, '/source/function/function_core.php', 5, 1046, -3, -3, '		echo $content;', -1, '', '', '', 0, ''),
(2332, '/source/function/function_core.php', 5, 1047, -3, -3, '	}', -1, '', '', '', 0, ''),
(2333, '/source/function/function_core.php', 5, 1048, -3, -3, '', -1, '', '', '', 0, ''),
(2334, '/source/function/function_core.php', 5, 1049, -3, -3, '	if(isset($_G[''makehtml''])) {', -1, '', '', '', 0, ''),
(2335, '/source/function/function_core.php', 5, 1050, -3, -3, '		helper_makehtml::make_html();', -1, '', '', '', 0, ''),
(2336, '/source/function/function_core.php', 5, 1051, -3, -3, '	}', -1, '', '', '', 0, ''),
(2337, '/source/function/function_core.php', 5, 1052, -3, -3, '', -1, '', '', '', 0, ''),
(2338, '/source/function/function_core.php', 5, 1053, -3, -3, '	if($_G[''setting''][''ftp''][''connid'']) {', -1, '', '', '', 0, ''),
(2339, '/source/function/function_core.php', 5, 1054, -3, -3, '		@ftp_close($_G[''setting''][''ftp''][''connid'']);', -1, '', '', '', 0, ''),
(2340, '/source/function/function_core.php', 5, 1055, -3, -3, '	}', -1, '', '', '', 0, ''),
(2341, '/source/function/function_core.php', 5, 1056, -3, -3, '	$_G[''setting''][''ftp''] = array();', -1, '', '', '', 0, ''),
(2342, '/source/function/function_core.php', 5, 1057, -3, -3, '', -1, '', '', '', 0, ''),
(2343, '/source/function/function_core.php', 5, 1058, -3, -3, '	if(defined(''CACHE_FILE'') && CACHE_FILE && !defined(''CACHE_FORBIDDEN'') && !defined(''IN_MOBILE'') && !checkmobile()) {', -1, '', '', '', 0, ''),
(2344, '/source/function/function_core.php', 5, 1059, -3, -3, '		if(diskfreespace(DISCUZ_ROOT.''./''.$_G[''setting''][''cachethreaddir'']) > 1000000) {', -1, '', '', '', 0, ''),
(2345, '/source/function/function_core.php', 5, 1060, -3, -3, '			if($fp = @fopen(CACHE_FILE, ''w'')) {', -1, '', '', '', 0, ''),
(2346, '/source/function/function_core.php', 5, 1061, -3, -3, '				flock($fp, LOCK_EX);', -1, '', '', '', 0, ''),
(2347, '/source/function/function_core.php', 5, 1062, -3, -3, '				fwrite($fp, empty($content) ? ob_get_contents() : $content);', -1, '', '', '', 0, ''),
(2348, '/source/function/function_core.php', 5, 1063, -3, -3, '			}', -1, '', '', '', 0, ''),
(2349, '/source/function/function_core.php', 5, 1064, -3, -3, '			@fclose($fp);', -1, '', '', '', 0, ''),
(2350, '/source/function/function_core.php', 5, 1065, -3, -3, '			chmod(CACHE_FILE, 0777);', -1, '', '', '', 0, ''),
(2351, '/source/function/function_core.php', 5, 1066, -3, -3, '		}', -1, '', '', '', 0, ''),
(2352, '/source/function/function_core.php', 5, 1067, -3, -3, '	}', -1, '', '', '', 0, ''),
(2353, '/source/function/function_core.php', 5, 1068, -3, -3, '', -1, '', '', '', 0, ''),
(2354, '/source/function/function_core.php', 5, 1069, -3, -3, '	if(defined(''DISCUZ_DEBUG'') && DISCUZ_DEBUG && @include(libfile(''function/debug''))) {', -1, '', '', '', 0, ''),
(2355, '/source/function/function_core.php', 5, 1070, -3, -3, '		function_exists(''debugmessage'') && debugmessage();', -1, '', '', '', 0, ''),
(2356, '/source/function/function_core.php', 5, 1071, -3, -3, '	}', -1, '', '', '', 0, ''),
(2357, '/source/function/function_core.php', 5, 1072, -3, -3, '}', -1, '', '', '', 0, ''),
(2358, '/source/function/function_core.php', 5, 1073, -3, -3, '', -1, '', '', '', 0, ''),
(2359, '/source/function/function_core.php', 5, 1074, -3, -3, 'function output_replace($content) {', -1, '', '', '', 0, ''),
(2360, '/source/function/function_core.php', 5, 1075, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2361, '/source/function/function_core.php', 5, 1076, -3, -3, '	if(defined(''IN_MODCP'') || defined(''IN_ADMINCP'')) return $content;', -1, '', '', '', 0, ''),
(2362, '/source/function/function_core.php', 5, 1077, -3, -3, '	if(!empty($_G[''setting''][''output''][''str''][''search''])) {', -1, '', '', '', 0, ''),
(2363, '/source/function/function_core.php', 5, 1078, -3, -3, '		if(empty($_G[''setting''][''domain''][''app''][''default''])) {', -1, '', '', '', 0, ''),
(2364, '/source/function/function_core.php', 5, 1079, -3, -3, '			$_G[''setting''][''output''][''str''][''replace''] = str_replace(''{CURHOST}'', $_G[''siteurl''], $_G[''setting''][''output''][''str''][''replace'']);', -1, '', '', '', 0, ''),
(2365, '/source/function/function_core.php', 5, 1080, -3, -3, '		}', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(2366, '/source/function/function_core.php', 5, 1081, -3, -3, '		$content = str_replace($_G[''setting''][''output''][''str''][''search''], $_G[''setting''][''output''][''str''][''replace''], $content);', -1, '', '', '', 0, ''),
(2367, '/source/function/function_core.php', 5, 1082, -3, -3, '	}', -1, '', '', '', 0, ''),
(2368, '/source/function/function_core.php', 5, 1083, -3, -3, '	if(!empty($_G[''setting''][''output''][''preg''][''search'']) && (empty($_G[''setting''][''rewriteguest'']) || empty($_G[''uid'']))) {', -1, '', '', '', 0, ''),
(2369, '/source/function/function_core.php', 5, 1084, -3, -3, '		if(empty($_G[''setting''][''domain''][''app''][''default''])) {', -1, '', '', '', 0, ''),
(2370, '/source/function/function_core.php', 5, 1085, -3, -3, '			$_G[''setting''][''output''][''preg''][''search''] = str_replace(''\\{CURHOST\\}'', preg_quote($_G[''siteurl''], ''/''), $_G[''setting''][''output''][''preg''][''search'']);', -1, '', '', '', 0, ''),
(2371, '/source/function/function_core.php', 5, 1086, -3, -3, '			$_G[''setting''][''output''][''preg''][''replace''] = str_replace(''{CURHOST}'', $_G[''siteurl''], $_G[''setting''][''output''][''preg''][''replace'']);', -1, '', '', '', 0, ''),
(2372, '/source/function/function_core.php', 5, 1087, -3, -3, '		}', -1, '', '', '', 0, ''),
(2373, '/source/function/function_core.php', 5, 1088, -3, -3, '', -1, '', '', '', 0, ''),
(2374, '/source/function/function_core.php', 5, 1089, -3, -3, '		$content = preg_replace($_G[''setting''][''output''][''preg''][''search''], $_G[''setting''][''output''][''preg''][''replace''], $content);', -1, '', '', '', 0, ''),
(2375, '/source/function/function_core.php', 5, 1090, -3, -3, '	}', -1, '', '', '', 0, ''),
(2376, '/source/function/function_core.php', 5, 1091, -3, -3, '', -1, '', '', '', 0, ''),
(2377, '/source/function/function_core.php', 5, 1092, -3, -3, '	return $content;', -1, '', '', '', 0, ''),
(2378, '/source/function/function_core.php', 5, 1093, -3, -3, '}', -1, '', '', '', 0, ''),
(2379, '/source/function/function_core.php', 5, 1094, -3, -3, '', -1, '', '', '', 0, ''),
(2380, '/source/function/function_core.php', 5, 1095, -3, -3, 'function output_ajax() {', -1, '', '', '', 0, ''),
(2381, '/source/function/function_core.php', 5, 1096, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2382, '/source/function/function_core.php', 5, 1097, -3, -3, '	$s = ob_get_contents();', -1, '', '', '', 0, ''),
(2383, '/source/function/function_core.php', 5, 1098, -3, -3, '	ob_end_clean();', -1, '', '', '', 0, ''),
(2384, '/source/function/function_core.php', 5, 1099, -3, -3, '	$s = preg_replace("/([\\\\x01-\\\\x08\\\\x0b-\\\\x0c\\\\x0e-\\\\x1f])+/", '' '', $s);', -1, '', '', '', 0, ''),
(2385, '/source/function/function_core.php', 5, 1100, -3, -3, '	$s = str_replace(array(chr(0), '']]>''), array('' '', '']]&gt;''), $s);', -1, '', '', '', 0, ''),
(2386, '/source/function/function_core.php', 5, 1101, -3, -3, '	if(defined(''DISCUZ_DEBUG'') && DISCUZ_DEBUG && @include(libfile(''function/debug''))) {', -1, '', '', '', 0, ''),
(2387, '/source/function/function_core.php', 5, 1102, -3, -3, '		function_exists(''debugmessage'') && $s .= debugmessage(1);', -1, '', '', '', 0, ''),
(2388, '/source/function/function_core.php', 5, 1103, -3, -3, '	}', -1, '', '', '', 0, ''),
(2389, '/source/function/function_core.php', 5, 1104, -3, -3, '	$havedomain = implode('''', $_G[''setting''][''domain''][''app'']);', -1, '', '', '', 0, ''),
(2390, '/source/function/function_core.php', 5, 1105, -3, -3, '	if($_G[''setting''][''rewritestatus''] || !empty($havedomain)) {', -1, '', '', '', 0, ''),
(2391, '/source/function/function_core.php', 5, 1106, -3, -3, '        $s = output_replace($s);', -1, '', '', '', 0, ''),
(2392, '/source/function/function_core.php', 5, 1107, -3, -3, '	}', -1, '', '', '', 0, ''),
(2393, '/source/function/function_core.php', 5, 1108, -3, -3, '	return $s;', -1, '', '', '', 0, ''),
(2394, '/source/function/function_core.php', 5, 1109, -3, -3, '}', -1, '', '', '', 0, ''),
(2395, '/source/function/function_core.php', 5, 1110, -3, -3, '', -1, '', '', '', 0, ''),
(2396, '/source/function/function_core.php', 5, 1111, -3, -3, 'function runhooks($scriptextra = '''') {', -1, '', '', '', 0, ''),
(2397, '/source/function/function_core.php', 5, 1112, -3, -3, '	if(!defined(''HOOKTYPE'')) {', -1, '', '', '', 0, ''),
(2398, '/source/function/function_core.php', 5, 1113, -3, -3, '		define(''HOOKTYPE'', !defined(''IN_MOBILE'') ? ''hookscript'' : ''hookscriptmobile'');', -1, '', '', '', 0, ''),
(2399, '/source/function/function_core.php', 5, 1114, -3, -3, '	}', -1, '', '', '', 0, ''),
(2400, '/source/function/function_core.php', 5, 1115, -3, -3, '	if(defined(''CURMODULE'')) {', -1, '', '', '', 0, ''),
(2401, '/source/function/function_core.php', 5, 1116, -3, -3, '		global $_G;', -1, '', '', '', 0, ''),
(2402, '/source/function/function_core.php', 5, 1117, -3, -3, '		if($_G[''setting''][''plugins''][''func''][HOOKTYPE][''common'']) {', -1, '', '', '', 0, ''),
(2403, '/source/function/function_core.php', 5, 1118, -3, -3, '			hookscript(''common'', ''global'', ''funcs'', array(), ''common'');', -1, '', '', '', 0, ''),
(2404, '/source/function/function_core.php', 5, 1119, -3, -3, '		}', -1, '', '', '', 0, ''),
(2405, '/source/function/function_core.php', 5, 1120, -3, -3, '		hookscript(CURMODULE, $_G[''basescript''], ''funcs'', array(), '''', $scriptextra);', -1, '', '', '', 0, ''),
(2406, '/source/function/function_core.php', 5, 1121, -3, -3, '	}', -1, '', '', '', 0, ''),
(2407, '/source/function/function_core.php', 5, 1122, -3, -3, '}', -1, '', '', '', 0, ''),
(2408, '/source/function/function_core.php', 5, 1123, -3, -3, '', -1, '', '', '', 0, ''),
(2409, '/source/function/function_core.php', 5, 1124, -3, -3, 'function hookscript($script, $hscript, $type = ''funcs'', $param = array(), $func = '''', $scriptextra = '''') {', -1, '', '', '', 0, ''),
(2410, '/source/function/function_core.php', 5, 1125, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2411, '/source/function/function_core.php', 5, 1126, -3, -3, '	static $pluginclasses;', -1, '', '', '', 0, ''),
(2412, '/source/function/function_core.php', 5, 1127, -3, -3, '	if($hscript == ''home'') {', -1, '', '', '', 0, ''),
(2413, '/source/function/function_core.php', 5, 1128, -3, -3, '		if($script == ''space'') {', -1, '', '', '', 0, ''),
(2414, '/source/function/function_core.php', 5, 1129, -3, -3, '			$scriptextra = !$scriptextra ? $_GET[''do''] : $scriptextra;', -1, '', '', '', 0, ''),
(2415, '/source/function/function_core.php', 5, 1130, -3, -3, '			$script = ''space''.(!empty($scriptextra) ? ''_''.$scriptextra : '''');', -1, '', '', '', 0, ''),
(2416, '/source/function/function_core.php', 5, 1131, -3, -3, '		} elseif($script == ''spacecp'') {', -1, '', '', '', 0, ''),
(2417, '/source/function/function_core.php', 5, 1132, -3, -3, '			$scriptextra = !$scriptextra ? $_GET[''ac''] : $scriptextra;', -1, '', '', '', 0, ''),
(2418, '/source/function/function_core.php', 5, 1133, -3, -3, '			$script .= !empty($scriptextra) ? ''_''.$scriptextra : '''';', -1, '', '', '', 0, ''),
(2419, '/source/function/function_core.php', 5, 1134, -3, -3, '		}', -1, '', '', '', 0, ''),
(2420, '/source/function/function_core.php', 5, 1135, -3, -3, '	}', -1, '', '', '', 0, ''),
(2421, '/source/function/function_core.php', 5, 1136, -3, -3, '	if(!isset($_G[''setting''][HOOKTYPE][$hscript][$script][$type])) {', -1, '', '', '', 0, ''),
(2422, '/source/function/function_core.php', 5, 1137, -3, -3, '		return;', -1, '', '', '', 0, ''),
(2423, '/source/function/function_core.php', 5, 1138, -3, -3, '	}', -1, '', '', '', 0, ''),
(2424, '/source/function/function_core.php', 5, 1139, -3, -3, '	if(!isset($_G[''cache''][''plugin''])) {', -1, '', '', '', 0, ''),
(2425, '/source/function/function_core.php', 5, 1140, -3, -3, '		loadcache(''plugin'');', -1, '', '', '', 0, ''),
(2426, '/source/function/function_core.php', 5, 1141, -3, -3, '	}', -1, '', '', '', 0, ''),
(2427, '/source/function/function_core.php', 5, 1142, -3, -3, '	foreach((array)$_G[''setting''][HOOKTYPE][$hscript][$script][''module''] as $identifier => $include) {', -1, '', '', '', 0, ''),
(2428, '/source/function/function_core.php', 5, 1143, -3, -3, '		if($_G[''pluginrunlist''] && !in_array($identifier, $_G[''pluginrunlist''])) {', -1, '', '', '', 0, ''),
(2429, '/source/function/function_core.php', 5, 1144, -3, -3, '			continue;', -1, '', '', '', 0, ''),
(2430, '/source/function/function_core.php', 5, 1145, -3, -3, '		}', -1, '', '', '', 0, ''),
(2431, '/source/function/function_core.php', 5, 1146, -3, -3, '		$hooksadminid[$identifier] = !$_G[''setting''][HOOKTYPE][$hscript][$script][''adminid''][$identifier] || ($_G[''setting''][HOOKTYPE][$hscript][$script][''adminid''][$identifier] && $_G[''adminid''] > 0 && $_G[''setting''][''hookscript''][$hscript][$script][''adminid''][$identifier] >= $_G[''adminid'']);', -1, '', '', '', 0, ''),
(2432, '/source/function/function_core.php', 5, 1147, -3, -3, '		if($hooksadminid[$identifier]) {', -1, '', '', '', 0, ''),
(2433, '/source/function/function_core.php', 5, 1148, -3, -3, '			@include_once DISCUZ_ROOT.''./source/plugin/''.$include.''.class.php'';', -1, '', '', '', 0, ''),
(2434, '/source/function/function_core.php', 5, 1149, -3, -3, '		}', -1, '', '', '', 0, ''),
(2435, '/source/function/function_core.php', 5, 1150, -3, -3, '	}', -1, '', '', '', 0, ''),
(2436, '/source/function/function_core.php', 5, 1151, -3, -3, '	if(@is_array($_G[''setting''][HOOKTYPE][$hscript][$script][$type])) {', -1, '', '', '', 0, ''),
(2437, '/source/function/function_core.php', 5, 1152, -3, -3, '		$_G[''inhookscript''] = true;', -1, '', '', '', 0, ''),
(2438, '/source/function/function_core.php', 5, 1153, -3, -3, '		$funcs = !$func ? $_G[''setting''][HOOKTYPE][$hscript][$script][$type] : array($func => $_G[''setting''][HOOKTYPE][$hscript][$script][$type][$func]);', -1, '', '', '', 0, ''),
(2439, '/source/function/function_core.php', 5, 1154, -3, -3, '		foreach($funcs as $hookkey => $hookfuncs) {', -1, '', '', '', 0, ''),
(2440, '/source/function/function_core.php', 5, 1155, -3, -3, '			foreach($hookfuncs as $hookfunc) {', -1, '', '', '', 0, ''),
(2441, '/source/function/function_core.php', 5, 1156, -3, -3, '				if($hooksadminid[$hookfunc[0]]) {', -1, '', '', '', 0, ''),
(2442, '/source/function/function_core.php', 5, 1157, -3, -3, '					$classkey = (HOOKTYPE != ''hookscriptmobile'' ? '''' : ''mobile'').''plugin_''.($hookfunc[0].($hscript != ''global'' ? ''_''.$hscript : ''''));', -1, '', '', '', 0, ''),
(2443, '/source/function/function_core.php', 5, 1158, -3, -3, '					if(!class_exists($classkey, false)) {', -1, '', '', '', 0, ''),
(2444, '/source/function/function_core.php', 5, 1159, -3, -3, '						continue;', -1, '', '', '', 0, ''),
(2445, '/source/function/function_core.php', 5, 1160, -3, -3, '					}', -1, '', '', '', 0, ''),
(2446, '/source/function/function_core.php', 5, 1161, -3, -3, '					if(!isset($pluginclasses[$classkey])) {', -1, '', '', '', 0, ''),
(2447, '/source/function/function_core.php', 5, 1162, -3, -3, '						$pluginclasses[$classkey] = new $classkey;', -1, '', '', '', 0, ''),
(2448, '/source/function/function_core.php', 5, 1163, -3, -3, '					}', -1, '', '', '', 0, ''),
(2449, '/source/function/function_core.php', 5, 1164, -3, -3, '					if(!method_exists($pluginclasses[$classkey], $hookfunc[1])) {', -1, '', '', '', 0, ''),
(2450, '/source/function/function_core.php', 5, 1165, -3, -3, '						continue;', -1, '', '', '', 0, ''),
(2451, '/source/function/function_core.php', 5, 1166, -3, -3, '					}', -1, '', '', '', 0, ''),
(2452, '/source/function/function_core.php', 5, 1167, -3, -3, '					$return = $pluginclasses[$classkey]->$hookfunc[1]($param);', -1, '', '', '', 0, ''),
(2453, '/source/function/function_core.php', 5, 1168, -3, -3, '', -1, '', '', '', 0, ''),
(2454, '/source/function/function_core.php', 5, 1169, -3, -3, '					if(substr($hookkey, -7) == ''_extend'' && !empty($_G[''setting''][''pluginhooks''][$hookkey])) {', -1, '', '', '', 0, ''),
(2455, '/source/function/function_core.php', 5, 1170, -3, -3, '						continue;', -1, '', '', '', 0, ''),
(2456, '/source/function/function_core.php', 5, 1171, -3, -3, '					}', -1, '', '', '', 0, ''),
(2457, '/source/function/function_core.php', 5, 1172, -3, -3, '', -1, '', '', '', 0, ''),
(2458, '/source/function/function_core.php', 5, 1173, -3, -3, '					if(is_array($return)) {', -1, '', '', '', 0, ''),
(2459, '/source/function/function_core.php', 5, 1174, -3, -3, '						if(!isset($_G[''setting''][''pluginhooks''][$hookkey]) || is_array($_G[''setting''][''pluginhooks''][$hookkey])) {', -1, '', '', '', 0, ''),
(2460, '/source/function/function_core.php', 5, 1175, -3, -3, '							foreach($return as $k => $v) {', -1, '', '', '', 0, ''),
(2461, '/source/function/function_core.php', 5, 1176, -3, -3, '								$_G[''setting''][''pluginhooks''][$hookkey][$k] .= $v;', -1, '', '', '', 0, ''),
(2462, '/source/function/function_core.php', 5, 1177, -3, -3, '							}', -1, '', '', '', 0, ''),
(2463, '/source/function/function_core.php', 5, 1178, -3, -3, '						} else {', -1, '', '', '', 0, ''),
(2464, '/source/function/function_core.php', 5, 1179, -3, -3, '							foreach($return as $k => $v) {', -1, '', '', '', 0, ''),
(2465, '/source/function/function_core.php', 5, 1180, -3, -3, '								$_G[''setting''][''pluginhooks''][$hookkey][$k] = $v;', -1, '', '', '', 0, ''),
(2466, '/source/function/function_core.php', 5, 1181, -3, -3, '							}', -1, '', '', '', 0, ''),
(2467, '/source/function/function_core.php', 5, 1182, -3, -3, '						}', -1, '', '', '', 0, ''),
(2468, '/source/function/function_core.php', 5, 1183, -3, -3, '					} else {', -1, '', '', '', 0, ''),
(2469, '/source/function/function_core.php', 5, 1184, -3, -3, '						if(!is_array($_G[''setting''][''pluginhooks''][$hookkey])) {', -1, '', '', '', 0, ''),
(2470, '/source/function/function_core.php', 5, 1185, -3, -3, '							$_G[''setting''][''pluginhooks''][$hookkey] .= $return;', -1, '', '', '', 0, ''),
(2471, '/source/function/function_core.php', 5, 1186, -3, -3, '						} else {', -1, '', '', '', 0, ''),
(2472, '/source/function/function_core.php', 5, 1187, -3, -3, '							foreach($_G[''setting''][''pluginhooks''][$hookkey] as $k => $v) {', -1, '', '', '', 0, ''),
(2473, '/source/function/function_core.php', 5, 1188, -3, -3, '								$_G[''setting''][''pluginhooks''][$hookkey][$k] .= $return;', -1, '', '', '', 0, ''),
(2474, '/source/function/function_core.php', 5, 1189, -3, -3, '							}', -1, '', '', '', 0, ''),
(2475, '/source/function/function_core.php', 5, 1190, -3, -3, '						}', -1, '', '', '', 0, ''),
(2476, '/source/function/function_core.php', 5, 1191, -3, -3, '					}', -1, '', '', '', 0, ''),
(2477, '/source/function/function_core.php', 5, 1192, -3, -3, '				}', -1, '', '', '', 0, ''),
(2478, '/source/function/function_core.php', 5, 1193, -3, -3, '			}', -1, '', '', '', 0, ''),
(2479, '/source/function/function_core.php', 5, 1194, -3, -3, '		}', -1, '', '', '', 0, ''),
(2480, '/source/function/function_core.php', 5, 1195, -3, -3, '	}', -1, '', '', '', 0, ''),
(2481, '/source/function/function_core.php', 5, 1196, -3, -3, '	$_G[''inhookscript''] = false;', -1, '', '', '', 0, ''),
(2482, '/source/function/function_core.php', 5, 1197, -3, -3, '}', -1, '', '', '', 0, ''),
(2483, '/source/function/function_core.php', 5, 1198, -3, -3, '', -1, '', '', '', 0, ''),
(2484, '/source/function/function_core.php', 5, 1199, -3, -3, 'function hookscriptoutput($tplfile) {', -1, '', '', '', 0, ''),
(2485, '/source/function/function_core.php', 5, 1200, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2486, '/source/function/function_core.php', 5, 1201, -3, -3, '	if(!empty($_G[''hookscriptoutput''])) {', -1, '', '', '', 0, ''),
(2487, '/source/function/function_core.php', 5, 1202, -3, -3, '		return;', -1, '', '', '', 0, ''),
(2488, '/source/function/function_core.php', 5, 1203, -3, -3, '	}', -1, '', '', '', 0, ''),
(2489, '/source/function/function_core.php', 5, 1204, -3, -3, '	hookscript(''global'', ''global'');', -1, '', '', '', 0, ''),
(2490, '/source/function/function_core.php', 5, 1205, -3, -3, '	if(defined(''CURMODULE'')) {', -1, '', '', '', 0, ''),
(2491, '/source/function/function_core.php', 5, 1206, -3, -3, '		$param = array(''template'' => $tplfile, ''message'' => $_G[''hookscriptmessage''], ''values'' => $_G[''hookscriptvalues'']);', -1, '', '', '', 0, ''),
(2492, '/source/function/function_core.php', 5, 1207, -3, -3, '		hookscript(CURMODULE, $_G[''basescript''], ''outputfuncs'', $param);', -1, '', '', '', 0, ''),
(2493, '/source/function/function_core.php', 5, 1208, -3, -3, '	}', -1, '', '', '', 0, ''),
(2494, '/source/function/function_core.php', 5, 1209, -3, -3, '	$_G[''hookscriptoutput''] = true;', -1, '', '', '', 0, ''),
(2495, '/source/function/function_core.php', 5, 1210, -3, -3, '}', -1, '', '', '', 0, ''),
(2496, '/source/function/function_core.php', 5, 1211, -3, -3, '', -1, '', '', '', 0, ''),
(2497, '/source/function/function_core.php', 5, 1212, -3, -3, 'function pluginmodule($pluginid, $type) {', -1, '', '', '', 0, ''),
(2498, '/source/function/function_core.php', 5, 1213, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2499, '/source/function/function_core.php', 5, 1214, -3, -3, '	$pluginid = $pluginid ? preg_replace("/[^A-Za-z0-9_:]/", '''', $pluginid) : '''';', -1, '', '', '', 0, ''),
(2500, '/source/function/function_core.php', 5, 1215, -3, -3, '	if(!isset($_G[''cache''][''plugin''])) {', -1, '', '', '', 0, ''),
(2501, '/source/function/function_core.php', 5, 1216, -3, -3, '		loadcache(''plugin'');', -1, '', '', '', 0, ''),
(2502, '/source/function/function_core.php', 5, 1217, -3, -3, '	}', -1, '', '', '', 0, ''),
(2503, '/source/function/function_core.php', 5, 1218, -3, -3, '	list($identifier, $module) = explode('':'', $pluginid);', -1, '', '', '', 0, ''),
(2504, '/source/function/function_core.php', 5, 1219, -3, -3, '	if(!is_array($_G[''setting''][''plugins''][$type]) || !array_key_exists($pluginid, $_G[''setting''][''plugins''][$type])) {', -1, '', '', '', 0, ''),
(2505, '/source/function/function_core.php', 5, 1220, -3, -3, '		showmessage(''plugin_nonexistence'');', -1, '', '', '', 0, ''),
(2506, '/source/function/function_core.php', 5, 1221, -3, -3, '	}', -1, '', '', '', 0, ''),
(2507, '/source/function/function_core.php', 5, 1222, -3, -3, '	if(!empty($_G[''setting''][''plugins''][$type][$pluginid][''url''])) {', -1, '', '', '', 0, ''),
(2508, '/source/function/function_core.php', 5, 1223, -3, -3, '		dheader(''location: ''.$_G[''setting''][''plugins''][$type][$pluginid][''url'']);', -1, '', '', '', 0, ''),
(2509, '/source/function/function_core.php', 5, 1224, -3, -3, '	}', -1, '', '', '', 0, ''),
(2510, '/source/function/function_core.php', 5, 1225, -3, -3, '	$directory = $_G[''setting''][''plugins''][$type][$pluginid][''directory''];', -1, '', '', '', 0, ''),
(2511, '/source/function/function_core.php', 5, 1226, -3, -3, '	if(empty($identifier) || !preg_match("/^[a-z]+[a-z0-9_]*\\/$/i", $directory) || !preg_match("/^[a-z0-9_\\-]+$/i", $module)) {', -1, '', '', '', 0, ''),
(2512, '/source/function/function_core.php', 5, 1227, -3, -3, '		showmessage(''undefined_action'');', -1, '', '', '', 0, ''),
(2513, '/source/function/function_core.php', 5, 1228, -3, -3, '	}', -1, '', '', '', 0, ''),
(2514, '/source/function/function_core.php', 5, 1229, -3, -3, '	if(@!file_exists(DISCUZ_ROOT.($modfile = ''./source/plugin/''.$directory.$module.''.inc.php''))) {', -1, '', '', '', 0, ''),
(2515, '/source/function/function_core.php', 5, 1230, -3, -3, '		showmessage(''plugin_module_nonexistence'', '''', array(''mod'' => $modfile));', -1, '', '', '', 0, ''),
(2516, '/source/function/function_core.php', 5, 1231, -3, -3, '	}', -1, '', '', '', 0, ''),
(2517, '/source/function/function_core.php', 5, 1232, -3, -3, '	return DISCUZ_ROOT.$modfile;', -1, '', '', '', 0, ''),
(2518, '/source/function/function_core.php', 5, 1233, -3, -3, '}', -1, '', '', '', 0, ''),
(2519, '/source/function/function_core.php', 5, 1234, -3, -3, 'function updatecreditbyaction($action, $uid = 0, $extrasql = array(), $needle = '''', $coef = 1, $update = 1, $fid = 0) {', -1, '', '', '', 0, ''),
(2520, '/source/function/function_core.php', 5, 1235, -3, -3, '', -1, '', '', '', 0, ''),
(2521, '/source/function/function_core.php', 5, 1236, -3, -3, '	$credit = credit::instance();', -1, '', '', '', 0, ''),
(2522, '/source/function/function_core.php', 5, 1237, -3, -3, '	if($extrasql) {', -1, '', '', '', 0, ''),
(2523, '/source/function/function_core.php', 5, 1238, -3, -3, '		$credit->extrasql = $extrasql;', -1, '', '', '', 0, ''),
(2524, '/source/function/function_core.php', 5, 1239, -3, -3, '	}', -1, '', '', '', 0, ''),
(2525, '/source/function/function_core.php', 5, 1240, -3, -3, '	return $credit->execrule($action, $uid, $needle, $coef, $update, $fid);', -1, '', '', '', 0, ''),
(2526, '/source/function/function_core.php', 5, 1241, -3, -3, '}', -1, '', '', '', 0, ''),
(2527, '/source/function/function_core.php', 5, 1242, -3, -3, '', -1, '', '', '', 0, ''),
(2528, '/source/function/function_core.php', 5, 1243, -3, -3, 'function checklowerlimit($action, $uid = 0, $coef = 1, $fid = 0, $returnonly = 0) {', -1, '', '', '', 0, ''),
(2529, '/source/function/function_core.php', 5, 1244, -3, -3, '	require_once libfile(''function/credit'');', -1, '', '', '', 0, ''),
(2530, '/source/function/function_core.php', 5, 1245, -3, -3, '	return _checklowerlimit($action, $uid, $coef, $fid, $returnonly);', -1, '', '', '', 0, ''),
(2531, '/source/function/function_core.php', 5, 1246, -3, -3, '}', -1, '', '', '', 0, ''),
(2532, '/source/function/function_core.php', 5, 1247, -3, -3, '', -1, '', '', '', 0, ''),
(2533, '/source/function/function_core.php', 5, 1248, -3, -3, 'function batchupdatecredit($action, $uids = 0, $extrasql = array(), $coef = 1, $fid = 0) {', -1, '', '', '', 0, ''),
(2534, '/source/function/function_core.php', 5, 1249, -3, -3, '', -1, '', '', '', 0, ''),
(2535, '/source/function/function_core.php', 5, 1250, -3, -3, '	$credit = & credit::instance();', -1, '', '', '', 0, ''),
(2536, '/source/function/function_core.php', 5, 1251, -3, -3, '	if($extrasql) {', -1, '', '', '', 0, ''),
(2537, '/source/function/function_core.php', 5, 1252, -3, -3, '		$credit->extrasql = $extrasql;', -1, '', '', '', 0, ''),
(2538, '/source/function/function_core.php', 5, 1253, -3, -3, '	}', -1, '', '', '', 0, ''),
(2539, '/source/function/function_core.php', 5, 1254, -3, -3, '	return $credit->updatecreditbyrule($action, $uids, $coef, $fid);', -1, '', '', '', 0, ''),
(2540, '/source/function/function_core.php', 5, 1255, -3, -3, '}', -1, '', '', '', 0, ''),
(2541, '/source/function/function_core.php', 5, 1256, -3, -3, '', -1, '', '', '', 0, ''),
(2542, '/source/function/function_core.php', 5, 1257, -3, -3, '', -1, '', '', '', 0, ''),
(2543, '/source/function/function_core.php', 5, 1258, -3, -3, 'function updatemembercount($uids, $dataarr = array(), $checkgroup = true, $operation = '''', $relatedid = 0, $ruletxt = '''', $customtitle = '''', $custommemo = '''') {', -1, '', '', '', 0, ''),
(2544, '/source/function/function_core.php', 5, 1259, -3, -3, '	if(!empty($uids) && (is_array($dataarr) && $dataarr)) {', -1, '', '', '', 0, ''),
(2545, '/source/function/function_core.php', 5, 1260, -3, -3, '		require_once libfile(''function/credit'');', -1, '', '', '', 0, ''),
(2546, '/source/function/function_core.php', 5, 1261, -3, -3, '		return _updatemembercount($uids, $dataarr, $checkgroup, $operation, $relatedid, $ruletxt, $customtitle, $custommemo);', -1, '', '', '', 0, ''),
(2547, '/source/function/function_core.php', 5, 1262, -3, -3, '	}', -1, '', '', '', 0, ''),
(2548, '/source/function/function_core.php', 5, 1263, -3, -3, '	return true;', -1, '', '', '', 0, ''),
(2549, '/source/function/function_core.php', 5, 1264, -3, -3, '}', -1, '', '', '', 0, ''),
(2550, '/source/function/function_core.php', 5, 1265, -3, -3, '', -1, '', '', '', 0, ''),
(2551, '/source/function/function_core.php', 5, 1266, -3, -3, 'function checkusergroup($uid = 0) {', -1, '', '', '', 0, ''),
(2552, '/source/function/function_core.php', 5, 1267, -3, -3, '	$credit = & credit::instance();', -1, '', '', '', 0, ''),
(2553, '/source/function/function_core.php', 5, 1268, -3, -3, '	$credit->checkusergroup($uid);', -1, '', '', '', 0, ''),
(2554, '/source/function/function_core.php', 5, 1269, -3, -3, '}', -1, '', '', '', 0, ''),
(2555, '/source/function/function_core.php', 5, 1270, -3, -3, '', -1, '', '', '', 0, ''),
(2556, '/source/function/function_core.php', 5, 1271, -3, -3, 'function checkformulasyntax($formula, $operators, $tokens) {', -1, '', '', '', 0, ''),
(2557, '/source/function/function_core.php', 5, 1272, -3, -3, '	$var = implode(''|'', $tokens);', -1, '', '', '', 0, ''),
(2558, '/source/function/function_core.php', 5, 1273, -3, -3, '	$operator = implode('''', $operators);', -1, '', '', '', 0, ''),
(2559, '/source/function/function_core.php', 5, 1274, -3, -3, '', -1, '', '', '', 0, ''),
(2560, '/source/function/function_core.php', 5, 1275, -3, -3, '	$operator = str_replace(', -1, '', '', '', 0, ''),
(2561, '/source/function/function_core.php', 5, 1276, -3, -3, '		array(''+'', ''-'', ''*'', ''/'', ''('', '')'', ''{'', ''}'', ''\\''''),', -1, '', '', '', 0, ''),
(2562, '/source/function/function_core.php', 5, 1277, -3, -3, '		array(''\\+'', ''\\-'', ''\\*'', ''\\/'', ''\\('', ''\\)'', ''\\{'', ''\\}'', ''\\\\\\''''),', -1, '', '', '', 0, ''),
(2563, '/source/function/function_core.php', 5, 1278, -3, -3, '		$operator', -1, '', '', '', 0, ''),
(2564, '/source/function/function_core.php', 5, 1279, -3, -3, '	);', -1, '', '', '', 0, ''),
(2565, '/source/function/function_core.php', 5, 1280, -3, -3, '', -1, '', '', '', 0, ''),
(2566, '/source/function/function_core.php', 5, 1281, -3, -3, '	if(!empty($formula)) {', -1, '', '', '', 0, ''),
(2567, '/source/function/function_core.php', 5, 1282, -3, -3, '		if(!preg_match("/^([$operator\\.\\d\\(\\)]|(($var)([$operator\\(\\)]|$)+))+$/", $formula) || !is_null(eval(preg_replace("/($var)/", "\\$\\\\1", $formula).'';''))){', -1, '', '', '', 0, ''),
(2568, '/source/function/function_core.php', 5, 1283, -3, -3, '			return false;', -1, '', '', '', 0, ''),
(2569, '/source/function/function_core.php', 5, 1284, -3, -3, '		}', -1, '', '', '', 0, ''),
(2570, '/source/function/function_core.php', 5, 1285, -3, -3, '	}', -1, '', '', '', 0, ''),
(2571, '/source/function/function_core.php', 5, 1286, -3, -3, '	return true;', -1, '', '', '', 0, ''),
(2572, '/source/function/function_core.php', 5, 1287, -3, -3, '}', -1, '', '', '', 0, ''),
(2573, '/source/function/function_core.php', 5, 1288, -3, -3, '', -1, '', '', '', 0, ''),
(2574, '/source/function/function_core.php', 5, 1289, -3, -3, 'function checkformulacredits($formula) {', -1, '', '', '', 0, ''),
(2575, '/source/function/function_core.php', 5, 1290, -3, -3, '	return checkformulasyntax(', -1, '', '', '', 0, ''),
(2576, '/source/function/function_core.php', 5, 1291, -3, -3, '		$formula,', -1, '', '', '', 0, ''),
(2577, '/source/function/function_core.php', 5, 1292, -3, -3, '		array(''+'', ''-'', ''*'', ''/'', '' ''),', -1, '', '', '', 0, ''),
(2578, '/source/function/function_core.php', 5, 1293, -3, -3, '		array(''extcredits[1-8]'', ''digestposts'', ''posts'', ''threads'', ''oltime'', ''friends'', ''doings'', ''polls'', ''blogs'', ''albums'', ''sharings'')', -1, '', '', '', 0, ''),
(2579, '/source/function/function_core.php', 5, 1294, -3, -3, '	);', -1, '', '', '', 0, ''),
(2580, '/source/function/function_core.php', 5, 1295, -3, -3, '}', -1, '', '', '', 0, ''),
(2581, '/source/function/function_core.php', 5, 1296, -3, -3, '', -1, '', '', '', 0, ''),
(2582, '/source/function/function_core.php', 5, 1297, -3, -3, 'function debug($var = null, $vardump = false) {', -1, '', '', '', 0, ''),
(2583, '/source/function/function_core.php', 5, 1298, -3, -3, '	echo ''<pre>'';', -1, '', '', '', 0, ''),
(2584, '/source/function/function_core.php', 5, 1299, -3, -3, '	$vardump = empty($var) ? true : $vardump;', -1, '', '', '', 0, ''),
(2585, '/source/function/function_core.php', 5, 1300, -3, -3, '	if($vardump) {', -1, '', '', '', 0, ''),
(2586, '/source/function/function_core.php', 5, 1301, -3, -3, '		var_dump($var);', -1, '', '', '', 0, ''),
(2587, '/source/function/function_core.php', 5, 1302, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2588, '/source/function/function_core.php', 5, 1303, -3, -3, '		print_r($var);', -1, '', '', '', 0, ''),
(2589, '/source/function/function_core.php', 5, 1304, -3, -3, '	}', -1, '', '', '', 0, ''),
(2590, '/source/function/function_core.php', 5, 1305, -3, -3, '	exit();', -1, '', '', '', 0, ''),
(2591, '/source/function/function_core.php', 5, 1306, -3, -3, '}', -1, '', '', '', 0, ''),
(2592, '/source/function/function_core.php', 5, 1307, -3, -3, '', -1, '', '', '', 0, ''),
(2593, '/source/function/function_core.php', 5, 1308, -3, -3, 'function debuginfo() {', -1, '', '', '', 0, ''),
(2594, '/source/function/function_core.php', 5, 1309, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2595, '/source/function/function_core.php', 5, 1310, -3, -3, '	if(getglobal(''setting/debug'')) {', -1, '', '', '', 0, ''),
(2596, '/source/function/function_core.php', 5, 1311, -3, -3, '		$db = & DB::object();', -1, '', '', '', 0, ''),
(2597, '/source/function/function_core.php', 5, 1312, -3, -3, '		$_G[''debuginfo''] = array(', -1, '', '', '', 0, ''),
(2598, '/source/function/function_core.php', 5, 1313, -3, -3, '		    ''time'' => number_format((microtime(true) - $_G[''starttime'']), 6),', -1, '', '', '', 0, ''),
(2599, '/source/function/function_core.php', 5, 1314, -3, -3, '		    ''queries'' => $db->querynum,', -1, '', '', '', 0, ''),
(2600, '/source/function/function_core.php', 5, 1315, -3, -3, '		    ''memory'' => ucwords(C::memory()->type)', -1, '', '', '', 0, ''),
(2601, '/source/function/function_core.php', 5, 1316, -3, -3, '		    );', -1, '', '', '', 0, ''),
(2602, '/source/function/function_core.php', 5, 1317, -3, -3, '		if($db->slaveid) {', -1, '', '', '', 0, ''),
(2603, '/source/function/function_core.php', 5, 1318, -3, -3, '			$_G[''debuginfo''][''queries''] = ''Total ''.$db->querynum.'', Slave ''.$db->slavequery;', -1, '', '', '', 0, ''),
(2604, '/source/function/function_core.php', 5, 1319, -3, -3, '		}', -1, '', '', '', 0, ''),
(2605, '/source/function/function_core.php', 5, 1320, -3, -3, '		return TRUE;', -1, '', '', '', 0, ''),
(2606, '/source/function/function_core.php', 5, 1321, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2607, '/source/function/function_core.php', 5, 1322, -3, -3, '		return FALSE;', -1, '', '', '', 0, ''),
(2608, '/source/function/function_core.php', 5, 1323, -3, -3, '	}', -1, '', '', '', 0, ''),
(2609, '/source/function/function_core.php', 5, 1324, -3, -3, '}', -1, '', '', '', 0, ''),
(2610, '/source/function/function_core.php', 5, 1325, -3, -3, '', -1, '', '', '', 0, ''),
(2611, '/source/function/function_core.php', 5, 1326, -3, -3, 'function getfocus_rand($module) {', -1, '', '', '', 0, ''),
(2612, '/source/function/function_core.php', 5, 1327, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2613, '/source/function/function_core.php', 5, 1328, -3, -3, '', -1, '', '', '', 0, ''),
(2614, '/source/function/function_core.php', 5, 1329, -3, -3, '	if(empty($_G[''setting''][''focus'']) || !array_key_exists($module, $_G[''setting''][''focus'']) || !empty($_G[''cookie''][''nofocus_''.$module]) || !$_G[''setting''][''focus''][$module]) {', -1, '', '', '', 0, ''),
(2615, '/source/function/function_core.php', 5, 1330, -3, -3, '		return null;', -1, '', '', '', 0, ''),
(2616, '/source/function/function_core.php', 5, 1331, -3, -3, '	}', -1, '', '', '', 0, ''),
(2617, '/source/function/function_core.php', 5, 1332, -3, -3, '	loadcache(''focus'');', -1, '', '', '', 0, ''),
(2618, '/source/function/function_core.php', 5, 1333, -3, -3, '	if(empty($_G[''cache''][''focus''][''data'']) || !is_array($_G[''cache''][''focus''][''data''])) {', -1, '', '', '', 0, ''),
(2619, '/source/function/function_core.php', 5, 1334, -3, -3, '		return null;', -1, '', '', '', 0, ''),
(2620, '/source/function/function_core.php', 5, 1335, -3, -3, '	}', -1, '', '', '', 0, ''),
(2621, '/source/function/function_core.php', 5, 1336, -3, -3, '	$focusid = $_G[''setting''][''focus''][$module][array_rand($_G[''setting''][''focus''][$module])];', -1, '', '', '', 0, ''),
(2622, '/source/function/function_core.php', 5, 1337, -3, -3, '	return $focusid;', -1, '', '', '', 0, ''),
(2623, '/source/function/function_core.php', 5, 1338, -3, -3, '}', -1, '', '', '', 0, ''),
(2624, '/source/function/function_core.php', 5, 1339, -3, -3, '', -1, '', '', '', 0, ''),
(2625, '/source/function/function_core.php', 5, 1340, -3, -3, 'function check_seccode($value, $idhash, $fromjs = 0, $modid = '''') {', -1, '', '', '', 0, ''),
(2626, '/source/function/function_core.php', 5, 1341, -3, -3, '	return helper_seccheck::check_seccode($value, $idhash, $fromjs, $modid);', -1, '', '', '', 0, ''),
(2627, '/source/function/function_core.php', 5, 1342, -3, -3, '}', -1, '', '', '', 0, ''),
(2628, '/source/function/function_core.php', 5, 1343, -3, -3, '', -1, '', '', '', 0, ''),
(2629, '/source/function/function_core.php', 5, 1344, -3, -3, 'function check_secqaa($value, $idhash) {', -1, '', '', '', 0, ''),
(2630, '/source/function/function_core.php', 5, 1345, -3, -3, '	return helper_seccheck::check_secqaa($value, $idhash);', -1, '', '', '', 0, ''),
(2631, '/source/function/function_core.php', 5, 1346, -3, -3, '}', -1, '', '', '', 0, ''),
(2632, '/source/function/function_core.php', 5, 1347, -3, -3, '', -1, '', '', '', 0, ''),
(2633, '/source/function/function_core.php', 5, 1348, -3, -3, 'function seccheck($rule, $param = array()) {', -1, '', '', '', 0, ''),
(2634, '/source/function/function_core.php', 5, 1349, -3, -3, '	return helper_seccheck::seccheck($rule, $param);', -1, '', '', '', 0, ''),
(2635, '/source/function/function_core.php', 5, 1350, -3, -3, '}', -1, '', '', '', 0, ''),
(2636, '/source/function/function_core.php', 5, 1351, -3, -3, '', -1, '', '', '', 0, ''),
(2637, '/source/function/function_core.php', 5, 1352, -3, -3, 'function make_seccode($seccode = '''') {', -1, '', '', '', 0, ''),
(2638, '/source/function/function_core.php', 5, 1353, -3, -3, '	return helper_seccheck::make_seccode($seccode);', -1, '', '', '', 0, ''),
(2639, '/source/function/function_core.php', 5, 1354, -3, -3, '}', -1, '', '', '', 0, ''),
(2640, '/source/function/function_core.php', 5, 1355, -3, -3, '', -1, '', '', '', 0, ''),
(2641, '/source/function/function_core.php', 5, 1356, -3, -3, 'function make_secqaa() {', -1, '', '', '', 0, ''),
(2642, '/source/function/function_core.php', 5, 1357, -3, -3, '	return helper_seccheck::make_secqaa();', -1, '', '', '', 0, ''),
(2643, '/source/function/function_core.php', 5, 1358, -3, -3, '}', -1, '', '', '', 0, ''),
(2644, '/source/function/function_core.php', 5, 1359, -3, -3, '', -1, '', '', '', 0, ''),
(2645, '/source/function/function_core.php', 5, 1360, -3, -3, 'function adshow($parameter) {', -1, '', '', '', 0, ''),
(2646, '/source/function/function_core.php', 5, 1361, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2647, '/source/function/function_core.php', 5, 1362, -3, -3, '	if($_G[''inajax''] || $_G[''group''][''closead'']) {', -1, '', '', '', 0, ''),
(2648, '/source/function/function_core.php', 5, 1363, -3, -3, '		return;', -1, '', '', '', 0, ''),
(2649, '/source/function/function_core.php', 5, 1364, -3, -3, '	}', -1, '', '', '', 0, ''),
(2650, '/source/function/function_core.php', 5, 1365, -3, -3, '	if(isset($_G[''config''][''plugindeveloper'']) && $_G[''config''][''plugindeveloper''] == 2) {', -1, '', '', '', 0, ''),
(2651, '/source/function/function_core.php', 5, 1366, -3, -3, '		return ''<hook>[ad ''.$parameter.'']</hook>'';', -1, '', '', '', 0, ''),
(2652, '/source/function/function_core.php', 5, 1367, -3, -3, '	}', -1, '', '', '', 0, ''),
(2653, '/source/function/function_core.php', 5, 1368, -3, -3, '	$params = explode(''/'', $parameter);', -1, '', '', '', 0, ''),
(2654, '/source/function/function_core.php', 5, 1369, -3, -3, '	$customid = 0;', -1, '', '', '', 0, ''),
(2655, '/source/function/function_core.php', 5, 1370, -3, -3, '	$customc = explode(''_'', $params[0]);', -1, '', '', '', 0, ''),
(2656, '/source/function/function_core.php', 5, 1371, -3, -3, '	if($customc[0] == ''custom'') {', -1, '', '', '', 0, ''),
(2657, '/source/function/function_core.php', 5, 1372, -3, -3, '		$params[0] = $customc[0];', -1, '', '', '', 0, ''),
(2658, '/source/function/function_core.php', 5, 1373, -3, -3, '		$customid = $customc[1];', -1, '', '', '', 0, ''),
(2659, '/source/function/function_core.php', 5, 1374, -3, -3, '	}', -1, '', '', '', 0, ''),
(2660, '/source/function/function_core.php', 5, 1375, -3, -3, '	$adcontent = null;', -1, '', '', '', 0, ''),
(2661, '/source/function/function_core.php', 5, 1376, -3, -3, '	if(empty($_G[''setting''][''advtype'']) || !in_array($params[0], $_G[''setting''][''advtype''])) {', -1, '', '', '', 0, ''),
(2662, '/source/function/function_core.php', 5, 1377, -3, -3, '		$adcontent = '''';', -1, '', '', '', 0, ''),
(2663, '/source/function/function_core.php', 5, 1378, -3, -3, '	}', -1, '', '', '', 0, ''),
(2664, '/source/function/function_core.php', 5, 1379, -3, -3, '	if($adcontent === null) {', -1, '', '', '', 0, ''),
(2665, '/source/function/function_core.php', 5, 1380, -3, -3, '		loadcache(''advs'');', -1, '', '', '', 0, ''),
(2666, '/source/function/function_core.php', 5, 1381, -3, -3, '		$adids = array();', -1, '', '', '', 0, ''),
(2667, '/source/function/function_core.php', 5, 1382, -3, -3, '		$evalcode = &$_G[''cache''][''advs''][''evalcode''][$params[0]];', -1, '', '', '', 0, ''),
(2668, '/source/function/function_core.php', 5, 1383, -3, -3, '		$parameters = &$_G[''cache''][''advs''][''parameters''][$params[0]];', -1, '', '', '', 0, ''),
(2669, '/source/function/function_core.php', 5, 1384, -3, -3, '		$codes = &$_G[''cache''][''advs''][''code''][$_G[''basescript'']][$params[0]];', -1, '', '', '', 0, ''),
(2670, '/source/function/function_core.php', 5, 1385, -3, -3, '		if(!empty($codes)) {', -1, '', '', '', 0, ''),
(2671, '/source/function/function_core.php', 5, 1386, -3, -3, '			foreach($codes as $adid => $code) {', -1, '', '', '', 0, ''),
(2672, '/source/function/function_core.php', 5, 1387, -3, -3, '				$parameter = &$parameters[$adid];', -1, '', '', '', 0, ''),
(2673, '/source/function/function_core.php', 5, 1388, -3, -3, '				$checked = true;', -1, '', '', '', 0, ''),
(2674, '/source/function/function_core.php', 5, 1389, -3, -3, '				@eval($evalcode[''check'']);', -1, '', '', '', 0, ''),
(2675, '/source/function/function_core.php', 5, 1390, -3, -3, '				if($checked) {', -1, '', '', '', 0, ''),
(2676, '/source/function/function_core.php', 5, 1391, -3, -3, '					$adids[] = $adid;', -1, '', '', '', 0, ''),
(2677, '/source/function/function_core.php', 5, 1392, -3, -3, '				}', -1, '', '', '', 0, ''),
(2678, '/source/function/function_core.php', 5, 1393, -3, -3, '			}', -1, '', '', '', 0, ''),
(2679, '/source/function/function_core.php', 5, 1394, -3, -3, '			if(!empty($adids)) {', -1, '', '', '', 0, ''),
(2680, '/source/function/function_core.php', 5, 1395, -3, -3, '				$adcode = $extra = '''';', -1, '', '', '', 0, ''),
(2681, '/source/function/function_core.php', 5, 1396, -3, -3, '				@eval($evalcode[''create'']);', -1, '', '', '', 0, ''),
(2682, '/source/function/function_core.php', 5, 1397, -3, -3, '				if(empty($notag)) {', -1, '', '', '', 0, ''),
(2683, '/source/function/function_core.php', 5, 1398, -3, -3, '					$adcontent = ''<div''.($params[1] != '''' ? '' class="''.$params[1].''"'' : '''').$extra.''>''.$adcode.''</div>'';', -1, '', '', '', 0, ''),
(2684, '/source/function/function_core.php', 5, 1399, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(2685, '/source/function/function_core.php', 5, 1400, -3, -3, '					$adcontent = $adcode;', -1, '', '', '', 0, ''),
(2686, '/source/function/function_core.php', 5, 1401, -3, -3, '				}', -1, '', '', '', 0, ''),
(2687, '/source/function/function_core.php', 5, 1402, -3, -3, '			}', -1, '', '', '', 0, ''),
(2688, '/source/function/function_core.php', 5, 1403, -3, -3, '		}', -1, '', '', '', 0, ''),
(2689, '/source/function/function_core.php', 5, 1404, -3, -3, '	}', -1, '', '', '', 0, ''),
(2690, '/source/function/function_core.php', 5, 1405, -3, -3, '	$adfunc = ''ad_''.$params[0];', -1, '', '', '', 0, ''),
(2691, '/source/function/function_core.php', 5, 1406, -3, -3, '	$_G[''setting''][''pluginhooks''][$adfunc] = null;', -1, '', '', '', 0, ''),
(2692, '/source/function/function_core.php', 5, 1407, -3, -3, '	hookscript(''ad'', ''global'', ''funcs'', array(''params'' => $params, ''content'' => $adcontent), $adfunc);', -1, '', '', '', 0, ''),
(2693, '/source/function/function_core.php', 5, 1408, -3, -3, '	if(!$_G[''setting''][''hookscript''][''global''][''ad''][''funcs''][$adfunc]) {', -1, '', '', '', 0, ''),
(2694, '/source/function/function_core.php', 5, 1409, -3, -3, '		hookscript(''ad'', $_G[''basescript''], ''funcs'', array(''params'' => $params, ''content'' => $adcontent), $adfunc);', -1, '', '', '', 0, ''),
(2695, '/source/function/function_core.php', 5, 1410, -3, -3, '	}', -1, '', '', '', 0, ''),
(2696, '/source/function/function_core.php', 5, 1411, -3, -3, '	return $_G[''setting''][''pluginhooks''][$adfunc] === null ? $adcontent : $_G[''setting''][''pluginhooks''][$adfunc];', -1, '', '', '', 0, ''),
(2697, '/source/function/function_core.php', 5, 1412, -3, -3, '}', -1, '', '', '', 0, ''),
(2698, '/source/function/function_core.php', 5, 1413, -3, -3, '', -1, '', '', '', 0, ''),
(2699, '/source/function/function_core.php', 5, 1414, -3, -3, 'function showmessage($message, $url_forward = '''', $values = array(), $extraparam = array(), $custom = 0) {', -1, '', '', '', 0, ''),
(2700, '/source/function/function_core.php', 5, 1415, -3, -3, '	require_once libfile(''function/message'');', -1, '', '', '', 0, ''),
(2701, '/source/function/function_core.php', 5, 1416, -3, -3, '	return dshowmessage($message, $url_forward, $values, $extraparam, $custom);', -1, '', '', '', 0, ''),
(2702, '/source/function/function_core.php', 5, 1417, -3, -3, '}', -1, '', '', '', 0, ''),
(2703, '/source/function/function_core.php', 5, 1418, -3, -3, '', -1, '', '', '', 0, ''),
(2704, '/source/function/function_core.php', 5, 1419, -3, -3, 'function submitcheck($var, $allowget = 0, $seccodecheck = 0, $secqaacheck = 0) {', -1, '', '', '', 0, ''),
(2705, '/source/function/function_core.php', 5, 1420, -3, -3, '	if(!getgpc($var)) {', -1, '', '', '', 0, ''),
(2706, '/source/function/function_core.php', 5, 1421, -3, -3, '		return FALSE;', -1, '', '', '', 0, ''),
(2707, '/source/function/function_core.php', 5, 1422, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2708, '/source/function/function_core.php', 5, 1423, -3, -3, '		return helper_form::submitcheck($var, $allowget, $seccodecheck, $secqaacheck);', -1, '', '', '', 0, ''),
(2709, '/source/function/function_core.php', 5, 1424, -3, -3, '	}', -1, '', '', '', 0, ''),
(2710, '/source/function/function_core.php', 5, 1425, -3, -3, '}', -1, '', '', '', 0, ''),
(2711, '/source/function/function_core.php', 5, 1426, -3, -3, '', -1, '', '', '', 0, ''),
(2712, '/source/function/function_core.php', 5, 1427, -3, -3, 'function multi($num, $perpage, $curpage, $mpurl, $maxpages = 0, $page = 10, $autogoto = FALSE, $simple = FALSE, $jsfunc = FALSE) {', -1, '', '', '', 0, ''),
(2713, '/source/function/function_core.php', 5, 1428, -3, -3, '	return $num > $perpage ? helper_page::multi($num, $perpage, $curpage, $mpurl, $maxpages, $page, $autogoto, $simple, $jsfunc) : '''';', -1, '', '', '', 0, ''),
(2714, '/source/function/function_core.php', 5, 1429, -3, -3, '}', -1, '', '', '', 0, ''),
(2715, '/source/function/function_core.php', 5, 1430, -3, -3, '', -1, '', '', '', 0, ''),
(2716, '/source/function/function_core.php', 5, 1431, -3, -3, 'function simplepage($num, $perpage, $curpage, $mpurl) {', -1, '', '', '', 0, ''),
(2717, '/source/function/function_core.php', 5, 1432, -3, -3, '	return helper_page::simplepage($num, $perpage, $curpage, $mpurl);', -1, '', '', '', 0, ''),
(2718, '/source/function/function_core.php', 5, 1433, -3, -3, '}', -1, '', '', '', 0, ''),
(2719, '/source/function/function_core.php', 5, 1434, -3, -3, '', -1, '', '', '', 0, ''),
(2720, '/source/function/function_core.php', 5, 1435, -3, -3, 'function censor($message, $modword = NULL, $return = FALSE) {', -1, '', '', '', 0, ''),
(2721, '/source/function/function_core.php', 5, 1436, -3, -3, '	return helper_form::censor($message, $modword, $return);', -1, '', '', '', 0, ''),
(2722, '/source/function/function_core.php', 5, 1437, -3, -3, '}', -1, '', '', '', 0, ''),
(2723, '/source/function/function_core.php', 5, 1438, -3, -3, '', -1, '', '', '', 0, ''),
(2724, '/source/function/function_core.php', 5, 1439, -3, -3, 'function censormod($message) {', -1, '', '', '', 0, ''),
(2725, '/source/function/function_core.php', 5, 1440, -3, -3, '	return getglobal(''group/ignorecensor'') || !$message ? false :helper_form::censormod($message);', -1, '', '', '', 0, ''),
(2726, '/source/function/function_core.php', 5, 1441, -3, -3, '}', -1, '', '', '', 0, ''),
(2727, '/source/function/function_core.php', 5, 1442, -3, -3, '', -1, '', '', '', 0, ''),
(2728, '/source/function/function_core.php', 5, 1443, -3, -3, 'function space_merge(&$values, $tablename, $isarchive = false) {', -1, '', '', '', 0, ''),
(2729, '/source/function/function_core.php', 5, 1444, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2730, '/source/function/function_core.php', 5, 1445, -3, -3, '', -1, '', '', '', 0, ''),
(2731, '/source/function/function_core.php', 5, 1446, -3, -3, '	$uid = empty($values[''uid''])?$_G[''uid'']:$values[''uid''];', -1, '', '', '', 0, ''),
(2732, '/source/function/function_core.php', 5, 1447, -3, -3, '	$var = "member_{$uid}_{$tablename}";', -1, '', '', '', 0, ''),
(2733, '/source/function/function_core.php', 5, 1448, -3, -3, '	if($uid) {', -1, '', '', '', 0, ''),
(2734, '/source/function/function_core.php', 5, 1449, -3, -3, '		if(!isset($_G[$var])) {', -1, '', '', '', 0, ''),
(2735, '/source/function/function_core.php', 5, 1450, -3, -3, '			$ext = $isarchive ? ''_archive'' : '''';', -1, '', '', '', 0, ''),
(2736, '/source/function/function_core.php', 5, 1451, -3, -3, '			if(($_G[$var] = C::t(''common_member_''.$tablename.$ext)->fetch($uid)) !== false) {', -1, '', '', '', 0, ''),
(2737, '/source/function/function_core.php', 5, 1452, -3, -3, '				if($tablename == ''field_home'') {', -1, '', '', '', 0, ''),
(2738, '/source/function/function_core.php', 5, 1453, -3, -3, '					$_G[''setting''][''privacy''] = empty($_G[''setting''][''privacy'']) ? array() : (is_array($_G[''setting''][''privacy'']) ? $_G[''setting''][''privacy''] : dunserialize($_G[''setting''][''privacy'']));', -1, '', '', '', 0, ''),
(2739, '/source/function/function_core.php', 5, 1454, -3, -3, '					$_G[$var][''privacy''] = empty($_G[$var][''privacy''])? array() : is_array($_G[$var][''privacy'']) ? $_G[$var][''privacy''] : dunserialize($_G[$var][''privacy'']);', -1, '', '', '', 0, ''),
(2740, '/source/function/function_core.php', 5, 1455, -3, -3, '					foreach (array(''feed'',''view'',''profile'') as $pkey) {', -1, '', '', '', 0, ''),
(2741, '/source/function/function_core.php', 5, 1456, -3, -3, '						if(empty($_G[$var][''privacy''][$pkey]) && !isset($_G[$var][''privacy''][$pkey])) {', -1, '', '', '', 0, ''),
(2742, '/source/function/function_core.php', 5, 1457, -3, -3, '							$_G[$var][''privacy''][$pkey] = isset($_G[''setting''][''privacy''][$pkey]) ? $_G[''setting''][''privacy''][$pkey] : array();', -1, '', '', '', 0, ''),
(2743, '/source/function/function_core.php', 5, 1458, -3, -3, '						}', -1, '', '', '', 0, ''),
(2744, '/source/function/function_core.php', 5, 1459, -3, -3, '					}', -1, '', '', '', 0, ''),
(2745, '/source/function/function_core.php', 5, 1460, -3, -3, '					$_G[$var][''acceptemail''] = empty($_G[$var][''acceptemail''])? array() : dunserialize($_G[$var][''acceptemail'']);', -1, '', '', '', 0, ''),
(2746, '/source/function/function_core.php', 5, 1461, -3, -3, '					if(empty($_G[$var][''acceptemail''])) {', -1, '', '', '', 0, ''),
(2747, '/source/function/function_core.php', 5, 1462, -3, -3, '						$_G[$var][''acceptemail''] = empty($_G[''setting''][''acceptemail''])?array():dunserialize($_G[''setting''][''acceptemail'']);', -1, '', '', '', 0, ''),
(2748, '/source/function/function_core.php', 5, 1463, -3, -3, '					}', -1, '', '', '', 0, ''),
(2749, '/source/function/function_core.php', 5, 1464, -3, -3, '				}', -1, '', '', '', 0, ''),
(2750, '/source/function/function_core.php', 5, 1465, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(2751, '/source/function/function_core.php', 5, 1466, -3, -3, '				C::t(''common_member_''.$tablename.$ext)->insert(array(''uid''=>$uid));', -1, '', '', '', 0, ''),
(2752, '/source/function/function_core.php', 5, 1467, -3, -3, '				$_G[$var] = array();', -1, '', '', '', 0, ''),
(2753, '/source/function/function_core.php', 5, 1468, -3, -3, '			}', -1, '', '', '', 0, ''),
(2754, '/source/function/function_core.php', 5, 1469, -3, -3, '		}', -1, '', '', '', 0, ''),
(2755, '/source/function/function_core.php', 5, 1470, -3, -3, '		$values = array_merge($values, $_G[$var]);', -1, '', '', '', 0, ''),
(2756, '/source/function/function_core.php', 5, 1471, -3, -3, '	}', -1, '', '', '', 0, ''),
(2757, '/source/function/function_core.php', 5, 1472, -3, -3, '}', -1, '', '', '', 0, ''),
(2758, '/source/function/function_core.php', 5, 1473, -3, -3, '', -1, '', '', '', 0, ''),
(2759, '/source/function/function_core.php', 5, 1474, -3, -3, 'function runlog($file, $message, $halt=0) {', -1, '', '', '', 0, ''),
(2760, '/source/function/function_core.php', 5, 1475, -3, -3, '	helper_log::runlog($file, $message, $halt);', -1, '', '', '', 0, ''),
(2761, '/source/function/function_core.php', 5, 1476, -3, -3, '}', -1, '', '', '', 0, ''),
(2762, '/source/function/function_core.php', 5, 1477, -3, -3, '', -1, '', '', '', 0, ''),
(2763, '/source/function/function_core.php', 5, 1478, -3, -3, 'function stripsearchkey($string) {', -1, '', '', '', 0, ''),
(2764, '/source/function/function_core.php', 5, 1479, -3, -3, '	$string = trim($string);', -1, '', '', '', 0, ''),
(2765, '/source/function/function_core.php', 5, 1480, -3, -3, '	$string = str_replace(''*'', ''%'', addcslashes($string, ''%_''));', -1, '', '', '', 0, ''),
(2766, '/source/function/function_core.php', 5, 1481, -3, -3, '	return $string;', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(2767, '/source/function/function_core.php', 5, 1482, -3, -3, '}', -1, '', '', '', 0, ''),
(2768, '/source/function/function_core.php', 5, 1483, -3, -3, '', -1, '', '', '', 0, ''),
(2769, '/source/function/function_core.php', 5, 1484, -3, -3, 'function dmkdir($dir, $mode = 0777, $makeindex = TRUE){', -1, '', '', '', 0, ''),
(2770, '/source/function/function_core.php', 5, 1485, -3, -3, '	if(!is_dir($dir)) {', -1, '', '', '', 0, ''),
(2771, '/source/function/function_core.php', 5, 1486, -3, -3, '		dmkdir(dirname($dir), $mode, $makeindex);', -1, '', '', '', 0, ''),
(2772, '/source/function/function_core.php', 5, 1487, -3, -3, '		@mkdir($dir, $mode);', -1, '', '', '', 0, ''),
(2773, '/source/function/function_core.php', 5, 1488, -3, -3, '		if(!empty($makeindex)) {', -1, '', '', '', 0, ''),
(2774, '/source/function/function_core.php', 5, 1489, -3, -3, '			@touch($dir.''/index.html''); @chmod($dir.''/index.html'', 0777);', -1, '', '', '', 0, ''),
(2775, '/source/function/function_core.php', 5, 1490, -3, -3, '		}', -1, '', '', '', 0, ''),
(2776, '/source/function/function_core.php', 5, 1491, -3, -3, '	}', -1, '', '', '', 0, ''),
(2777, '/source/function/function_core.php', 5, 1492, -3, -3, '	return true;', -1, '', '', '', 0, ''),
(2778, '/source/function/function_core.php', 5, 1493, -3, -3, '}', -1, '', '', '', 0, ''),
(2779, '/source/function/function_core.php', 5, 1494, -3, -3, '', -1, '', '', '', 0, ''),
(2780, '/source/function/function_core.php', 5, 1495, -3, -3, 'function dreferer($default = '''') {', -1, '', '', '', 0, ''),
(2781, '/source/function/function_core.php', 5, 1496, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2782, '/source/function/function_core.php', 5, 1497, -3, -3, '', -1, '', '', '', 0, ''),
(2783, '/source/function/function_core.php', 5, 1498, -3, -3, '	$default = empty($default) && $_ENV[''curapp''] ? $_ENV[''curapp''].''.php'' : '''';', -1, '', '', '', 0, ''),
(2784, '/source/function/function_core.php', 5, 1499, -3, -3, '	$_G[''referer''] = !empty($_GET[''referer'']) ? $_GET[''referer''] : $_SERVER[''HTTP_REFERER''];', -1, '', '', '', 0, ''),
(2785, '/source/function/function_core.php', 5, 1500, -3, -3, '	$_G[''referer''] = substr($_G[''referer''], -1) == ''?'' ? substr($_G[''referer''], 0, -1) : $_G[''referer''];', -1, '', '', '', 0, ''),
(2786, '/source/function/function_core.php', 5, 1501, -3, -3, '', -1, '', '', '', 0, ''),
(2787, '/source/function/function_core.php', 5, 1502, -3, -3, '	if(strpos($_G[''referer''], ''member.php?mod=logging'')) {', -1, '', '', '', 0, ''),
(2788, '/source/function/function_core.php', 5, 1503, -3, -3, '		$_G[''referer''] = $default;', -1, '', '', '', 0, ''),
(2789, '/source/function/function_core.php', 5, 1504, -3, -3, '	}', -1, '', '', '', 0, ''),
(2790, '/source/function/function_core.php', 5, 1505, -3, -3, '', -1, '', '', '', 0, ''),
(2791, '/source/function/function_core.php', 5, 1506, -3, -3, '	$reurl = parse_url($_G[''referer'']);', -1, '', '', '', 0, ''),
(2792, '/source/function/function_core.php', 5, 1507, -3, -3, '', -1, '', '', '', 0, ''),
(2793, '/source/function/function_core.php', 5, 1508, -3, -3, '	if(!$reurl || (isset($reurl[''scheme'']) && !in_array(strtolower($reurl[''scheme'']), array(''http'', ''https'')))) {', -1, '', '', '', 0, ''),
(2794, '/source/function/function_core.php', 5, 1509, -3, -3, '		$_G[''referer''] = '''';', -1, '', '', '', 0, ''),
(2795, '/source/function/function_core.php', 5, 1510, -3, -3, '	}', -1, '', '', '', 0, ''),
(2796, '/source/function/function_core.php', 5, 1511, -3, -3, '', -1, '', '', '', 0, ''),
(2797, '/source/function/function_core.php', 5, 1512, -3, -3, '	if(!empty($reurl[''host'']) && !in_array($reurl[''host''], array($_SERVER[''HTTP_HOST''], ''www.''.$_SERVER[''HTTP_HOST''])) && !in_array($_SERVER[''HTTP_HOST''], array($reurl[''host''], ''www.''.$reurl[''host'']))) {', -1, '', '', '', 0, ''),
(2798, '/source/function/function_core.php', 5, 1513, -3, -3, '		if(!in_array($reurl[''host''], $_G[''setting''][''domain''][''app'']) && !isset($_G[''setting''][''domain''][''list''][$reurl[''host'']])) {', -1, '', '', '', 0, ''),
(2799, '/source/function/function_core.php', 5, 1514, -3, -3, '			$domainroot = substr($reurl[''host''], strpos($reurl[''host''], ''.'')+1);', -1, '', '', '', 0, ''),
(2800, '/source/function/function_core.php', 5, 1515, -3, -3, '			if(empty($_G[''setting''][''domain''][''root'']) || (is_array($_G[''setting''][''domain''][''root'']) && !in_array($domainroot, $_G[''setting''][''domain''][''root'']))) {', -1, '', '', '', 0, ''),
(2801, '/source/function/function_core.php', 5, 1516, -3, -3, '				$_G[''referer''] = $_G[''setting''][''domain''][''defaultindex''] ? $_G[''setting''][''domain''][''defaultindex''] : ''index.php'';', -1, '', '', '', 0, ''),
(2802, '/source/function/function_core.php', 5, 1517, -3, -3, '			}', -1, '', '', '', 0, ''),
(2803, '/source/function/function_core.php', 5, 1518, -3, -3, '		}', -1, '', '', '', 0, ''),
(2804, '/source/function/function_core.php', 5, 1519, -3, -3, '	} elseif(empty($reurl[''host''])) {', -1, '', '', '', 0, ''),
(2805, '/source/function/function_core.php', 5, 1520, -3, -3, '		$_G[''referer''] = $_G[''siteurl''].''./''.$_G[''referer''];', -1, '', '', '', 0, ''),
(2806, '/source/function/function_core.php', 5, 1521, -3, -3, '	}', -1, '', '', '', 0, ''),
(2807, '/source/function/function_core.php', 5, 1522, -3, -3, '', -1, '', '', '', 0, ''),
(2808, '/source/function/function_core.php', 5, 1523, -3, -3, '	$_G[''referer''] = durlencode($_G[''referer'']);', -1, '', '', '', 0, ''),
(2809, '/source/function/function_core.php', 5, 1524, -3, -3, '	return$_G[''referer''];', -1, '', '', '', 0, ''),
(2810, '/source/function/function_core.php', 5, 1525, -3, -3, '}', -1, '', '', '', 0, ''),
(2811, '/source/function/function_core.php', 5, 1526, -3, -3, '', -1, '', '', '', 0, ''),
(2812, '/source/function/function_core.php', 5, 1527, -3, -3, 'function ftpcmd($cmd, $arg1 = '''') {', -1, '', '', '', 0, ''),
(2813, '/source/function/function_core.php', 5, 1528, -3, -3, '	static $ftp;', -1, '', '', '', 0, ''),
(2814, '/source/function/function_core.php', 5, 1529, -3, -3, '	$ftpon = getglobal(''setting/ftp/on'');', -1, '', '', '', 0, ''),
(2815, '/source/function/function_core.php', 5, 1530, -3, -3, '	if(!$ftpon) {', -1, '', '', '', 0, ''),
(2816, '/source/function/function_core.php', 5, 1531, -3, -3, '		return $cmd == ''error'' ? -101 : 0;', -1, '', '', '', 0, ''),
(2817, '/source/function/function_core.php', 5, 1532, -3, -3, '	} elseif($ftp == null) {', -1, '', '', '', 0, ''),
(2818, '/source/function/function_core.php', 5, 1533, -3, -3, '		$ftp = & discuz_ftp::instance();', -1, '', '', '', 0, ''),
(2819, '/source/function/function_core.php', 5, 1534, -3, -3, '	}', -1, '', '', '', 0, ''),
(2820, '/source/function/function_core.php', 5, 1535, -3, -3, '	if(!$ftp->enabled) {', -1, '', '', '', 0, ''),
(2821, '/source/function/function_core.php', 5, 1536, -3, -3, '		return $ftp->error();', -1, '', '', '', 0, ''),
(2822, '/source/function/function_core.php', 5, 1537, -3, -3, '	} elseif($ftp->enabled && !$ftp->connectid) {', -1, '', '', '', 0, ''),
(2823, '/source/function/function_core.php', 5, 1538, -3, -3, '		$ftp->connect();', -1, '', '', '', 0, ''),
(2824, '/source/function/function_core.php', 5, 1539, -3, -3, '	}', -1, '', '', '', 0, ''),
(2825, '/source/function/function_core.php', 5, 1540, -3, -3, '	switch ($cmd) {', -1, '', '', '', 0, ''),
(2826, '/source/function/function_core.php', 5, 1541, -3, -3, '		case ''upload'' : return $ftp->upload(getglobal(''setting/attachdir'').''/''.$arg1, $arg1); break;', -1, '', '', '', 0, ''),
(2827, '/source/function/function_core.php', 5, 1542, -3, -3, '		case ''delete'' : return $ftp->ftp_delete($arg1); break;', -1, '', '', '', 0, ''),
(2828, '/source/function/function_core.php', 5, 1543, -3, -3, '		case ''close''  : return $ftp->ftp_close(); break;', -1, '', '', '', 0, ''),
(2829, '/source/function/function_core.php', 5, 1544, -3, -3, '		case ''error''  : return $ftp->error(); break;', -1, '', '', '', 0, ''),
(2830, '/source/function/function_core.php', 5, 1545, -3, -3, '		case ''object'' : return $ftp; break;', -1, '', '', '', 0, ''),
(2831, '/source/function/function_core.php', 5, 1546, -3, -3, '		default       : return false;', -1, '', '', '', 0, ''),
(2832, '/source/function/function_core.php', 5, 1547, -3, -3, '	}', -1, '', '', '', 0, ''),
(2833, '/source/function/function_core.php', 5, 1548, -3, -3, '', -1, '', '', '', 0, ''),
(2834, '/source/function/function_core.php', 5, 1549, -3, -3, '}', -1, '', '', '', 0, ''),
(2835, '/source/function/function_core.php', 5, 1550, -3, -3, '', -1, '', '', '', 0, ''),
(2836, '/source/function/function_core.php', 5, 1551, -3, -3, 'function diconv($str, $in_charset, $out_charset = CHARSET, $ForceTable = FALSE) {', -1, '', '', '', 0, ''),
(2837, '/source/function/function_core.php', 5, 1552, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2838, '/source/function/function_core.php', 5, 1553, -3, -3, '', -1, '', '', '', 0, ''),
(2839, '/source/function/function_core.php', 5, 1554, -3, -3, '	$in_charset = strtoupper($in_charset);', -1, '', '', '', 0, ''),
(2840, '/source/function/function_core.php', 5, 1555, -3, -3, '	$out_charset = strtoupper($out_charset);', -1, '', '', '', 0, ''),
(2841, '/source/function/function_core.php', 5, 1556, -3, -3, '', -1, '', '', '', 0, ''),
(2842, '/source/function/function_core.php', 5, 1557, -3, -3, '	if(empty($str) || $in_charset == $out_charset) {', -1, '', '', '', 0, ''),
(2843, '/source/function/function_core.php', 5, 1558, -3, -3, '		return $str;', -1, '', '', '', 0, ''),
(2844, '/source/function/function_core.php', 5, 1559, -3, -3, '	}', -1, '', '', '', 0, ''),
(2845, '/source/function/function_core.php', 5, 1560, -3, -3, '', -1, '', '', '', 0, ''),
(2846, '/source/function/function_core.php', 5, 1561, -3, -3, '	$out = '''';', -1, '', '', '', 0, ''),
(2847, '/source/function/function_core.php', 5, 1562, -3, -3, '', -1, '', '', '', 0, ''),
(2848, '/source/function/function_core.php', 5, 1563, -3, -3, '	if(!$ForceTable) {', -1, '', '', '', 0, ''),
(2849, '/source/function/function_core.php', 5, 1564, -3, -3, '		if(function_exists(''iconv'')) {', -1, '', '', '', 0, ''),
(2850, '/source/function/function_core.php', 5, 1565, -3, -3, '			$out = iconv($in_charset, $out_charset.''//IGNORE'', $str);', -1, '', '', '', 0, ''),
(2851, '/source/function/function_core.php', 5, 1566, -3, -3, '		} elseif(function_exists(''mb_convert_encoding'')) {', -1, '', '', '', 0, ''),
(2852, '/source/function/function_core.php', 5, 1567, -3, -3, '			$out = mb_convert_encoding($str, $out_charset, $in_charset);', -1, '', '', '', 0, ''),
(2853, '/source/function/function_core.php', 5, 1568, -3, -3, '		}', -1, '', '', '', 0, ''),
(2854, '/source/function/function_core.php', 5, 1569, -3, -3, '	}', -1, '', '', '', 0, ''),
(2855, '/source/function/function_core.php', 5, 1570, -3, -3, '', -1, '', '', '', 0, ''),
(2856, '/source/function/function_core.php', 5, 1571, -3, -3, '	if($out == '''') {', -1, '', '', '', 0, ''),
(2857, '/source/function/function_core.php', 5, 1572, -3, -3, '		$chinese = new Chinese($in_charset, $out_charset, true);', -1, '', '', '', 0, ''),
(2858, '/source/function/function_core.php', 5, 1573, -3, -3, '		$out = $chinese->Convert($str);', -1, '', '', '', 0, ''),
(2859, '/source/function/function_core.php', 5, 1574, -3, -3, '	}', -1, '', '', '', 0, ''),
(2860, '/source/function/function_core.php', 5, 1575, -3, -3, '', -1, '', '', '', 0, ''),
(2861, '/source/function/function_core.php', 5, 1576, -3, -3, '	return $out;', -1, '', '', '', 0, ''),
(2862, '/source/function/function_core.php', 5, 1577, -3, -3, '}', -1, '', '', '', 0, ''),
(2863, '/source/function/function_core.php', 5, 1578, -3, -3, '', -1, '', '', '', 0, ''),
(2864, '/source/function/function_core.php', 5, 1579, -3, -3, 'function widthauto() {', -1, '', '', '', 0, ''),
(2865, '/source/function/function_core.php', 5, 1580, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2866, '/source/function/function_core.php', 5, 1581, -3, -3, '	if($_G[''disabledwidthauto'']) {', -1, '', '', '', 0, ''),
(2867, '/source/function/function_core.php', 5, 1582, -3, -3, '		return 0;', -1, '', '', '', 0, ''),
(2868, '/source/function/function_core.php', 5, 1583, -3, -3, '	}', -1, '', '', '', 0, ''),
(2869, '/source/function/function_core.php', 5, 1584, -3, -3, '	if(!empty($_G[''widthauto''])) {', -1, '', '', '', 0, ''),
(2870, '/source/function/function_core.php', 5, 1585, -3, -3, '		return $_G[''widthauto''] > 0 ? 1 : 0;', -1, '', '', '', 0, ''),
(2871, '/source/function/function_core.php', 5, 1586, -3, -3, '	}', -1, '', '', '', 0, ''),
(2872, '/source/function/function_core.php', 5, 1587, -3, -3, '	if($_G[''setting''][''switchwidthauto''] && !empty($_G[''cookie''][''widthauto''])) {', -1, '', '', '', 0, ''),
(2873, '/source/function/function_core.php', 5, 1588, -3, -3, '		return $_G[''cookie''][''widthauto''] > 0 ? 1 : 0;', -1, '', '', '', 0, ''),
(2874, '/source/function/function_core.php', 5, 1589, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2875, '/source/function/function_core.php', 5, 1590, -3, -3, '		return $_G[''setting''][''allowwidthauto''] ? 0 : 1;', -1, '', '', '', 0, ''),
(2876, '/source/function/function_core.php', 5, 1591, -3, -3, '	}', -1, '', '', '', 0, ''),
(2877, '/source/function/function_core.php', 5, 1592, -3, -3, '}', -1, '', '', '', 0, ''),
(2878, '/source/function/function_core.php', 5, 1593, -3, -3, 'function renum($array) {', -1, '', '', '', 0, ''),
(2879, '/source/function/function_core.php', 5, 1594, -3, -3, '	$newnums = $nums = array();', -1, '', '', '', 0, ''),
(2880, '/source/function/function_core.php', 5, 1595, -3, -3, '	foreach ($array as $id => $num) {', -1, '', '', '', 0, ''),
(2881, '/source/function/function_core.php', 5, 1596, -3, -3, '		$newnums[$num][] = $id;', -1, '', '', '', 0, ''),
(2882, '/source/function/function_core.php', 5, 1597, -3, -3, '		$nums[$num] = $num;', -1, '', '', '', 0, ''),
(2883, '/source/function/function_core.php', 5, 1598, -3, -3, '	}', -1, '', '', '', 0, ''),
(2884, '/source/function/function_core.php', 5, 1599, -3, -3, '	return array($nums, $newnums);', -1, '', '', '', 0, ''),
(2885, '/source/function/function_core.php', 5, 1600, -3, -3, '}', -1, '', '', '', 0, ''),
(2886, '/source/function/function_core.php', 5, 1601, -3, -3, '', -1, '', '', '', 0, ''),
(2887, '/source/function/function_core.php', 5, 1602, -3, -3, 'function sizecount($size) {', -1, '', '', '', 0, ''),
(2888, '/source/function/function_core.php', 5, 1603, -3, -3, '	if($size >= 1073741824) {', -1, '', '', '', 0, ''),
(2889, '/source/function/function_core.php', 5, 1604, -3, -3, '		$size = round($size / 1073741824 * 100) / 100 . '' GB'';', -1, '', '', '', 0, ''),
(2890, '/source/function/function_core.php', 5, 1605, -3, -3, '	} elseif($size >= 1048576) {', -1, '', '', '', 0, ''),
(2891, '/source/function/function_core.php', 5, 1606, -3, -3, '		$size = round($size / 1048576 * 100) / 100 . '' MB'';', -1, '', '', '', 0, ''),
(2892, '/source/function/function_core.php', 5, 1607, -3, -3, '	} elseif($size >= 1024) {', -1, '', '', '', 0, ''),
(2893, '/source/function/function_core.php', 5, 1608, -3, -3, '		$size = round($size / 1024 * 100) / 100 . '' KB'';', -1, '', '', '', 0, ''),
(2894, '/source/function/function_core.php', 5, 1609, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2895, '/source/function/function_core.php', 5, 1610, -3, -3, '		$size = intval($size) . '' Bytes'';', -1, '', '', '', 0, ''),
(2896, '/source/function/function_core.php', 5, 1611, -3, -3, '	}', -1, '', '', '', 0, ''),
(2897, '/source/function/function_core.php', 5, 1612, -3, -3, '	return $size;', -1, '', '', '', 0, ''),
(2898, '/source/function/function_core.php', 5, 1613, -3, -3, '}', -1, '', '', '', 0, ''),
(2899, '/source/function/function_core.php', 5, 1614, -3, -3, '', -1, '', '', '', 0, ''),
(2900, '/source/function/function_core.php', 5, 1615, -3, -3, 'function swapclass($class1, $class2 = '''') {', -1, '', '', '', 0, ''),
(2901, '/source/function/function_core.php', 5, 1616, -3, -3, '	static $swapc = null;', -1, '', '', '', 0, ''),
(2902, '/source/function/function_core.php', 5, 1617, -3, -3, '	$swapc = isset($swapc) && $swapc != $class1 ? $class1 : $class2;', -1, '', '', '', 0, ''),
(2903, '/source/function/function_core.php', 5, 1618, -3, -3, '	return $swapc;', -1, '', '', '', 0, ''),
(2904, '/source/function/function_core.php', 5, 1619, -3, -3, '}', -1, '', '', '', 0, ''),
(2905, '/source/function/function_core.php', 5, 1620, -3, -3, '', -1, '', '', '', 0, ''),
(2906, '/source/function/function_core.php', 5, 1621, -3, -3, 'function writelog($file, $log) {', -1, '', '', '', 0, ''),
(2907, '/source/function/function_core.php', 5, 1622, -3, -3, '	helper_log::writelog($file, $log);', -1, '', '', '', 0, ''),
(2908, '/source/function/function_core.php', 5, 1623, -3, -3, '}', -1, '', '', '', 0, ''),
(2909, '/source/function/function_core.php', 5, 1624, -3, -3, '', -1, '', '', '', 0, ''),
(2910, '/source/function/function_core.php', 5, 1625, -3, -3, 'function getstatus($status, $position) {', -1, '', '', '', 0, ''),
(2911, '/source/function/function_core.php', 5, 1626, -3, -3, '	$t = $status & pow(2, $position - 1) ? 1 : 0;', -1, '', '', '', 0, ''),
(2912, '/source/function/function_core.php', 5, 1627, -3, -3, '	return $t;', -1, '', '', '', 0, ''),
(2913, '/source/function/function_core.php', 5, 1628, -3, -3, '}', -1, '', '', '', 0, ''),
(2914, '/source/function/function_core.php', 5, 1629, -3, -3, '', -1, '', '', '', 0, ''),
(2915, '/source/function/function_core.php', 5, 1630, -3, -3, 'function setstatus($position, $value, $baseon = null) {', -1, '', '', '', 0, ''),
(2916, '/source/function/function_core.php', 5, 1631, -3, -3, '	$t = pow(2, $position - 1);', -1, '', '', '', 0, ''),
(2917, '/source/function/function_core.php', 5, 1632, -3, -3, '	if($value) {', -1, '', '', '', 0, ''),
(2918, '/source/function/function_core.php', 5, 1633, -3, -3, '		$t = $baseon | $t;', -1, '', '', '', 0, ''),
(2919, '/source/function/function_core.php', 5, 1634, -3, -3, '	} elseif ($baseon !== null) {', -1, '', '', '', 0, ''),
(2920, '/source/function/function_core.php', 5, 1635, -3, -3, '		$t = $baseon & ~$t;', -1, '', '', '', 0, ''),
(2921, '/source/function/function_core.php', 5, 1636, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2922, '/source/function/function_core.php', 5, 1637, -3, -3, '		$t = ~$t;', -1, '', '', '', 0, ''),
(2923, '/source/function/function_core.php', 5, 1638, -3, -3, '	}', -1, '', '', '', 0, ''),
(2924, '/source/function/function_core.php', 5, 1639, -3, -3, '	return $t & 0xFFFF;', -1, '', '', '', 0, ''),
(2925, '/source/function/function_core.php', 5, 1640, -3, -3, '}', -1, '', '', '', 0, ''),
(2926, '/source/function/function_core.php', 5, 1641, -3, -3, '', -1, '', '', '', 0, ''),
(2927, '/source/function/function_core.php', 5, 1642, -3, -3, 'function notification_add($touid, $type, $note, $notevars = array(), $system = 0) {', -1, '', '', '', 0, ''),
(2928, '/source/function/function_core.php', 5, 1643, -3, -3, '	return helper_notification::notification_add($touid, $type, $note, $notevars, $system);', -1, '', '', '', 0, ''),
(2929, '/source/function/function_core.php', 5, 1644, -3, -3, '}', -1, '', '', '', 0, ''),
(2930, '/source/function/function_core.php', 5, 1645, -3, -3, '', -1, '', '', '', 0, ''),
(2931, '/source/function/function_core.php', 5, 1646, -3, -3, 'function manage_addnotify($type, $from_num = 0, $langvar = array()) {', -1, '', '', '', 0, ''),
(2932, '/source/function/function_core.php', 5, 1647, -3, -3, '	helper_notification::manage_addnotify($type, $from_num, $langvar);', -1, '', '', '', 0, ''),
(2933, '/source/function/function_core.php', 5, 1648, -3, -3, '}', -1, '', '', '', 0, ''),
(2934, '/source/function/function_core.php', 5, 1649, -3, -3, '', -1, '', '', '', 0, ''),
(2935, '/source/function/function_core.php', 5, 1650, -3, -3, 'function sendpm($toid, $subject, $message, $fromid = '''', $replypmid = 0, $isusername = 0, $type = 0) {', -1, '', '', '', 0, ''),
(2936, '/source/function/function_core.php', 5, 1651, -3, -3, '	return helper_pm::sendpm($toid, $subject, $message, $fromid, $replypmid, $isusername, $type);', -1, '', '', '', 0, ''),
(2937, '/source/function/function_core.php', 5, 1652, -3, -3, '}', -1, '', '', '', 0, ''),
(2938, '/source/function/function_core.php', 5, 1653, -3, -3, '', -1, '', '', '', 0, ''),
(2939, '/source/function/function_core.php', 5, 1654, -3, -3, 'function g_icon($groupid, $return = 0) {', -1, '', '', '', 0, ''),
(2940, '/source/function/function_core.php', 5, 1655, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2941, '/source/function/function_core.php', 5, 1656, -3, -3, '	if(empty($_G[''cache''][''usergroups''][$groupid][''icon''])) {', -1, '', '', '', 0, ''),
(2942, '/source/function/function_core.php', 5, 1657, -3, -3, '		$s =  '''';', -1, '', '', '', 0, ''),
(2943, '/source/function/function_core.php', 5, 1658, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2944, '/source/function/function_core.php', 5, 1659, -3, -3, '		if(substr($_G[''cache''][''usergroups''][$groupid][''icon''], 0, 5) == ''http:'') {', -1, '', '', '', 0, ''),
(2945, '/source/function/function_core.php', 5, 1660, -3, -3, '			$s = ''<img src="''.$_G[''cache''][''usergroups''][$groupid][''icon''].''" alt="" class="vm" />'';', -1, '', '', '', 0, ''),
(2946, '/source/function/function_core.php', 5, 1661, -3, -3, '		} else {', -1, '', '', '', 0, ''),
(2947, '/source/function/function_core.php', 5, 1662, -3, -3, '			$s = ''<img src="''.$_G[''setting''][''attachurl''].''common/''.$_G[''cache''][''usergroups''][$groupid][''icon''].''" alt="" class="vm" />'';', -1, '', '', '', 0, ''),
(2948, '/source/function/function_core.php', 5, 1663, -3, -3, '		}', -1, '', '', '', 0, ''),
(2949, '/source/function/function_core.php', 5, 1664, -3, -3, '	}', -1, '', '', '', 0, ''),
(2950, '/source/function/function_core.php', 5, 1665, -3, -3, '	if($return) {', -1, '', '', '', 0, ''),
(2951, '/source/function/function_core.php', 5, 1666, -3, -3, '		return $s;', -1, '', '', '', 0, ''),
(2952, '/source/function/function_core.php', 5, 1667, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(2953, '/source/function/function_core.php', 5, 1668, -3, -3, '		echo $s;', -1, '', '', '', 0, ''),
(2954, '/source/function/function_core.php', 5, 1669, -3, -3, '	}', -1, '', '', '', 0, ''),
(2955, '/source/function/function_core.php', 5, 1670, -3, -3, '}', -1, '', '', '', 0, ''),
(2956, '/source/function/function_core.php', 5, 1671, -3, -3, 'function updatediytemplate($targettplname = '''', $tpldirectory = '''') {', -1, '', '', '', 0, ''),
(2957, '/source/function/function_core.php', 5, 1672, -3, -3, '	$r = false;', -1, '', '', '', 0, ''),
(2958, '/source/function/function_core.php', 5, 1673, -3, -3, '	$alldata = !empty($targettplname) ? array( C::t(''common_diy_data'')->fetch($targettplname, $tpldirectory)) : C::t(''common_diy_data'')->range();', -1, '', '', '', 0, ''),
(2959, '/source/function/function_core.php', 5, 1674, -3, -3, '	require_once libfile(''function/portalcp'');', -1, '', '', '', 0, ''),
(2960, '/source/function/function_core.php', 5, 1675, -3, -3, '	foreach($alldata as $value) {', -1, '', '', '', 0, ''),
(2961, '/source/function/function_core.php', 5, 1676, -3, -3, '		$r = save_diy_data($value[''tpldirectory''], $value[''primaltplname''], $value[''targettplname''], dunserialize($value[''diycontent'']));', -1, '', '', '', 0, ''),
(2962, '/source/function/function_core.php', 5, 1677, -3, -3, '	}', -1, '', '', '', 0, ''),
(2963, '/source/function/function_core.php', 5, 1678, -3, -3, '	return $r;', -1, '', '', '', 0, ''),
(2964, '/source/function/function_core.php', 5, 1679, -3, -3, '}', -1, '', '', '', 0, ''),
(2965, '/source/function/function_core.php', 5, 1680, -3, -3, '', -1, '', '', '', 0, ''),
(2966, '/source/function/function_core.php', 5, 1681, -3, -3, 'function space_key($uid, $appid=0) {', -1, '', '', '', 0, ''),
(2967, '/source/function/function_core.php', 5, 1682, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(2968, '/source/function/function_core.php', 5, 1683, -3, -3, '	return substr(md5($_G[''setting''][''siteuniqueid''].''|''.$uid.(empty($appid)?'''':''|''.$appid)), 8, 16);', -1, '', '', '', 0, ''),
(2969, '/source/function/function_core.php', 5, 1684, -3, -3, '}', -1, '', '', '', 0, ''),
(2970, '/source/function/function_core.php', 5, 1685, -3, -3, '', -1, '', '', '', 0, ''),
(2971, '/source/function/function_core.php', 5, 1686, -3, -3, '', -1, '', '', '', 0, ''),
(2972, '/source/function/function_core.php', 5, 1687, -3, -3, 'function getposttablebytid($tids, $primary = 0) {', -1, '', '', '', 0, ''),
(2973, '/source/function/function_core.php', 5, 1688, -3, -3, '	return table_forum_post::getposttablebytid($tids, $primary);', -1, '', '', '', 0, ''),
(2974, '/source/function/function_core.php', 5, 1689, -3, -3, '}', -1, '', '', '', 0, ''),
(2975, '/source/function/function_core.php', 5, 1690, -3, -3, '', -1, '', '', '', 0, ''),
(2976, '/source/function/function_core.php', 5, 1691, -3, -3, 'function getposttable($tableid = 0, $prefix = false) {', -1, '', '', '', 0, ''),
(2977, '/source/function/function_core.php', 5, 1692, -3, -3, '	return table_forum_post::getposttable($tableid, $prefix);', -1, '', '', '', 0, ''),
(2978, '/source/function/function_core.php', 5, 1693, -3, -3, '}', -1, '', '', '', 0, ''),
(2979, '/source/function/function_core.php', 5, 1694, -3, -3, '', -1, '', '', '', 0, ''),
(2980, '/source/function/function_core.php', 5, 1695, -3, -3, 'function memory($cmd, $key='''', $value='''', $ttl = 0, $prefix = '''') {', -1, '', '', '', 0, ''),
(2981, '/source/function/function_core.php', 5, 1696, -3, -3, '	if($cmd == ''check'') {', -1, '', '', '', 0, ''),
(2982, '/source/function/function_core.php', 5, 1697, -3, -3, '		return  C::memory()->enable ? C::memory()->type : '''';', -1, '', '', '', 0, ''),
(2983, '/source/function/function_core.php', 5, 1698, -3, -3, '	} elseif(C::memory()->enable && in_array($cmd, array(''set'', ''get'', ''rm'', ''inc'', ''dec''))) {', -1, '', '', '', 0, ''),
(2984, '/source/function/function_core.php', 5, 1699, -3, -3, '		if(defined(''DISCUZ_DEBUG'') && DISCUZ_DEBUG) {', -1, '', '', '', 0, ''),
(2985, '/source/function/function_core.php', 5, 1700, -3, -3, '			if(is_array($key)) {', -1, '', '', '', 0, ''),
(2986, '/source/function/function_core.php', 5, 1701, -3, -3, '				foreach($key as $k) {', -1, '', '', '', 0, ''),
(2987, '/source/function/function_core.php', 5, 1702, -3, -3, '					C::memory()->debug[$cmd][] = ($cmd == ''get'' || $cmd == ''rm'' ? $value : '''').$prefix.$k;', -1, '', '', '', 0, ''),
(2988, '/source/function/function_core.php', 5, 1703, -3, -3, '				}', -1, '', '', '', 0, ''),
(2989, '/source/function/function_core.php', 5, 1704, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(2990, '/source/function/function_core.php', 5, 1705, -3, -3, '				C::memory()->debug[$cmd][] = ($cmd == ''get'' || $cmd == ''rm'' ? $value : '''').$prefix.$key;', -1, '', '', '', 0, ''),
(2991, '/source/function/function_core.php', 5, 1706, -3, -3, '			}', -1, '', '', '', 0, ''),
(2992, '/source/function/function_core.php', 5, 1707, -3, -3, '		}', -1, '', '', '', 0, ''),
(2993, '/source/function/function_core.php', 5, 1708, -3, -3, '		switch ($cmd) {', -1, '', '', '', 0, ''),
(2994, '/source/function/function_core.php', 5, 1709, -3, -3, '			case ''set'': return C::memory()->set($key, $value, $ttl, $prefix); break;', -1, '', '', '', 0, ''),
(2995, '/source/function/function_core.php', 5, 1710, -3, -3, '			case ''get'': return C::memory()->get($key, $value); break;', -1, '', '', '', 0, ''),
(2996, '/source/function/function_core.php', 5, 1711, -3, -3, '			case ''rm'': return C::memory()->rm($key, $value); break;', -1, '', '', '', 0, ''),
(2997, '/source/function/function_core.php', 5, 1712, -3, -3, '			case ''inc'': return C::memory()->inc($key, $value ? $value : 1); break;', -1, '', '', '', 0, ''),
(2998, '/source/function/function_core.php', 5, 1713, -3, -3, '			case ''dec'': return C::memory()->dec($key, $value ? $value : -1); break;', -1, '', '', '', 0, ''),
(2999, '/source/function/function_core.php', 5, 1714, -3, -3, '		}', -1, '', '', '', 0, ''),
(3000, '/source/function/function_core.php', 5, 1715, -3, -3, '	}', -1, '', '', '', 0, ''),
(3001, '/source/function/function_core.php', 5, 1716, -3, -3, '	return null;', -1, '', '', '', 0, ''),
(3002, '/source/function/function_core.php', 5, 1717, -3, -3, '}', -1, '', '', '', 0, ''),
(3003, '/source/function/function_core.php', 5, 1718, -3, -3, '', -1, '', '', '', 0, ''),
(3004, '/source/function/function_core.php', 5, 1719, -3, -3, 'function ipaccess($ip, $accesslist) {', -1, '', '', '', 0, ''),
(3005, '/source/function/function_core.php', 5, 1720, -3, -3, '	return preg_match("/^(".str_replace(array("\\r\\n", '' ''), array(''|'', ''''), preg_quote($accesslist, ''/'')).")/", $ip);', -1, '', '', '', 0, ''),
(3006, '/source/function/function_core.php', 5, 1721, -3, -3, '}', -1, '', '', '', 0, ''),
(3007, '/source/function/function_core.php', 5, 1722, -3, -3, '', -1, '', '', '', 0, ''),
(3008, '/source/function/function_core.php', 5, 1723, -3, -3, 'function ipbanned($onlineip) {', -1, '', '', '', 0, ''),
(3009, '/source/function/function_core.php', 5, 1724, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3010, '/source/function/function_core.php', 5, 1725, -3, -3, '', -1, '', '', '', 0, ''),
(3011, '/source/function/function_core.php', 5, 1726, -3, -3, '	if($_G[''setting''][''ipaccess''] && !ipaccess($onlineip, $_G[''setting''][''ipaccess''])) {', -1, '', '', '', 0, ''),
(3012, '/source/function/function_core.php', 5, 1727, -3, -3, '		return TRUE;', -1, '', '', '', 0, ''),
(3013, '/source/function/function_core.php', 5, 1728, -3, -3, '	}', -1, '', '', '', 0, ''),
(3014, '/source/function/function_core.php', 5, 1729, -3, -3, '', -1, '', '', '', 0, ''),
(3015, '/source/function/function_core.php', 5, 1730, -3, -3, '	loadcache(''ipbanned'');', -1, '', '', '', 0, ''),
(3016, '/source/function/function_core.php', 5, 1731, -3, -3, '	if(empty($_G[''cache''][''ipbanned''])) {', -1, '', '', '', 0, ''),
(3017, '/source/function/function_core.php', 5, 1732, -3, -3, '		return FALSE;', -1, '', '', '', 0, ''),
(3018, '/source/function/function_core.php', 5, 1733, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(3019, '/source/function/function_core.php', 5, 1734, -3, -3, '		if($_G[''cache''][''ipbanned''][''expiration''] < TIMESTAMP) {', -1, '', '', '', 0, ''),
(3020, '/source/function/function_core.php', 5, 1735, -3, -3, '			require_once libfile(''function/cache'');', -1, '', '', '', 0, ''),
(3021, '/source/function/function_core.php', 5, 1736, -3, -3, '			updatecache(''ipbanned'');', -1, '', '', '', 0, ''),
(3022, '/source/function/function_core.php', 5, 1737, -3, -3, '		}', -1, '', '', '', 0, ''),
(3023, '/source/function/function_core.php', 5, 1738, -3, -3, '		return preg_match("/^(".$_G[''cache''][''ipbanned''][''regexp''].")$/", $onlineip);', -1, '', '', '', 0, ''),
(3024, '/source/function/function_core.php', 5, 1739, -3, -3, '	}', -1, '', '', '', 0, ''),
(3025, '/source/function/function_core.php', 5, 1740, -3, -3, '}', -1, '', '', '', 0, ''),
(3026, '/source/function/function_core.php', 5, 1741, -3, -3, '', -1, '', '', '', 0, ''),
(3027, '/source/function/function_core.php', 5, 1742, -3, -3, 'function getcount($tablename, $condition) {', -1, '', '', '', 0, ''),
(3028, '/source/function/function_core.php', 5, 1743, -3, -3, '	if(empty($condition)) {', -1, '', '', '', 0, ''),
(3029, '/source/function/function_core.php', 5, 1744, -3, -3, '		$where = ''1'';', -1, '', '', '', 0, ''),
(3030, '/source/function/function_core.php', 5, 1745, -3, -3, '	} elseif(is_array($condition)) {', -1, '', '', '', 0, ''),
(3031, '/source/function/function_core.php', 5, 1746, -3, -3, '		$where = DB::implode_field_value($condition, '' AND '');', -1, '', '', '', 0, ''),
(3032, '/source/function/function_core.php', 5, 1747, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(3033, '/source/function/function_core.php', 5, 1748, -3, -3, '		$where = $condition;', -1, '', '', '', 0, ''),
(3034, '/source/function/function_core.php', 5, 1749, -3, -3, '	}', -1, '', '', '', 0, ''),
(3035, '/source/function/function_core.php', 5, 1750, -3, -3, '	$ret = intval(DB::result_first("SELECT COUNT(*) AS num FROM ".DB::table($tablename)." WHERE $where"));', -1, '', '', '', 0, ''),
(3036, '/source/function/function_core.php', 5, 1751, -3, -3, '	return $ret;', -1, '', '', '', 0, ''),
(3037, '/source/function/function_core.php', 5, 1752, -3, -3, '}', -1, '', '', '', 0, ''),
(3038, '/source/function/function_core.php', 5, 1753, -3, -3, '', -1, '', '', '', 0, ''),
(3039, '/source/function/function_core.php', 5, 1754, -3, -3, 'function sysmessage($message) {', -1, '', '', '', 0, ''),
(3040, '/source/function/function_core.php', 5, 1755, -3, -3, '	helper_sysmessage::show($message);', -1, '', '', '', 0, ''),
(3041, '/source/function/function_core.php', 5, 1756, -3, -3, '}', -1, '', '', '', 0, ''),
(3042, '/source/function/function_core.php', 5, 1757, -3, -3, '', -1, '', '', '', 0, ''),
(3043, '/source/function/function_core.php', 5, 1758, -3, -3, 'function forumperm($permstr, $groupid = 0) {', -1, '', '', '', 0, ''),
(3044, '/source/function/function_core.php', 5, 1759, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3045, '/source/function/function_core.php', 5, 1760, -3, -3, '', -1, '', '', '', 0, ''),
(3046, '/source/function/function_core.php', 5, 1761, -3, -3, '	$groupidarray = array($_G[''groupid'']);', -1, '', '', '', 0, ''),
(3047, '/source/function/function_core.php', 5, 1762, -3, -3, '	if($groupid) {', -1, '', '', '', 0, ''),
(3048, '/source/function/function_core.php', 5, 1763, -3, -3, '		return preg_match("/(^|\\t)(".$groupid.")(\\t|$)/", $permstr);', -1, '', '', '', 0, ''),
(3049, '/source/function/function_core.php', 5, 1764, -3, -3, '	}', -1, '', '', '', 0, ''),
(3050, '/source/function/function_core.php', 5, 1765, -3, -3, '	foreach(explode("\\t", $_G[''member''][''extgroupids'']) as $extgroupid) {', -1, '', '', '', 0, ''),
(3051, '/source/function/function_core.php', 5, 1766, -3, -3, '		if($extgroupid = intval(trim($extgroupid))) {', -1, '', '', '', 0, ''),
(3052, '/source/function/function_core.php', 5, 1767, -3, -3, '			$groupidarray[] = $extgroupid;', -1, '', '', '', 0, ''),
(3053, '/source/function/function_core.php', 5, 1768, -3, -3, '		}', -1, '', '', '', 0, ''),
(3054, '/source/function/function_core.php', 5, 1769, -3, -3, '	}', -1, '', '', '', 0, ''),
(3055, '/source/function/function_core.php', 5, 1770, -3, -3, '	if($_G[''setting''][''verify''][''enabled'']) {', -1, '', '', '', 0, ''),
(3056, '/source/function/function_core.php', 5, 1771, -3, -3, '		getuserprofile(''verify1'');', -1, '', '', '', 0, ''),
(3057, '/source/function/function_core.php', 5, 1772, -3, -3, '		foreach($_G[''setting''][''verify''] as $vid => $verify) {', -1, '', '', '', 0, ''),
(3058, '/source/function/function_core.php', 5, 1773, -3, -3, '			if($verify[''available''] && $_G[''member''][''verify''.$vid] == 1) {', -1, '', '', '', 0, ''),
(3059, '/source/function/function_core.php', 5, 1774, -3, -3, '				$groupidarray[] = ''v''.$vid;', -1, '', '', '', 0, ''),
(3060, '/source/function/function_core.php', 5, 1775, -3, -3, '			}', -1, '', '', '', 0, ''),
(3061, '/source/function/function_core.php', 5, 1776, -3, -3, '		}', -1, '', '', '', 0, ''),
(3062, '/source/function/function_core.php', 5, 1777, -3, -3, '	}', -1, '', '', '', 0, ''),
(3063, '/source/function/function_core.php', 5, 1778, -3, -3, '	return preg_match("/(^|\\t)(".implode(''|'', $groupidarray).")(\\t|$)/", $permstr);', -1, '', '', '', 0, ''),
(3064, '/source/function/function_core.php', 5, 1779, -3, -3, '}', -1, '', '', '', 0, ''),
(3065, '/source/function/function_core.php', 5, 1780, -3, -3, '', -1, '', '', '', 0, ''),
(3066, '/source/function/function_core.php', 5, 1781, -3, -3, 'function checkperm($perm) {', -1, '', '', '', 0, ''),
(3067, '/source/function/function_core.php', 5, 1782, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3068, '/source/function/function_core.php', 5, 1783, -3, -3, '	return defined(''IN_ADMINCP'') ? true : (empty($_G[''group''][$perm])?'''':$_G[''group''][$perm]);', -1, '', '', '', 0, ''),
(3069, '/source/function/function_core.php', 5, 1784, -3, -3, '}', -1, '', '', '', 0, ''),
(3070, '/source/function/function_core.php', 5, 1785, -3, -3, '', -1, '', '', '', 0, ''),
(3071, '/source/function/function_core.php', 5, 1786, -3, -3, 'function periodscheck($periods, $showmessage = 1) {', -1, '', '', '', 0, ''),
(3072, '/source/function/function_core.php', 5, 1787, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3073, '/source/function/function_core.php', 5, 1788, -3, -3, '	if(($periods == ''postmodperiods'' || $periods == ''postbanperiods'') && ($_G[''setting''][''postignorearea''] || $_G[''setting''][''postignoreip''])) {', -1, '', '', '', 0, ''),
(3074, '/source/function/function_core.php', 5, 1789, -3, -3, '		if($_G[''setting''][''postignoreip'']) {', -1, '', '', '', 0, ''),
(3075, '/source/function/function_core.php', 5, 1790, -3, -3, '			foreach(explode("\\n", $_G[''setting''][''postignoreip'']) as $ctrlip) {', -1, '', '', '', 0, ''),
(3076, '/source/function/function_core.php', 5, 1791, -3, -3, '				if(preg_match("/^(".preg_quote(($ctrlip = trim($ctrlip)), ''/'').")/", $_G[''clientip''])) {', -1, '', '', '', 0, ''),
(3077, '/source/function/function_core.php', 5, 1792, -3, -3, '					return false;', -1, '', '', '', 0, ''),
(3078, '/source/function/function_core.php', 5, 1793, -3, -3, '					break;', -1, '', '', '', 0, ''),
(3079, '/source/function/function_core.php', 5, 1794, -3, -3, '				}', -1, '', '', '', 0, ''),
(3080, '/source/function/function_core.php', 5, 1795, -3, -3, '			}', -1, '', '', '', 0, ''),
(3081, '/source/function/function_core.php', 5, 1796, -3, -3, '		}', -1, '', '', '', 0, ''),
(3082, '/source/function/function_core.php', 5, 1797, -3, -3, '		if($_G[''setting''][''postignorearea'']) {', -1, '', '', '', 0, ''),
(3083, '/source/function/function_core.php', 5, 1798, -3, -3, '			$location = $whitearea = '''';', -1, '', '', '', 0, ''),
(3084, '/source/function/function_core.php', 5, 1799, -3, -3, '			require_once libfile(''function/misc'');', -1, '', '', '', 0, ''),
(3085, '/source/function/function_core.php', 5, 1800, -3, -3, '			$location = trim(convertip($_G[''clientip''], "./"));', -1, '', '', '', 0, ''),
(3086, '/source/function/function_core.php', 5, 1801, -3, -3, '			if($location) {', -1, '', '', '', 0, ''),
(3087, '/source/function/function_core.php', 5, 1802, -3, -3, '				$whitearea = preg_quote(trim($_G[''setting''][''postignorearea'']), ''/'');', -1, '', '', '', 0, ''),
(3088, '/source/function/function_core.php', 5, 1803, -3, -3, '				$whitearea = str_replace(array("\\\\*"), array(''.*''), $whitearea);', -1, '', '', '', 0, ''),
(3089, '/source/function/function_core.php', 5, 1804, -3, -3, '				$whitearea = ''.*''.$whitearea.''.*'';', -1, '', '', '', 0, ''),
(3090, '/source/function/function_core.php', 5, 1805, -3, -3, '				$whitearea = ''/^(''.str_replace(array("\\r\\n", '' ''), array(''.*|.*'', ''''), $whitearea).'')$/i'';', -1, '', '', '', 0, ''),
(3091, '/source/function/function_core.php', 5, 1806, -3, -3, '				if(@preg_match($whitearea, $location)) {', -1, '', '', '', 0, ''),
(3092, '/source/function/function_core.php', 5, 1807, -3, -3, '					return false;', -1, '', '', '', 0, ''),
(3093, '/source/function/function_core.php', 5, 1808, -3, -3, '				}', -1, '', '', '', 0, ''),
(3094, '/source/function/function_core.php', 5, 1809, -3, -3, '			}', -1, '', '', '', 0, ''),
(3095, '/source/function/function_core.php', 5, 1810, -3, -3, '		}', -1, '', '', '', 0, ''),
(3096, '/source/function/function_core.php', 5, 1811, -3, -3, '	}', -1, '', '', '', 0, ''),
(3097, '/source/function/function_core.php', 5, 1812, -3, -3, '	if(!$_G[''group''][''disableperiodctrl''] && $_G[''setting''][$periods]) {', -1, '', '', '', 0, ''),
(3098, '/source/function/function_core.php', 5, 1813, -3, -3, '		$now = dgmdate(TIMESTAMP, ''G.i'', $_G[''setting''][''timeoffset'']);', -1, '', '', '', 0, ''),
(3099, '/source/function/function_core.php', 5, 1814, -3, -3, '		foreach(explode("\\r\\n", str_replace('':'', ''.'', $_G[''setting''][$periods])) as $period) {', -1, '', '', '', 0, ''),
(3100, '/source/function/function_core.php', 5, 1815, -3, -3, '			list($periodbegin, $periodend) = explode(''-'', $period);', -1, '', '', '', 0, ''),
(3101, '/source/function/function_core.php', 5, 1816, -3, -3, '			if(($periodbegin > $periodend && ($now >= $periodbegin || $now < $periodend)) || ($periodbegin < $periodend && $now >= $periodbegin && $now < $periodend)) {', -1, '', '', '', 0, ''),
(3102, '/source/function/function_core.php', 5, 1817, -3, -3, '				$banperiods = str_replace("\\r\\n", '', '', $_G[''setting''][$periods]);', -1, '', '', '', 0, ''),
(3103, '/source/function/function_core.php', 5, 1818, -3, -3, '				if($showmessage) {', -1, '', '', '', 0, ''),
(3104, '/source/function/function_core.php', 5, 1819, -3, -3, '					showmessage(''period_nopermission'', NULL, array(''banperiods'' => $banperiods), array(''login'' => 1));', -1, '', '', '', 0, ''),
(3105, '/source/function/function_core.php', 5, 1820, -3, -3, '				} else {', -1, '', '', '', 0, ''),
(3106, '/source/function/function_core.php', 5, 1821, -3, -3, '					return TRUE;', -1, '', '', '', 0, ''),
(3107, '/source/function/function_core.php', 5, 1822, -3, -3, '				}', -1, '', '', '', 0, ''),
(3108, '/source/function/function_core.php', 5, 1823, -3, -3, '			}', -1, '', '', '', 0, ''),
(3109, '/source/function/function_core.php', 5, 1824, -3, -3, '		}', -1, '', '', '', 0, ''),
(3110, '/source/function/function_core.php', 5, 1825, -3, -3, '	}', -1, '', '', '', 0, ''),
(3111, '/source/function/function_core.php', 5, 1826, -3, -3, '	return FALSE;', -1, '', '', '', 0, ''),
(3112, '/source/function/function_core.php', 5, 1827, -3, -3, '}', -1, '', '', '', 0, ''),
(3113, '/source/function/function_core.php', 5, 1828, -3, -3, '', -1, '', '', '', 0, ''),
(3114, '/source/function/function_core.php', 5, 1829, -3, -3, 'function cknewuser($return=0) {', -1, '', '', '', 0, ''),
(3115, '/source/function/function_core.php', 5, 1830, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3116, '/source/function/function_core.php', 5, 1831, -3, -3, '', -1, '', '', '', 0, ''),
(3117, '/source/function/function_core.php', 5, 1832, -3, -3, '	$result = true;', -1, '', '', '', 0, ''),
(3118, '/source/function/function_core.php', 5, 1833, -3, -3, '', -1, '', '', '', 0, ''),
(3119, '/source/function/function_core.php', 5, 1834, -3, -3, '	if(!$_G[''uid'']) return true;', -1, '', '', '', 0, ''),
(3120, '/source/function/function_core.php', 5, 1835, -3, -3, '', -1, '', '', '', 0, ''),
(3121, '/source/function/function_core.php', 5, 1836, -3, -3, '	if(checkperm(''disablepostctrl'')) {', -1, '', '', '', 0, ''),
(3122, '/source/function/function_core.php', 5, 1837, -3, -3, '		return $result;', -1, '', '', '', 0, ''),
(3123, '/source/function/function_core.php', 5, 1838, -3, -3, '	}', -1, '', '', '', 0, ''),
(3124, '/source/function/function_core.php', 5, 1839, -3, -3, '	$ckuser = $_G[''member''];', -1, '', '', '', 0, ''),
(3125, '/source/function/function_core.php', 5, 1840, -3, -3, '', -1, '', '', '', 0, ''),
(3126, '/source/function/function_core.php', 5, 1841, -3, -3, '	if($_G[''setting''][''newbiespan''] && $_G[''timestamp'']-$ckuser[''regdate'']<$_G[''setting''][''newbiespan'']*60) {', -1, '', '', '', 0, ''),
(3127, '/source/function/function_core.php', 5, 1842, -3, -3, '		if(empty($return)) showmessage(''no_privilege_newbiespan'', '''', array(''newbiespan'' => $_G[''setting''][''newbiespan'']), array());', -1, '', '', '', 0, ''),
(3128, '/source/function/function_core.php', 5, 1843, -3, -3, '		$result = false;', -1, '', '', '', 0, ''),
(3129, '/source/function/function_core.php', 5, 1844, -3, -3, '	}', -1, '', '', '', 0, ''),
(3130, '/source/function/function_core.php', 5, 1845, -3, -3, '	if($_G[''setting''][''need_avatar''] && empty($ckuser[''avatarstatus''])) {', -1, '', '', '', 0, ''),
(3131, '/source/function/function_core.php', 5, 1846, -3, -3, '		if(empty($return)) showmessage(''no_privilege_avatar'', '''', array(), array());', -1, '', '', '', 0, ''),
(3132, '/source/function/function_core.php', 5, 1847, -3, -3, '		$result = false;', -1, '', '', '', 0, ''),
(3133, '/source/function/function_core.php', 5, 1848, -3, -3, '	}', -1, '', '', '', 0, ''),
(3134, '/source/function/function_core.php', 5, 1849, -3, -3, '	if($_G[''setting''][''need_email''] && empty($ckuser[''emailstatus''])) {', -1, '', '', '', 0, ''),
(3135, '/source/function/function_core.php', 5, 1850, -3, -3, '		if(empty($return)) showmessage(''no_privilege_email'', '''', array(), array());', -1, '', '', '', 0, ''),
(3136, '/source/function/function_core.php', 5, 1851, -3, -3, '		$result = false;', -1, '', '', '', 0, ''),
(3137, '/source/function/function_core.php', 5, 1852, -3, -3, '	}', -1, '', '', '', 0, ''),
(3138, '/source/function/function_core.php', 5, 1853, -3, -3, '	if($_G[''setting''][''need_friendnum'']) {', -1, '', '', '', 0, ''),
(3139, '/source/function/function_core.php', 5, 1854, -3, -3, '		space_merge($ckuser, ''count'');', -1, '', '', '', 0, ''),
(3140, '/source/function/function_core.php', 5, 1855, -3, -3, '		if($ckuser[''friends''] < $_G[''setting''][''need_friendnum'']) {', -1, '', '', '', 0, ''),
(3141, '/source/function/function_core.php', 5, 1856, -3, -3, '			if(empty($return)) showmessage(''no_privilege_friendnum'', '''', array(''friendnum'' => $_G[''setting''][''need_friendnum'']), array());', -1, '', '', '', 0, ''),
(3142, '/source/function/function_core.php', 5, 1857, -3, -3, '			$result = false;', -1, '', '', '', 0, ''),
(3143, '/source/function/function_core.php', 5, 1858, -3, -3, '		}', -1, '', '', '', 0, ''),
(3144, '/source/function/function_core.php', 5, 1859, -3, -3, '	}', -1, '', '', '', 0, ''),
(3145, '/source/function/function_core.php', 5, 1860, -3, -3, '	return $result;', -1, '', '', '', 0, ''),
(3146, '/source/function/function_core.php', 5, 1861, -3, -3, '}', -1, '', '', '', 0, ''),
(3147, '/source/function/function_core.php', 5, 1862, -3, -3, '', -1, '', '', '', 0, ''),
(3148, '/source/function/function_core.php', 5, 1863, -3, -3, 'function manyoulog($logtype, $uids, $action, $fid = '''') {', -1, '', '', '', 0, ''),
(3149, '/source/function/function_core.php', 5, 1864, -3, -3, '	helper_manyou::manyoulog($logtype, $uids, $action, $fid);', -1, '', '', '', 0, ''),
(3150, '/source/function/function_core.php', 5, 1865, -3, -3, '}', -1, '', '', '', 0, ''),
(3151, '/source/function/function_core.php', 5, 1866, -3, -3, '', -1, '', '', '', 0, ''),
(3152, '/source/function/function_core.php', 5, 1867, -3, -3, 'function useractionlog($uid, $action) {', -1, '', '', '', 0, ''),
(3153, '/source/function/function_core.php', 5, 1868, -3, -3, '	return helper_log::useractionlog($uid, $action);', -1, '', '', '', 0, ''),
(3154, '/source/function/function_core.php', 5, 1869, -3, -3, '}', -1, '', '', '', 0, ''),
(3155, '/source/function/function_core.php', 5, 1870, -3, -3, '', -1, '', '', '', 0, ''),
(3156, '/source/function/function_core.php', 5, 1871, -3, -3, 'function getuseraction($var) {', -1, '', '', '', 0, ''),
(3157, '/source/function/function_core.php', 5, 1872, -3, -3, '	return helper_log::getuseraction($var);', -1, '', '', '', 0, ''),
(3158, '/source/function/function_core.php', 5, 1873, -3, -3, '}', -1, '', '', '', 0, ''),
(3159, '/source/function/function_core.php', 5, 1874, -3, -3, '', -1, '', '', '', 0, ''),
(3160, '/source/function/function_core.php', 5, 1875, -3, -3, 'function getuserapp($panel = 0) {', -1, '', '', '', 0, ''),
(3161, '/source/function/function_core.php', 5, 1876, -3, -3, '	return helper_manyou::getuserapp($panel);', -1, '', '', '', 0, ''),
(3162, '/source/function/function_core.php', 5, 1877, -3, -3, '}', -1, '', '', '', 0, ''),
(3163, '/source/function/function_core.php', 5, 1878, -3, -3, '', -1, '', '', '', 0, ''),
(3164, '/source/function/function_core.php', 5, 1879, -3, -3, 'function getmyappiconpath($appid, $iconstatus=0) {', -1, '', '', '', 0, ''),
(3165, '/source/function/function_core.php', 5, 1880, -3, -3, '	return helper_manyou::getmyappiconpath($appid, $iconstatus);', -1, '', '', '', 0, ''),
(3166, '/source/function/function_core.php', 5, 1881, -3, -3, '}', -1, '', '', '', 0, ''),
(3167, '/source/function/function_core.php', 5, 1882, -3, -3, '', -1, '', '', '', 0, ''),
(3168, '/source/function/function_core.php', 5, 1883, -3, -3, 'function getexpiration() {', -1, '', '', '', 0, ''),
(3169, '/source/function/function_core.php', 5, 1884, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3170, '/source/function/function_core.php', 5, 1885, -3, -3, '	$date = getdate($_G[''timestamp'']);', -1, '', '', '', 0, ''),
(3171, '/source/function/function_core.php', 5, 1886, -3, -3, '	return mktime(0, 0, 0, $date[''mon''], $date[''mday''], $date[''year'']) + 86400;', -1, '', '', '', 0, ''),
(3172, '/source/function/function_core.php', 5, 1887, -3, -3, '}', -1, '', '', '', 0, ''),
(3173, '/source/function/function_core.php', 5, 1888, -3, -3, '', -1, '', '', '', 0, ''),
(3174, '/source/function/function_core.php', 5, 1889, -3, -3, 'function return_bytes($val) {', -1, '', '', '', 0, ''),
(3175, '/source/function/function_core.php', 5, 1890, -3, -3, '    $val = trim($val);', -1, '', '', '', 0, ''),
(3176, '/source/function/function_core.php', 5, 1891, -3, -3, '    $last = strtolower($val{strlen($val)-1});', -1, '', '', '', 0, ''),
(3177, '/source/function/function_core.php', 5, 1892, -3, -3, '    switch($last) {', -1, '', '', '', 0, ''),
(3178, '/source/function/function_core.php', 5, 1893, -3, -3, '        case ''g'': $val *= 1024;', -1, '', '', '', 0, ''),
(3179, '/source/function/function_core.php', 5, 1894, -3, -3, '        case ''m'': $val *= 1024;', -1, '', '', '', 0, ''),
(3180, '/source/function/function_core.php', 5, 1895, -3, -3, '        case ''k'': $val *= 1024;', -1, '', '', '', 0, ''),
(3181, '/source/function/function_core.php', 5, 1896, -3, -3, '    }', -1, '', '', '', 0, ''),
(3182, '/source/function/function_core.php', 5, 1897, -3, -3, '    return $val;', -1, '', '', '', 0, ''),
(3183, '/source/function/function_core.php', 5, 1898, -3, -3, '}', -1, '', '', '', 0, ''),
(3184, '/source/function/function_core.php', 5, 1899, -3, -3, '', -1, '', '', '', 0, ''),
(3185, '/source/function/function_core.php', 5, 1900, -3, -3, 'function iswhitelist($host) {', -1, '', '', '', 0, '');
INSERT INTO `points` (`id`, `file`, `file_id`, `line_number`, `level`, `position`, `content`, `role_id`, `db_action`, `db_line`, `remark`, `is_function`, `functions_line`) VALUES
(3186, '/source/function/function_core.php', 5, 1901, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3187, '/source/function/function_core.php', 5, 1902, -3, -3, '	static $iswhitelist = array();', -1, '', '', '', 0, ''),
(3188, '/source/function/function_core.php', 5, 1903, -3, -3, '', -1, '', '', '', 0, ''),
(3189, '/source/function/function_core.php', 5, 1904, -3, -3, '	if(isset($iswhitelist[$host])) {', -1, '', '', '', 0, ''),
(3190, '/source/function/function_core.php', 5, 1905, -3, -3, '		return $iswhitelist[$host];', -1, '', '', '', 0, ''),
(3191, '/source/function/function_core.php', 5, 1906, -3, -3, '	}', -1, '', '', '', 0, ''),
(3192, '/source/function/function_core.php', 5, 1907, -3, -3, '	$hostlen = strlen($host);', -1, '', '', '', 0, ''),
(3193, '/source/function/function_core.php', 5, 1908, -3, -3, '	$iswhitelist[$host] = false;', -1, '', '', '', 0, ''),
(3194, '/source/function/function_core.php', 5, 1909, -3, -3, '	if(!$_G[''cache''][''domainwhitelist'']) {', -1, '', '', '', 0, ''),
(3195, '/source/function/function_core.php', 5, 1910, -3, -3, '		loadcache(''domainwhitelist'');', -1, '', '', '', 0, ''),
(3196, '/source/function/function_core.php', 5, 1911, -3, -3, '	}', -1, '', '', '', 0, ''),
(3197, '/source/function/function_core.php', 5, 1912, -3, -3, '	if(is_array($_G[''cache''][''domainwhitelist''])) foreach($_G[''cache''][''domainwhitelist''] as $val) {', -1, '', '', '', 0, ''),
(3198, '/source/function/function_core.php', 5, 1913, -3, -3, '		$domainlen = strlen($val);', -1, '', '', '', 0, ''),
(3199, '/source/function/function_core.php', 5, 1914, -3, -3, '		if($domainlen > $hostlen) {', -1, '', '', '', 0, ''),
(3200, '/source/function/function_core.php', 5, 1915, -3, -3, '			continue;', -1, '', '', '', 0, ''),
(3201, '/source/function/function_core.php', 5, 1916, -3, -3, '		}', -1, '', '', '', 0, ''),
(3202, '/source/function/function_core.php', 5, 1917, -3, -3, '		if(substr($host, -$domainlen) == $val) {', -1, '', '', '', 0, ''),
(3203, '/source/function/function_core.php', 5, 1918, -3, -3, '			$iswhitelist[$host] = true;', -1, '', '', '', 0, ''),
(3204, '/source/function/function_core.php', 5, 1919, -3, -3, '			break;', -1, '', '', '', 0, ''),
(3205, '/source/function/function_core.php', 5, 1920, -3, -3, '		}', -1, '', '', '', 0, ''),
(3206, '/source/function/function_core.php', 5, 1921, -3, -3, '	}', -1, '', '', '', 0, ''),
(3207, '/source/function/function_core.php', 5, 1922, -3, -3, '	if($iswhitelist[$host] == false) {', -1, '', '', '', 0, ''),
(3208, '/source/function/function_core.php', 5, 1923, -3, -3, '		$iswhitelist[$host] = $host == $_SERVER[''HTTP_HOST''];', -1, '', '', '', 0, ''),
(3209, '/source/function/function_core.php', 5, 1924, -3, -3, '	}', -1, '', '', '', 0, ''),
(3210, '/source/function/function_core.php', 5, 1925, -3, -3, '	return $iswhitelist[$host];', -1, '', '', '', 0, ''),
(3211, '/source/function/function_core.php', 5, 1926, -3, -3, '}', -1, '', '', '', 0, ''),
(3212, '/source/function/function_core.php', 5, 1927, -3, -3, '', -1, '', '', '', 0, ''),
(3213, '/source/function/function_core.php', 5, 1928, -3, -3, 'function getattachtablebyaid($aid) {', -1, '', '', '', 0, ''),
(3214, '/source/function/function_core.php', 5, 1929, -3, -3, '	$attach = C::t(''forum_attachment'')->fetch($aid);', -1, '', '', '', 0, ''),
(3215, '/source/function/function_core.php', 5, 1930, -3, -3, '	$tableid = $attach[''tableid''];', -1, '', '', '', 0, ''),
(3216, '/source/function/function_core.php', 5, 1931, -3, -3, '	return ''forum_attachment_''.($tableid >= 0 && $tableid < 10 ? intval($tableid) : ''unused'');', -1, '', '', '', 0, ''),
(3217, '/source/function/function_core.php', 5, 1932, -3, -3, '}', -1, '', '', '', 0, ''),
(3218, '/source/function/function_core.php', 5, 1933, -3, -3, '', -1, '', '', '', 0, ''),
(3219, '/source/function/function_core.php', 5, 1934, -3, -3, 'function getattachtableid($tid) {', -1, '', '', '', 0, ''),
(3220, '/source/function/function_core.php', 5, 1935, -3, -3, '	$tid = (string)$tid;', -1, '', '', '', 0, ''),
(3221, '/source/function/function_core.php', 5, 1936, -3, -3, '	return intval($tid{strlen($tid)-1});', -1, '', '', '', 0, ''),
(3222, '/source/function/function_core.php', 5, 1937, -3, -3, '}', -1, '', '', '', 0, ''),
(3223, '/source/function/function_core.php', 5, 1938, -3, -3, '', -1, '', '', '', 0, ''),
(3224, '/source/function/function_core.php', 5, 1939, -3, -3, 'function getattachtablebytid($tid) {', -1, '', '', '', 0, ''),
(3225, '/source/function/function_core.php', 5, 1940, -3, -3, '	return ''forum_attachment_''.getattachtableid($tid);', -1, '', '', '', 0, ''),
(3226, '/source/function/function_core.php', 5, 1941, -3, -3, '}', -1, '', '', '', 0, ''),
(3227, '/source/function/function_core.php', 5, 1942, -3, -3, '', -1, '', '', '', 0, ''),
(3228, '/source/function/function_core.php', 5, 1943, -3, -3, 'function getattachtablebypid($pid) {', -1, '', '', '', 0, ''),
(3229, '/source/function/function_core.php', 5, 1944, -3, -3, '	$tableid = DB::result_first("SELECT tableid FROM ".DB::table(''forum_attachment'')." WHERE pid=''$pid'' LIMIT 1");', -1, '', '', '', 0, ''),
(3230, '/source/function/function_core.php', 5, 1945, -3, -3, '	return ''forum_attachment_''.($tableid >= 0 && $tableid < 10 ? intval($tableid) : ''unused'');', -1, '', '', '', 0, ''),
(3231, '/source/function/function_core.php', 5, 1946, -3, -3, '}', -1, '', '', '', 0, ''),
(3232, '/source/function/function_core.php', 5, 1947, -3, -3, '', -1, '', '', '', 0, ''),
(3233, '/source/function/function_core.php', 5, 1948, -3, -3, 'function getattachnewaid($uid = 0) {', -1, '', '', '', 0, ''),
(3234, '/source/function/function_core.php', 5, 1949, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3235, '/source/function/function_core.php', 5, 1950, -3, -3, '	$uid = !$uid ? $_G[''uid''] : $uid;', -1, '', '', '', 0, ''),
(3236, '/source/function/function_core.php', 5, 1951, -3, -3, '	return C::t(''forum_attachment'')->insert(array(''tid'' => 0, ''pid'' => 0, ''uid'' => $uid, ''tableid'' => 127), true);', -1, '', '', '', 0, ''),
(3237, '/source/function/function_core.php', 5, 1952, -3, -3, '}', -1, '', '', '', 0, ''),
(3238, '/source/function/function_core.php', 5, 1953, -3, -3, '', -1, '', '', '', 0, ''),
(3239, '/source/function/function_core.php', 5, 1954, -3, -3, 'function get_seosetting($page, $data = array(), $defset = array()) {', -1, '', '', '', 0, ''),
(3240, '/source/function/function_core.php', 5, 1955, -3, -3, '	return helper_seo::get_seosetting($page, $data, $defset);', -1, '', '', '', 0, ''),
(3241, '/source/function/function_core.php', 5, 1956, -3, -3, '}', -1, '', '', '', 0, ''),
(3242, '/source/function/function_core.php', 5, 1957, -3, -3, '', -1, '', '', '', 0, ''),
(3243, '/source/function/function_core.php', 5, 1958, -3, -3, 'function getimgthumbname($fileStr, $extend=''.thumb.jpg'', $holdOldExt=true) {', -1, '', '', '', 0, ''),
(3244, '/source/function/function_core.php', 5, 1959, -3, -3, '	if(empty($fileStr)) {', -1, '', '', '', 0, ''),
(3245, '/source/function/function_core.php', 5, 1960, -3, -3, '		return '''';', -1, '', '', '', 0, ''),
(3246, '/source/function/function_core.php', 5, 1961, -3, -3, '	}', -1, '', '', '', 0, ''),
(3247, '/source/function/function_core.php', 5, 1962, -3, -3, '	if(!$holdOldExt) {', -1, '', '', '', 0, ''),
(3248, '/source/function/function_core.php', 5, 1963, -3, -3, '		$fileStr = substr($fileStr, 0, strrpos($fileStr, ''.''));', -1, '', '', '', 0, ''),
(3249, '/source/function/function_core.php', 5, 1964, -3, -3, '	}', -1, '', '', '', 0, ''),
(3250, '/source/function/function_core.php', 5, 1965, -3, -3, '	$extend = strstr($extend, ''.'') ? $extend : ''.''.$extend;', -1, '', '', '', 0, ''),
(3251, '/source/function/function_core.php', 5, 1966, -3, -3, '	return $fileStr.$extend;', -1, '', '', '', 0, ''),
(3252, '/source/function/function_core.php', 5, 1967, -3, -3, '}', -1, '', '', '', 0, ''),
(3253, '/source/function/function_core.php', 5, 1968, -3, -3, '', -1, '', '', '', 0, ''),
(3254, '/source/function/function_core.php', 5, 1969, -3, -3, 'function updatemoderate($idtype, $ids, $status = 0) {', -1, '', '', '', 0, ''),
(3255, '/source/function/function_core.php', 5, 1970, -3, -3, '	helper_form::updatemoderate($idtype, $ids, $status);', -1, '', '', '', 0, ''),
(3256, '/source/function/function_core.php', 5, 1971, -3, -3, '}', -1, '', '', '', 0, ''),
(3257, '/source/function/function_core.php', 5, 1972, -3, -3, '', -1, '', '', '', 0, ''),
(3258, '/source/function/function_core.php', 5, 1973, -3, -3, 'function userappprompt() {', -1, '', '', '', 0, ''),
(3259, '/source/function/function_core.php', 5, 1974, -3, -3, '	global $_G;', -1, '', '', '', 0, ''),
(3260, '/source/function/function_core.php', 5, 1975, -3, -3, '', -1, '', '', '', 0, ''),
(3261, '/source/function/function_core.php', 5, 1976, -3, -3, '	if($_G[''setting''][''my_app_status''] && $_G[''setting''][''my_openappprompt''] && empty($_G[''cookie''][''userappprompt''])) {', -1, '', '', '', 0, ''),
(3262, '/source/function/function_core.php', 5, 1977, -3, -3, '		$sid = $_G[''setting''][''my_siteid''];', -1, '', '', '', 0, ''),
(3263, '/source/function/function_core.php', 5, 1978, -3, -3, '		$ts = $_G[''timestamp''];', -1, '', '', '', 0, ''),
(3264, '/source/function/function_core.php', 5, 1979, -3, -3, '		$key = md5($sid.$ts.$_G[''setting''][''my_sitekey'']);', -1, '', '', '', 0, ''),
(3265, '/source/function/function_core.php', 5, 1980, -3, -3, '		$uchId = $_G[''uid''] ? $_G[''uid''] : 0;', -1, '', '', '', 0, ''),
(3266, '/source/function/function_core.php', 5, 1981, -3, -3, '		echo ''<script type="text/javascript" src="http://notice.uchome.manyou.com/notice/userNotice?sId=''.$sid.''&ts=''.$ts.''&key=''.$key.''&uchId=''.$uchId.''" charset="UTF-8"></script>'';', -1, '', '', '', 0, ''),
(3267, '/source/function/function_core.php', 5, 1982, -3, -3, '	}', -1, '', '', '', 0, ''),
(3268, '/source/function/function_core.php', 5, 1983, -3, -3, '}', -1, '', '', '', 0, ''),
(3269, '/source/function/function_core.php', 5, 1984, -3, -3, '', -1, '', '', '', 0, ''),
(3270, '/source/function/function_core.php', 5, 1985, -3, -3, 'function dintval($int, $allowarray = false) {', -1, '', '', '', 0, ''),
(3271, '/source/function/function_core.php', 5, 1986, -3, -3, '	$ret = intval($int);', -1, '', '', '', 0, ''),
(3272, '/source/function/function_core.php', 5, 1987, -3, -3, '	if($int == $ret || !$allowarray && is_array($int)) return $ret;', -1, '', '', '', 0, ''),
(3273, '/source/function/function_core.php', 5, 1988, -3, -3, '	if($allowarray && is_array($int)) {', -1, '', '', '', 0, ''),
(3274, '/source/function/function_core.php', 5, 1989, -3, -3, '		foreach($int as &$v) {', -1, '', '', '', 0, ''),
(3275, '/source/function/function_core.php', 5, 1990, -3, -3, '			$v = dintval($v, true);', -1, '', '', '', 0, ''),
(3276, '/source/function/function_core.php', 5, 1991, -3, -3, '		}', -1, '', '', '', 0, ''),
(3277, '/source/function/function_core.php', 5, 1992, -3, -3, '		return $int;', -1, '', '', '', 0, ''),
(3278, '/source/function/function_core.php', 5, 1993, -3, -3, '	} elseif($int <= 0xffffffff) {', -1, '', '', '', 0, ''),
(3279, '/source/function/function_core.php', 5, 1994, -3, -3, '		$l = strlen($int);', -1, '', '', '', 0, ''),
(3280, '/source/function/function_core.php', 5, 1995, -3, -3, '		$m = substr($int, 0, 1) == ''-'' ? 1 : 0;', -1, '', '', '', 0, ''),
(3281, '/source/function/function_core.php', 5, 1996, -3, -3, '		if(($l - $m) === strspn($int,''0987654321'', $m)) {', -1, '', '', '', 0, ''),
(3282, '/source/function/function_core.php', 5, 1997, -3, -3, '			return $int;', -1, '', '', '', 0, ''),
(3283, '/source/function/function_core.php', 5, 1998, -3, -3, '		}', -1, '', '', '', 0, ''),
(3284, '/source/function/function_core.php', 5, 1999, -3, -3, '	}', -1, '', '', '', 0, ''),
(3285, '/source/function/function_core.php', 5, 2000, -3, -3, '	return $ret;', -1, '', '', '', 0, ''),
(3286, '/source/function/function_core.php', 5, 2001, -3, -3, '}', -1, '', '', '', 0, ''),
(3287, '/source/function/function_core.php', 5, 2002, -3, -3, '', -1, '', '', '', 0, ''),
(3288, '/source/function/function_core.php', 5, 2003, -3, -3, '', -1, '', '', '', 0, ''),
(3289, '/source/function/function_core.php', 5, 2004, -3, -3, 'function makeSearchSignUrl() {', -1, '', '', '', 0, ''),
(3290, '/source/function/function_core.php', 5, 2005, -3, -3, '	return getglobal(''setting/my_search_data/status'') ? helper_manyou::makeSearchSignUrl() : array();', -1, '', '', '', 0, ''),
(3291, '/source/function/function_core.php', 5, 2006, -3, -3, '}', -1, '', '', '', 0, ''),
(3292, '/source/function/function_core.php', 5, 2007, -3, -3, '', -1, '', '', '', 0, ''),
(3293, '/source/function/function_core.php', 5, 2008, -3, -3, 'function get_related_link($extent) {', -1, '', '', '', 0, ''),
(3294, '/source/function/function_core.php', 5, 2009, -3, -3, '	return helper_seo::get_related_link($extent);', -1, '', '', '', 0, ''),
(3295, '/source/function/function_core.php', 5, 2010, -3, -3, '}', -1, '', '', '', 0, ''),
(3296, '/source/function/function_core.php', 5, 2011, -3, -3, '', -1, '', '', '', 0, ''),
(3297, '/source/function/function_core.php', 5, 2012, -3, -3, 'function parse_related_link($content, $extent) {', -1, '', '', '', 0, ''),
(3298, '/source/function/function_core.php', 5, 2013, -3, -3, '	return helper_seo::parse_related_link($content, $extent);', -1, '', '', '', 0, ''),
(3299, '/source/function/function_core.php', 5, 2014, -3, -3, '}', -1, '', '', '', 0, ''),
(3300, '/source/function/function_core.php', 5, 2015, -3, -3, '', -1, '', '', '', 0, ''),
(3301, '/source/function/function_core.php', 5, 2016, -3, -3, 'function check_diy_perm($topic = array(), $flag = '''') {', -1, '', '', '', 0, ''),
(3302, '/source/function/function_core.php', 5, 2017, -3, -3, '	static $ret;', -1, '', '', '', 0, ''),
(3303, '/source/function/function_core.php', 5, 2018, -3, -3, '	if(!isset($ret)) {', -1, '', '', '', 0, ''),
(3304, '/source/function/function_core.php', 5, 2019, -3, -3, '		global $_G;', -1, '', '', '', 0, ''),
(3305, '/source/function/function_core.php', 5, 2020, -3, -3, '		$common = !empty($_G[''style''][''tplfile'']) || $_GET[''inajax''];', -1, '', '', '', 0, ''),
(3306, '/source/function/function_core.php', 5, 2021, -3, -3, '		$blockallow = getstatus($_G[''member''][''allowadmincp''], 4) || getstatus($_G[''member''][''allowadmincp''], 5) || getstatus($_G[''member''][''allowadmincp''], 6);', -1, '', '', '', 0, ''),
(3307, '/source/function/function_core.php', 5, 2022, -3, -3, '		$ret[''data''] = $common && $blockallow;', -1, '', '', '', 0, ''),
(3308, '/source/function/function_core.php', 5, 2023, -3, -3, '		$ret[''layout''] = $common && ($_G[''group''][''allowdiy''] || (', -1, '', '', '', 0, ''),
(3309, '/source/function/function_core.php', 5, 2024, -3, -3, '				CURMODULE === ''topic'' && ($_G[''group''][''allowmanagetopic''] || $_G[''group''][''allowaddtopic''] && $topic && $topic[''uid''] == $_G[''uid''])', -1, '', '', '', 0, ''),
(3310, '/source/function/function_core.php', 5, 2025, -3, -3, '				));', -1, '', '', '', 0, ''),
(3311, '/source/function/function_core.php', 5, 2026, -3, -3, '	}', -1, '', '', '', 0, ''),
(3312, '/source/function/function_core.php', 5, 2027, -3, -3, '	return empty($flag) ? $ret[''data''] || $ret[''layout''] : $ret[$flag];', -1, '', '', '', 0, ''),
(3313, '/source/function/function_core.php', 5, 2028, -3, -3, '}', -1, '', '', '', 0, ''),
(3314, '/source/function/function_core.php', 5, 2029, -3, -3, '', -1, '', '', '', 0, ''),
(3315, '/source/function/function_core.php', 5, 2030, -3, -3, 'function strhash($string, $operation = ''DECODE'', $key = '''') {', -1, '', '', '', 0, ''),
(3316, '/source/function/function_core.php', 5, 2031, -3, -3, '	$key = md5($key != '''' ? $key : getglobal(''authkey''));', -1, '', '', '', 0, ''),
(3317, '/source/function/function_core.php', 5, 2032, -3, -3, '	if($operation == ''DECODE'') {', -1, '', '', '', 0, ''),
(3318, '/source/function/function_core.php', 5, 2033, -3, -3, '		$hashcode = gzuncompress(base64_decode(($string)));', -1, '', '', '', 0, ''),
(3319, '/source/function/function_core.php', 5, 2034, -3, -3, '		$string = substr($hashcode, 0, -16);', -1, '', '', '', 0, ''),
(3320, '/source/function/function_core.php', 5, 2035, -3, -3, '		$hash = substr($hashcode, -16);', -1, '', '', '', 0, ''),
(3321, '/source/function/function_core.php', 5, 2036, -3, -3, '		unset($hashcode);', -1, '', '', '', 0, ''),
(3322, '/source/function/function_core.php', 5, 2037, -3, -3, '	}', -1, '', '', '', 0, ''),
(3323, '/source/function/function_core.php', 5, 2038, -3, -3, '', -1, '', '', '', 0, ''),
(3324, '/source/function/function_core.php', 5, 2039, -3, -3, '	$vkey = substr(md5($string.substr($key, 0, 16)), 4, 8).substr(md5($string.substr($key, 16, 16)), 18, 8);', -1, '', '', '', 0, ''),
(3325, '/source/function/function_core.php', 5, 2040, -3, -3, '', -1, '', '', '', 0, ''),
(3326, '/source/function/function_core.php', 5, 2041, -3, -3, '	if($operation == ''DECODE'') {', -1, '', '', '', 0, ''),
(3327, '/source/function/function_core.php', 5, 2042, -3, -3, '		return $hash == $vkey ? $string : '''';', -1, '', '', '', 0, ''),
(3328, '/source/function/function_core.php', 5, 2043, -3, -3, '	}', -1, '', '', '', 0, ''),
(3329, '/source/function/function_core.php', 5, 2044, -3, -3, '', -1, '', '', '', 0, ''),
(3330, '/source/function/function_core.php', 5, 2045, -3, -3, '	return base64_encode(gzcompress($string.$vkey));', -1, '', '', '', 0, ''),
(3331, '/source/function/function_core.php', 5, 2046, -3, -3, '}', -1, '', '', '', 0, ''),
(3332, '/source/function/function_core.php', 5, 2047, -3, -3, '', -1, '', '', '', 0, ''),
(3333, '/source/function/function_core.php', 5, 2048, -3, -3, 'function dunserialize($data) {', -1, '', '', '', 0, ''),
(3334, '/source/function/function_core.php', 5, 2049, -3, -3, '	if(($ret = unserialize($data)) === false) {', -1, '', '', '', 0, ''),
(3335, '/source/function/function_core.php', 5, 2050, -3, -3, '		$ret = unserialize(stripslashes($data));', -1, '', '', '', 0, ''),
(3336, '/source/function/function_core.php', 5, 2051, -3, -3, '	}', -1, '', '', '', 0, ''),
(3337, '/source/function/function_core.php', 5, 2052, -3, -3, '	return $ret;', -1, '', '', '', 0, ''),
(3338, '/source/function/function_core.php', 5, 2053, -3, -3, '}', -1, '', '', '', 0, ''),
(3339, '/source/function/function_core.php', 5, 2054, -3, -3, '', -1, '', '', '', 0, ''),
(3340, '/source/function/function_core.php', 5, 2055, -3, -3, 'function browserversion($type) {', -1, '', '', '', 0, ''),
(3341, '/source/function/function_core.php', 5, 2056, -3, -3, '	static $return = array();', -1, '', '', '', 0, ''),
(3342, '/source/function/function_core.php', 5, 2057, -3, -3, '	static $types = array(''ie'' => ''msie'', ''firefox'' => '''', ''chrome'' => '''', ''opera'' => '''', ''safari'' => '''', ''mozilla'' => '''', ''webkit'' => '''', ''maxthon'' => '''', ''qq'' => ''qqbrowser'');', -1, '', '', '', 0, ''),
(3343, '/source/function/function_core.php', 5, 2058, -3, -3, '	if(!$return) {', -1, '', '', '', 0, ''),
(3344, '/source/function/function_core.php', 5, 2059, -3, -3, '		$useragent = strtolower($_SERVER[''HTTP_USER_AGENT'']);', -1, '', '', '', 0, ''),
(3345, '/source/function/function_core.php', 5, 2060, -3, -3, '		$other = 1;', -1, '', '', '', 0, ''),
(3346, '/source/function/function_core.php', 5, 2061, -3, -3, '		foreach($types as $i => $v) {', -1, '', '', '', 0, ''),
(3347, '/source/function/function_core.php', 5, 2062, -3, -3, '			$v = $v ? $v : $i;', -1, '', '', '', 0, ''),
(3348, '/source/function/function_core.php', 5, 2063, -3, -3, '			if(strpos($useragent, $v) !== false) {', -1, '', '', '', 0, ''),
(3349, '/source/function/function_core.php', 5, 2064, -3, -3, '				preg_match(''/''.$v.''(\\/|\\s)([\\d\\.]+)/i'', $useragent, $matches);', -1, '', '', '', 0, ''),
(3350, '/source/function/function_core.php', 5, 2065, -3, -3, '				$ver = $matches[2];', -1, '', '', '', 0, ''),
(3351, '/source/function/function_core.php', 5, 2066, -3, -3, '				$other = $ver !== 0 && $v != ''mozilla'' ? 0 : $other;', -1, '', '', '', 0, ''),
(3352, '/source/function/function_core.php', 5, 2067, -3, -3, '			} else {', -1, '', '', '', 0, ''),
(3353, '/source/function/function_core.php', 5, 2068, -3, -3, '				$ver = 0;', -1, '', '', '', 0, ''),
(3354, '/source/function/function_core.php', 5, 2069, -3, -3, '			}', -1, '', '', '', 0, ''),
(3355, '/source/function/function_core.php', 5, 2070, -3, -3, '			$return[$i] = $ver;', -1, '', '', '', 0, ''),
(3356, '/source/function/function_core.php', 5, 2071, -3, -3, '		}', -1, '', '', '', 0, ''),
(3357, '/source/function/function_core.php', 5, 2072, -3, -3, '		$return[''other''] = $other;', -1, '', '', '', 0, ''),
(3358, '/source/function/function_core.php', 5, 2073, -3, -3, '	}', -1, '', '', '', 0, ''),
(3359, '/source/function/function_core.php', 5, 2074, -3, -3, '	return $return[$type];', -1, '', '', '', 0, ''),
(3360, '/source/function/function_core.php', 5, 2075, -3, -3, '}', -1, '', '', '', 0, ''),
(3361, '/source/function/function_core.php', 5, 2076, -3, -3, '', -1, '', '', '', 0, ''),
(3362, '/source/function/function_core.php', 5, 2077, -3, -3, 'function currentlang() {', -1, '', '', '', 0, ''),
(3363, '/source/function/function_core.php', 5, 2078, -3, -3, '	$charset = strtoupper(CHARSET);', -1, '', '', '', 0, ''),
(3364, '/source/function/function_core.php', 5, 2079, -3, -3, '	if($charset == ''GBK'') {', -1, '', '', '', 0, ''),
(3365, '/source/function/function_core.php', 5, 2080, -3, -3, '		return ''SC_GBK'';', -1, '', '', '', 0, ''),
(3366, '/source/function/function_core.php', 5, 2081, -3, -3, '	} elseif($charset == ''BIG5'') {', -1, '', '', '', 0, ''),
(3367, '/source/function/function_core.php', 5, 2082, -3, -3, '		return ''TC_BIG5'';', -1, '', '', '', 0, ''),
(3368, '/source/function/function_core.php', 5, 2083, -3, -3, '	} elseif($charset == ''UTF-8'') {', -1, '', '', '', 0, ''),
(3369, '/source/function/function_core.php', 5, 2084, -3, -3, '		global $_G;', -1, '', '', '', 0, ''),
(3370, '/source/function/function_core.php', 5, 2085, -3, -3, '		if($_G[''config''][''output''][''language''] == ''zh_cn'') {', -1, '', '', '', 0, ''),
(3371, '/source/function/function_core.php', 5, 2086, -3, -3, '			return ''SC_UTF8'';', -1, '', '', '', 0, ''),
(3372, '/source/function/function_core.php', 5, 2087, -3, -3, '		} elseif ($_G[''config''][''output''][''language''] == ''zh_tw'') {', -1, '', '', '', 0, ''),
(3373, '/source/function/function_core.php', 5, 2088, -3, -3, '			return ''TC_UTF8'';', -1, '', '', '', 0, ''),
(3374, '/source/function/function_core.php', 5, 2089, -3, -3, '		}', -1, '', '', '', 0, ''),
(3375, '/source/function/function_core.php', 5, 2090, -3, -3, '	} else {', -1, '', '', '', 0, ''),
(3376, '/source/function/function_core.php', 5, 2091, -3, -3, '		return '''';', -1, '', '', '', 0, ''),
(3377, '/source/function/function_core.php', 5, 2092, -3, -3, '	}', -1, '', '', '', 0, ''),
(3378, '/source/function/function_core.php', 5, 2093, -3, -3, '}', -1, '', '', '', 0, ''),
(3379, '/source/function/function_core.php', 5, 2094, -3, -3, '', -1, '', '', '', 0, ''),
(3380, '/source/function/function_core.php', 5, 2095, -3, -3, '', -1, '', '', '', 0, ''),
(3381, '/source/function/function_core.php', 5, 2096, -3, -3, '?>', -1, '', '', '', 0, '');

-- --------------------------------------------------------

--
-- 表的结构 `role`
--

CREATE TABLE IF NOT EXISTS `role` (
  `id` int(11) NOT NULL auto_increment,
  `role` text character set utf8 NOT NULL,
  `describe` text character set utf8 NOT NULL,
  `level` int(11) NOT NULL,
  `remark` text character set utf8 NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5 ;

--
-- 转存表中的数据 `role`
--

INSERT INTO `role` (`id`, `role`, `describe`, `level`, `remark`) VALUES
(1, 'guest', '访客', 1, '访客'),
(2, 'drive', '权限切换点', 2, '如果没有权限切换点直接进入高级别权限，则存在越权漏洞。'),
(4, 'admin', '管理员', 3, '管理员');

-- --------------------------------------------------------

--
-- 表的结构 `variables`
--

CREATE TABLE IF NOT EXISTS `variables` (
  `id` int(11) NOT NULL auto_increment,
  `variable` text character set utf8 NOT NULL,
  `value` text character set utf8 NOT NULL,
  `use` int(11) NOT NULL,
  `from` int(11) NOT NULL COMMENT '0代表用户，1代表数据库',
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=6 ;

--
-- 转存表中的数据 `variables`
--

INSERT INTO `variables` (`id`, `variable`, `value`, `use`, `from`) VALUES
(1, '$_ENV[''domain'']', 'NULL', 1, -1),
(2, '$url', 'NULL', 1, -1),
(3, '$_ENV[''curapp'']', 'forum', 1, -1),
(4, '$_config', 'NULL', 1, -1),
(5, './data/install.loc', 'NULL', 1, -1);
